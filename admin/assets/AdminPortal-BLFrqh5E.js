import{a as i,h as H,_ as F,b as ae,j as t,q as Be}from"./createTheme-Lrk4C8F8.js";import{g as ie,b as le,s as n,P as ye,d as se,e as we,f as G,h as ce,T as Fe,B as l,r as Te,c as Me,u as Ae,A as v,H as B,i as Z}from"./App-C2VBKSM4.js";import{M as Ee}from"./Meta-C-ZvWygx.js";import{b as Ie,M as Re,u as Le,F as Pe,S as Ue,c as ze,T as b,d as He,e as We,f as $e,g as Oe,h as _e,i as Ne,j as ne,k as Ge,l as Ke,m as pe,n as qe,o as Ve,p as Ye,q as Xe,r as Ze,B as T,H as Je,D as Qe,s as et,t as tt,v as ot,A as nt,w as rt}from"./index-CbvcJFcX.js";import{A as at}from"./index-DINAr7-m.js";import{I as J,a as P,L as it}from"./auth.services-Bfhffa-q.js";import{S as De,T as lt,a as st}from"./index-B58WAwlb.js";import"./index.esm-BDB1_HUA.js";import"./index-Bi_kIbxn.js";import"./dividerClasses-jAo3dBpL.js";function ct(e){return le("MuiDialog",e)}const re=ie("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Se=i.createContext({}),dt=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],ut=n(Ie,{name:"MuiDialog",slot:"Backdrop",overrides:(e,o)=>o.backdrop})({zIndex:-1}),gt=e=>{const{classes:o,scroll:r,maxWidth:a,fullWidth:s,fullScreen:g}=e,d={root:["root"],container:["container",`scroll${H(r)}`],paper:["paper",`paperScroll${H(r)}`,`paperWidth${H(String(a))}`,s&&"paperFullWidth",g&&"paperFullScreen"]};return ce(d,ct,o)},xt=n(Re,{name:"MuiDialog",slot:"Root",overridesResolver:(e,o)=>o.root})({"@media print":{position:"absolute !important"}}),pt=n("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.container,o[`scroll${H(r.scroll)}`]]}})(({ownerState:e})=>F({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),ht=n(ye,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.paper,o[`scrollPaper${H(r.scroll)}`],o[`paperWidth${H(String(r.maxWidth))}`],r.fullWidth&&o.paperFullWidth,r.fullScreen&&o.paperFullScreen]}})(({theme:e,ownerState:o})=>F({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},o.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},o.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!o.maxWidth&&{maxWidth:"calc(100% - 64px)"},o.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${re.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.maxWidth&&o.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[o.maxWidth]}${e.breakpoints.unit}`,[`&.${re.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[o.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.fullWidth&&{width:"calc(100% - 64px)"},o.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${re.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),K=i.forwardRef(function(o,r){const a=se({props:o,name:"MuiDialog"}),s=Le(),g={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":d,"aria-labelledby":u,BackdropComponent:x,BackdropProps:p,children:y,className:j,disableEscapeKeyDown:f=!1,fullScreen:w=!1,fullWidth:k=!1,maxWidth:C="sm",onBackdropClick:m,onClick:E,onClose:I,open:V,PaperComponent:R=ye,PaperProps:Y={},scroll:W="paper",TransitionComponent:ee=Pe,transitionDuration:L=g,TransitionProps:U}=a,$=ae(a,dt),z=F({},a,{disableEscapeKeyDown:f,fullScreen:w,fullWidth:k,maxWidth:C,scroll:W}),O=gt(z),_=i.useRef(),te=M=>{_.current=M.target===M.currentTarget},X=M=>{E&&E(M),_.current&&(_.current=null,m&&m(M),I&&I(M,"backdropClick"))},N=we(u),oe=i.useMemo(()=>({titleId:N}),[N]);return t.jsx(xt,F({className:G(O.root,j),closeAfterTransition:!0,components:{Backdrop:ut},componentsProps:{backdrop:F({transitionDuration:L,as:x},p)},disableEscapeKeyDown:f,onClose:I,open:V,ref:r,onClick:X,ownerState:z},$,{children:t.jsx(ee,F({appear:!0,in:V,timeout:L,role:"presentation"},U,{children:t.jsx(pt,{className:G(O.container),onMouseDown:te,ownerState:z,children:t.jsx(ht,F({as:R,elevation:24,role:"dialog","aria-describedby":d,"aria-labelledby":N},Y,{className:G(O.paper,Y.className),ownerState:z,children:t.jsx(Se.Provider,{value:oe,children:y})}))})}))}))});function ft(e){return le("MuiDialogContent",e)}ie("MuiDialogContent",["root","dividers"]);function mt(e){return le("MuiDialogTitle",e)}const Ct=ie("MuiDialogTitle",["root"]),bt=["className","dividers"],yt=e=>{const{classes:o,dividers:r}=e;return ce({root:["root",r&&"dividers"]},ft,o)},Dt=n("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,r.dividers&&o.dividers]}})(({theme:e,ownerState:o})=>F({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},o.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Ct.root} + &`]:{paddingTop:0}})),de=i.forwardRef(function(o,r){const a=se({props:o,name:"MuiDialogContent"}),{className:s,dividers:g=!1}=a,d=ae(a,bt),u=F({},a,{dividers:g}),x=yt(u);return t.jsx(Dt,F({className:G(x.root,s),ownerState:u,ref:r},d))}),St=["className","id"],jt=e=>{const{classes:o}=e;return ce({root:["root"]},mt,o)},kt=n(Fe,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,o)=>o.root})({padding:"16px 24px",flex:"0 0 auto"}),q=i.forwardRef(function(o,r){const a=se({props:o,name:"MuiDialogTitle"}),{className:s,id:g}=a,d=ae(a,St),u=a,x=jt(u),{titleId:p=g}=i.useContext(Se);return t.jsx(kt,F({component:"h2",className:G(x.root,s),ownerState:u,ref:r,variant:"h6",id:g??p},d))}),vt="data:image/svg+xml,%3csvg%20width='25'%20height='22'%20viewBox='0%200%2025%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.9888%2021.2225C10.9159%2021.2224%2010.8438%2021.2074%2010.777%2021.1781C10.7103%2021.1489%2010.6503%2021.1062%2010.6008%2021.0527L0.140368%209.7375C0.0706361%209.66206%200.0244081%209.56793%200.00734206%209.46663C-0.00972404%209.36533%200.00311193%209.26125%200.0442792%209.16713C0.0854464%209.07301%200.153159%208.99294%200.23913%208.9367C0.325101%208.88047%200.4256%208.85052%200.528328%208.85052H5.56341C5.63901%208.85053%205.71373%208.86675%205.78252%208.8981C5.85132%208.92944%205.91259%208.97518%205.9622%209.03221L9.45813%2013.0542C9.83594%2012.2465%2010.5673%2010.9018%2011.8508%209.2632C13.7481%206.84076%2017.2773%203.27811%2023.3154%200.0620004C23.4321%20-0.000147173%2023.5679%20-0.0162769%2023.6959%200.0167963C23.8239%200.0498695%2023.9349%200.129741%2024.0069%200.240641C24.0789%200.35154%2024.1067%200.485404%2024.0848%200.615802C24.0629%200.746199%2023.9929%200.86365%2023.8887%200.944963C23.8656%200.962979%2021.5376%202.79632%2018.8582%206.1544C16.3924%209.24466%2013.1145%2014.2977%2011.5015%2020.8211C11.4731%2020.9357%2011.4072%2021.0375%2011.3143%2021.1103C11.2213%2021.1831%2011.1067%2021.2227%2010.9886%2021.2227L10.9888%2021.2225Z'%20fill='%23155D74'/%3e%3c/svg%3e",Bt={icon_check:vt};function je(e){const[o,r]=i.useState(e.checked||!1);i.useEffect(()=>{r(e.checked||!1)},[e.checked]);const a=()=>{const s=!o;r(s),e.onChange&&e.onChange(s)};return t.jsxs(Ue,{children:[e.label&&t.jsx(ze,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontSize:16,lineHeight:24,textAlign:"center",children:e.label})}),t.jsx(He,{onClick:a,ref:e.reference,children:t.jsx(We,{children:o&&t.jsx($e,{src:Bt.icon_check})})})]})}const wt=e=>{const o=new Date(e),r=o.getFullYear(),a=o.getMonth()+1,s=o.getDate();return`${a}/${s}/${r}`},Ft=e=>{const[o,r]=i.useState(e.user.isAdmin),[a,s]=i.useState(e.user.roles),[g,d]=i.useState(!1);i.useEffect(()=>{r(e.user.isAdmin),s(e.user.roles)},[e.user]),i.useEffect(()=>{g&&e.onUserChange&&(e.onUserChange({...e.user,isAdmin:o,roles:a}),d(!1))},[o,a]);const u=[{label:"None",value:"none"},{label:"Translator",value:"translator"},{label:"Publisher",value:"publisher"}],x=(j,f)=>{const w=a.map(k=>k.language===f?{...k,role:j}:k);s(w),d(!0)},p=()=>{r(!o),d(!0)},y=j=>{switch(j){case"UserName":return t.jsx(ne,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",textAlign:"left",children:e.user.username})});case"Password":return t.jsx(qe,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",children:e.user.password})});case"Actions":return t.jsx(ne,{children:t.jsxs(Ke,{children:[t.jsx(pe,{onClick:()=>{var f;return(f=e.onEditUser)==null?void 0:f.call(e,e.user)},children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",hasUnderline:!0,children:"edit"})}),t.jsx(pe,{onClick:()=>{var f;return(f=e.onDeleteUser)==null?void 0:f.call(e,e.user._id)},children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",hasUnderline:!0,children:"del"})})]})});case"isAdmin":return t.jsx(Ge,{children:t.jsx(je,{label:"",onChange:p,checked:o})});case"Last Login":return t.jsx(ne,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",hasUnderline:!0,children:e.user.lastLoggedInAt?wt(Number(e.user.lastLoggedInAt)).toString():""})});default:{const f=a.find(w=>w.language==j);return t.jsx(Ne,{children:t.jsx(De,{label:"",options:u,value:f?f.role:"none",textColor:"#155D74",onChange:w=>x(w.target.value,j)})})}}};return t.jsx(Oe,{children:e.headers.map((j,f)=>t.jsx(_e,{children:y(j)},f))})},Tt=e=>{const[o,r]=i.useState([]),[a,s]=i.useState(e.users);i.useEffect(()=>{r(e.headers)},[e.headers]),i.useEffect(()=>{s(e.users)},[e.users]);const g=x=>{const p=a.map(y=>y.username===x.username?x:y);s(p),e.onUserChange&&e.onUserChange(p)},d=()=>t.jsx(Ve,{children:t.jsx(Ye,{children:o.map((x,p)=>t.jsx(Xe,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"700",fontSize:16,lineHeight:24,textAlign:"center",color:"#155D74",children:x})},p))})}),u=()=>t.jsx(Ze,{children:a.map((x,p)=>t.jsx(Ft,{user:x,headers:o,onEditUser:e.onEditUser,onDeleteUser:e.onDeleteUser,onUserChange:g},p))});return t.jsx(lt,{children:t.jsxs(st,{children:[d(),u()]})})},Mt=n(l)({display:"flex",alignItems:"center",marginTop:"46px"}),At=n(l)({marginLeft:"9px",width:"58px",height:"58px",borderRadius:"50px",backgroundColor:"#155D74",display:"flex",alignItems:"center",justifyContent:"center","& .MuiBox-root":{transform:"translate(0, -15%)",marginTop:"15px"}});function Et(e){return t.jsxs(Mt,{children:[t.jsx(b,{fontFamily:"Buenard",fontWeight:"700",fontSize:36,lineHeight:47,textAlign:"center",color:"#155D74",children:"People"}),t.jsx(At,{children:t.jsx(b,{fontFamily:"Buenard",fontWeight:"700",fontSize:36,lineHeight:47,color:"white",children:e.userNumber.toString()})})]})}const It=n(l)({display:"flex"}),Rt=n(It)({width:"100vw",height:"100vh",alignItems:"center","& >.MuiBox-root: first-of-type":{backgroundColor:"#1B7695"}}),Lt=n(l)({height:"calc(100vh - 73px)",marginTop:"73px",padding:"0px 48px"}),Pt=n(l)({display:"flex",alignItems:"center"}),Ut=n(l)(({disable:e})=>({width:"134px",cursor:e=="true"?"not-allowed":"pointer",height:"40px",marginTop:"46px",marginLeft:"500px",backgroundColor:e=="true"?"#CAC9C9":"#FFAA5D",border:"1px solid #474747",boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",transitionDuration:".5s",color:e=="true"?"#474747":"#FFF !important","& button":{color:e=="true"?"#474747":"white !important",transitionDuration:".5s",fontSize:"14px",cursor:e=="true"?"not-allowed":"pointer","&:hover":{backgroundColor:"transparent",border:"none"}},"&:hover":{backgroundColor:e=="true"?"":"#EE994C","& button":{color:e=="true"?"":"white"}}})),zt=n(l)({marginTop:"16px",display:"flex",justifyContent:"left"}),Ht=n(l)({width:"100%",margin:"35px 0px 16px 0px"}),Wt=n(l)({display:"flex",alignItems:"center"}),he=n(l)({width:"134px",boxSizing:"border-box",backgroundColor:"#FFAA5D",padding:"5px",marginRight:"15px",border:"1px solid #474747",textAlign:"center",cursor:"pointer",transitionDuration:".5s","& button":{color:"#474747",fontSize:"14px",fontWeight:"500",lineHeight:"24px",textTransform:"none",transitionDuration:".5s","&:hover":{backgroundColor:"transparent",border:"none"}},"&:hover":{backgroundColor:"#EE994C","& button":{color:"white"}}}),$t=n(l)({backgroundColor:"#FF0505",padding:"5px",border:"1px solid #474747",transitionDuration:".5s",textAlign:"center",cursor:"pointer","&:hover":{backgroundColor:"#EE0404",color:"#474747"},"& button":{color:"white !important",fontSize:"14px",fontFamily:'"Baloo Da 2" !important',textTransform:"none",fontWeight:"500 !important",lineHeight:"24px !important","&:hover":{backgroundColor:"transparent",color:"#EEEEEE !important"}}});n(l)({display:"flex",flexDirection:"column",boxSizing:"border-box","& >.MuiBox-root: first-of-type":{backgroundColor:"#2D87A4"}});const Ot=n(K)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),_t=n(q)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),Nt=n(de)({backgroundColor:"#155D74",padding:"12px","& >.MuiBox-root: nth-of-type(3)":{"& >.MuiBox-root: nth-of-type(2)":{"& >.MuiBox-root":{marginLeft:"12px"}}}});n(l)({backgroundColor:"#155D74"});const fe=n(l)({display:"flex",justifyContent:"center",alignItems:"center","& > .MuiBox-root":{padding:"8px",paddingRight:"0px"},"& .MuiInputBase-input":{padding:"5px !important"}}),Gt=n(l)({display:"flex",justifyContent:"left",alignItems:"center",marginTop:"8px",paddingLeft:"8px","& input":{border:"1px solid blue"},"& .MuiCheckbox-root":{borderColor:"white",backgroundColor:"white",width:"32px",height:"32px",boxSizing:"border-box"},"& .MuiSvgIcon-root":{fontSize:"45px",color:"white"}}),Kt=n(l)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"63%",float:"right",marginTop:"16px","& > .MuiBox-root: last-child":{marginRight:"0px"}}),me=n(l)({display:"flex",alignItems:"center","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}});function qt(e){const[o,r]=i.useState(""),[a,s]=i.useState(""),[g,d]=i.useState(!1);i.useEffect(()=>{var C,m,E;e.user?(r(((C=e.user)==null?void 0:C.username)||""),s(((m=e.user)==null?void 0:m.password)||""),d(((E=e.user)==null?void 0:E.isAdmin)||!1)):(r(""),s(""),d(!1))},[e.user,e.isOpen]);const u=i.useRef(null),x=i.useRef(null),p=i.useRef(null),y=C=>{var m;C.key==="Enter"&&(C.preventDefault(),(m=u.current)==null||m.focus())},j=C=>{var m;C.key==="Enter"&&(C.preventDefault(),(m=x.current)==null||m.focus())},f=C=>{var m;C.key==="Enter"&&(C.preventDefault(),(m=p.current)==null||m.click())},w=()=>{o.trim()&&(!e.user&&!a.trim()||e.onSave(o,a,g))},k=()=>{r(""),s(""),d(!1),e.onCancel()};return t.jsxs(Ot,{open:e.isOpen,onClose:k,children:[t.jsx(_t,{children:"Person"}),t.jsxs(Nt,{children:[t.jsxs(fe,{children:[t.jsx(b,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",children:"Username:"}),t.jsx(J,{value:o,onKeyDown:y,onChange:C=>r(C.target.value)})]}),t.jsxs(fe,{children:[t.jsx(b,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",children:"Password:"}),t.jsx(J,{value:a,type:"password",reference:u,onKeyDown:j,onChange:C=>s(C.target.value)})]}),t.jsxs(Gt,{children:[t.jsx(b,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",children:"Is Admin:"}),t.jsx(je,{checked:g,label:"",reference:x,onKeyDown:f,onChange:()=>d(!g)})]}),t.jsxs(Kt,{children:[t.jsx(me,{children:t.jsx(T,{label:"Cancel",onClick:k})}),t.jsx(me,{children:t.jsx(T,{label:"Save",onClick:w,reference:p})})]})]})]})}var ue={},Vt=Be;Object.defineProperty(ue,"__esModule",{value:!0});var Q=ue.default=void 0,Yt=Vt(Te()),Ce=t;Q=ue.default=(0,Yt.default)([(0,Ce.jsx)("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22z"},"0"),(0,Ce.jsx)("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")],"WarningAmber");const Xt=n(K)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),Zt=n(q)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),Jt=n(l)({width:"276px",padding:"17px",backgroundColor:"#155D74",boxSizing:"border-box"}),Qt=n(l)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),eo=n(l)({display:"flex",justifyContent:"center"}),to=n(l)({width:"100%"}),oo=n(l)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",float:"right",marginTop:"16px","& > .MuiBox-root: last-child":{marginRight:"0px"}}),no=n(l)({display:"flex",alignItems:"center",width:"72px",boxSizing:"border-box","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}}),ro=n(l)({display:"flex",alignItems:"center",width:"134px","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:"#FFFFFF !important"}}});function ao(e){const o=()=>{e.onDelete()},r=()=>{e.onCancel()};return t.jsxs(Xt,{open:e.isOpen,onClose:r,children:[t.jsx(Zt,{children:e.title}),t.jsxs(Jt,{children:[t.jsxs(Qt,{children:[t.jsx(eo,{children:t.jsx(Q,{})}),t.jsx(to,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,textAlign:"center",children:e.content})})]}),t.jsxs(oo,{children:[t.jsx(no,{children:t.jsx(T,{label:"Cancel",onClick:r})}),t.jsx(ro,{children:t.jsx(T,{label:"Delete",onClick:o})})]})]})]})}const io=n(K)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),lo=n(q)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),so=n(de)({backgroundColor:"#155D74",padding:"17px",width:"276px",height:"177px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),co=n(l)({width:"100%"});n(l)({backgroundColor:"#155D74"});const uo=n(l)({display:"flex",justifyContent:"center",alignItems:"center","& > .MuiBox-root":{padding:"8px",paddingRight:"0px"},"& .MuiInputBase-input":{padding:"5px !important"}});n(l)({display:"flex",justifyContent:"left",alignItems:"center",marginTop:"8px",paddingLeft:"8px","& .MuiFormControlLabel-root":{marginLeft:"20px"},"& input":{border:"1px solid blue"},"& .MuiCheckbox-root":{borderColor:"white",backgroundColor:"white",width:"32px",height:"32px",boxSizing:"border-box"},"& .MuiSvgIcon-root":{fontSize:"45px",color:"white"}});const go=n(l)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",float:"right",marginTop:"16px","& > .MuiBox-root: last-child":{marginRight:"0px"}}),xo=n(l)({display:"flex",alignItems:"center","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}}),po=n(l)(({isdisable:e})=>({display:"flex",alignItems:"center",width:"134px",cursor:e=="true"?"not-allowed":"pointer","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:e=="true"?"#B6B0B0 !important":"#FFFFFF !important"}}}));function ho(e){const[o,r]=i.useState(""),[a,s]=i.useState(!0);i.useEffect(()=>{o=="DELETE"?s(!1):s(!0)},[o]);const g=i.useRef(null),d=p=>{var y;p.key==="Enter"&&(p.preventDefault(),(y=g.current)==null||y.click())},u=()=>{r(""),e.onConfirm()},x=()=>{r(""),e.onCancel()};return t.jsxs(io,{open:e.isOpen,onClose:x,children:[t.jsx(lo,{children:"Confirmation needed"}),t.jsxs(so,{children:[t.jsx(co,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontSize:16,lineHeight:24,textAlign:"center",children:'Type "DELETE" to confirm: '})}),t.jsx(uo,{children:t.jsx(J,{value:o,onKeyDown:d,onChange:p=>r(p.target.value)})}),t.jsxs(go,{children:[t.jsx(xo,{children:t.jsx(T,{label:"Cancel",onClick:x})}),t.jsx(po,{isdisable:a?"true":"false",children:t.jsx(T,{label:"Delete forever",onClick:u,reference:g,disabled:a})})]})]})]})}const fo=n(K)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"},"& .MuiDialogContent-root > .MuiBox-root:first-of-type":{width:"100%"},"& .MuiDialogContent-root > .MuiBox-root:nth-of-type(2)":{alignSelf:"end",marginTop:"10px","& svg":{marginRight:"10px"}}}),mo=n(q)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),Co=n(de)({backgroundColor:"#155D74",padding:"17px",width:"276px",height:"177px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"});n(l)({width:"100%"});n(l)({backgroundColor:"#155D74"});const bo=n(l)({display:"flex",justifyContent:"center",alignItems:"center","& > .MuiBox-root":{padding:"8px",paddingRight:"0px"},"& .MuiInputBase-input":{padding:"5px !important"}}),yo=n(l)({display:"flex",alignItems:"center"});n(l)({display:"flex",justifyContent:"left",alignItems:"center",marginTop:"8px",paddingLeft:"8px","& .MuiFormControlLabel-root":{marginLeft:"20px"},"& input":{border:"1px solid blue"},"& .MuiCheckbox-root":{borderColor:"white",backgroundColor:"white",width:"32px",height:"32px",boxSizing:"border-box"},"& .MuiSvgIcon-root":{fontSize:"45px",color:"white"}});const Do=n(l)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"67%",float:"right",marginTop:"16px",alignSelf:"end","& > .MuiBox-root: last-child":{marginRight:"0px"}}),be=n(l)(({isvalidate:e})=>({display:"flex",alignItems:"center",width:"72px",cursor:e=="false"?"not-allowed":"pointer","& :hover":{backgroundColor:"#F6CFAC"},"& button":{width:"100%",backgroundColor:e=="true"?"#FFAA5D":"#F6CFAC",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:e=="false"?"#989494 !important":"#474747 !important"}}}));n(l)(({isdisable:e})=>({display:"flex",alignItems:"center",width:"134px",cursor:e=="true"?"not-allowed":"pointer","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:e=="true"?"#B6B0B0 !important":"#FFFFFF !important"}}}));function So(e){const[o,r]=i.useState(""),[a,s]=i.useState(!0);i.useEffect(()=>{e.languages.includes(o)?s(!1):s(!0)},[e.languages,e.isOpen,o]);const g=i.useRef(null),d=p=>{var y;p.key==="Enter"&&(p.preventDefault(),(y=g.current)==null||y.click())},u=()=>{r(""),e.onConfirm(o)},x=()=>{r(""),e.onCancel()};return t.jsxs(fo,{open:e.isOpen,onClose:x,children:[t.jsx(mo,{children:"Language"}),t.jsxs(Co,{children:[t.jsx(bo,{children:t.jsx(J,{label:"Language:",value:o,onKeyDown:d,onChange:p=>r(p.target.value)})}),!a&&t.jsxs(yo,{children:[t.jsx(Q,{}),t.jsx(b,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",color:"white",children:"Already exists"})]}),t.jsxs(Do,{children:[t.jsx(be,{isvalidate:"true",children:t.jsx(T,{label:"Cancel",onClick:x})}),t.jsx(be,{isvalidate:a&&o!=""?"true":"false",children:t.jsx(T,{label:"Save",onClick:u,reference:g,disabled:!a})})]})]})]})}const jo=n(K)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),ko=n(q)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),vo=n(l)({width:"284px",height:"245px",padding:"17px",backgroundColor:"#155D74",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"space-around","& .MuiInputBase-root":{backgroundColor:"white",border:"1px solid black","& .MuiSelect-select":{color:"black"}},"& .MuiMenuItem-root":{backgroundColor:"white"}}),Bo=n(l)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),wo=n(l)({display:"flex",justifyContent:"space-between",alignItems:"center","& .MuiFormControl-root":{width:"178px",alignItems:"self-end","& .MuiInputBase-root":{width:"100%"}}}),Fo=n(l)({}),To=n(l)({display:"flex",justifyContent:"center"}),Mo=n(l)({width:"100%"}),Ao=n(l)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",float:"right","& > .MuiBox-root: last-child":{marginRight:"0px"}}),Eo=n(l)({display:"flex",alignItems:"center",width:"72px",boxSizing:"border-box","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}}),Io=n(l)({display:"flex",alignItems:"center",width:"134px","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:"#FFFFFF !important"}}});function Ro(e){const[o,r]=i.useState([]),[a,s]=i.useState("");i.useEffect(()=>{r(()=>e.roles.map(u=>({label:u.language,value:u.language}))),e.isOpen&&e.roles.length>0&&s(e.roles[0].language)},[e.roles,e.isOpen]);const g=()=>{a&&e.onDelete(a)},d=()=>{r([]),s(""),e.onCancel()};return t.jsxs(jo,{open:e.isOpen,onClose:d,children:[t.jsx(ko,{children:e.title}),t.jsxs(vo,{children:[t.jsxs(Bo,{children:[t.jsx(To,{children:t.jsx(Q,{})}),t.jsx(Mo,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,textAlign:"center",children:e.content})})]}),t.jsxs(wo,{children:[t.jsx(Fo,{children:t.jsx(b,{fontSize:16,lineHeight:24,fontFamily:'"Baloo Da 2"',fontWeight:"400",children:"Delete: "})}),t.jsx(De,{label:"",options:o,value:a,onChange:u=>s(u.target.value)})]}),t.jsxs(Ao,{children:[t.jsx(Eo,{children:t.jsx(T,{label:"Cancel",onClick:d})}),t.jsx(Io,{children:t.jsx(T,{label:"Delete",onClick:g})})]})]})]})}function Lo(e){const[o,r]=i.useState(!1),[a,s]=i.useState([]),[g,d]=i.useState(!1),[u,x]=i.useState(),[p,y]=i.useState(""),[j,f]=i.useState(!1),[w,k]=i.useState(""),[C,m]=i.useState(!1),[E,I]=i.useState(!1),[V,R]=i.useState(!1),[Y,W]=i.useState(!1),[ee,L]=i.useState(!1),[U,$]=i.useState(["UserName","Password","isAdmin","Actions","Last Login"]),z=Ae();i.useEffect(()=>{O()},[]);const O=i.useCallback(async()=>{r(!0);const c=["UserName","Password","isAdmin","Actions","Last Login"];P.fetchUsers().then(h=>{h.forEach(D=>{D.roles.map(S=>{!c.includes(S.language)&&c.push(S.language)})}),$(c),s(h)}).catch(h=>{v.error(h,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,hideProgressBar:!1,autoClose:3e3})}).finally(()=>{r(!1)}),r(!1)},[]),_=()=>{localStorage.removeItem(at),z("/admin")},te=(c,h,D)=>{const S={username:c,password:h,isAdmin:D};r(!0),P.saveUser(S).then(A=>{s([...a,A]),v.success(nt,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),m(!1)}).catch(A=>{v.error(A,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),r(!1)},X=(c,h=!1)=>{if(h)r(!0),P.deleteUser(c).then(()=>{const D=a.filter(S=>S._id!==c);s(D),v.success(rt,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}).catch(D=>{v.error(D,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})});else{I(!0),f(!0),y(c);return}R(!1),f(!1),r(!1)},N=c=>{x(c),m(!0)},oe=(c,h,D)=>{if(!u)return;r(!0);const S={id:u._id,username:c,password:h,isAdmin:D,roles:u.roles};P.updateUser(S).then(A=>{const ve=a.map(xe=>xe._id==A._id?A:xe);s(ve),v.success("User updated successfully",{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),m(!1),x(void 0)}).catch(A=>{v.error(A,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),r(!1)},M=c=>{W(!1),a.map(h=>{h.roles.push({language:c,role:"none"})}),r(!0),P.addLanguage(c).then(h=>{s(h),$([...U,c]),v.success("Updated successfully",{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}).catch(h=>{v.error(h,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),r(!1)},ge=(c,h=!1)=>{if(!h)k(c),L(!0);else{r(!0);const D=U.filter(S=>S!==w);$(D),P.deleteLanguage(c).then(S=>{s(S),v.success(`Language "${c}" deleted successfully`,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}).catch(S=>{v.error(S,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),r(!1),R(!1),L(!1),k("")}},ke=()=>{r(!0),d(!0),P.updateUsers(a).then(()=>{v.success("Updated successfully",{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}).catch(c=>{v.error(c,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),d(!1),r(!1)};return t.jsxs(t.Fragment,{children:[t.jsx(Ee,{title:"Admin Portal"}),t.jsxs(Rt,{children:[t.jsx(Je,{header:"Admin Portal",isLoggedIn:!0,username:e.currentUser.username,onLogOut:_}),t.jsxs(Lt,{children:[t.jsxs(Pt,{children:[t.jsx(Et,{userNumber:a.length||0}),t.jsx(Ut,{disable:g?"false":"true",children:t.jsx(Z,{onClick:ke,disabled:!g,children:"Save"})})]}),t.jsx(zt,{children:t.jsx(Tt,{headers:U,users:a,onEditUser:N,onDeleteUser:X,onUserChange:c=>{d(!0),s(c)}})}),t.jsx(Ht,{children:t.jsx(b,{color:"#155D74",fontFamily:"Buenard",fontSize:36,fontWeight:"700",lineHeight:47,children:"Admin"})}),t.jsxs(Wt,{children:[t.jsx(he,{children:t.jsx(Z,{onClick:()=>m(!0),children:"New Person"})}),t.jsx(he,{children:t.jsx(Z,{onClick:()=>W(!0),children:"New Language"})}),t.jsx($t,{children:t.jsx(Z,{onClick:()=>ge("miguel"),children:"Del Language..."})})]})]}),t.jsx(qt,{isOpen:C,user:u,onSave:(c,h,D)=>{u?oe(c,h,D):te(c,h,D)},onCancel:()=>{m(!1),x(void 0)}}),t.jsx(ao,{title:Qe,content:et,isOpen:E,onDelete:()=>{I(!1),R(!0)},onCancel:()=>I(!1)}),t.jsx(ho,{isOpen:V,onConfirm:()=>j?X(p,!0):ge(w,!0),onCancel:()=>{R(!1),k("")}}),t.jsx(So,{isOpen:Y,languages:U,onConfirm:c=>M(c),onCancel:()=>W(!1)}),t.jsx(Ro,{title:tt,content:ot,isOpen:ee,roles:a.length>0?a[0].roles:[],onDelete:c=>{k(c),L(!1),R(!0)},onCancel:()=>L(!1)})]}),o&&t.jsx(it,{})]})}function Po(e){return{dispatch:e}}function Uo(e){return{currentUser:e.user.currentUser}}const Vo=Me(Uo,Po)(Lo);export{Vo as default};
