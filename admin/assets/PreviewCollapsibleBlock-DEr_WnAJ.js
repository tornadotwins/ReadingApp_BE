import{a as g,j as t}from"./createTheme-C_Nmnn35.js";import{at as q,T as y,au as G,s as m,B as w,I as L,q as H}from"./App-DaaHOIBI.js";import{g as Z}from"./images-B-3euPqr.js";import"./index-CaI9eg9J.js";import{d as J,a as Q}from"./ArrowDownward-DCJs6-qH.js";import{F as X}from"./index-7HhkekAX.js";import{A as Y}from"./index-Bgjcn6g-.js";function ee(e,l=166){let a;function c(...f){const i=()=>{e.apply(this,f)};clearTimeout(a),a=setTimeout(i,l)}return c.clear=()=>{clearTimeout(a)},c}function te(e){return e&&e.ownerDocument||document}function O(e){return te(e).defaultView||window}function ne(e,l){typeof e=="function"?e(l):e&&(e.current=l)}const P=typeof window<"u"?g.useLayoutEffect:g.useEffect;function oe(...e){return g.useMemo(()=>e.every(l=>l==null)?null:l=>{e.forEach(a=>{ne(a,l)})},e)}function R(e){return parseInt(e,10)||0}const le={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function ie(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflowing}const ae=g.forwardRef(function(l,a){const{onChange:c,maxRows:f,minRows:i=1,style:v,value:p,...D}=l,{current:M}=g.useRef(p!=null),b=g.useRef(null),A=oe(a,b),n=g.useRef(null),o=g.useRef(null),r=g.useCallback(()=>{const x=b.current,u=O(x).getComputedStyle(x);if(u.width==="0px")return{outerHeightStyle:0,overflowing:!1};const h=o.current;h.style.width=u.width,h.value=x.value||l.placeholder||"x",h.value.slice(-1)===`
`&&(h.value+=" ");const I=u.boxSizing,C=R(u.paddingBottom)+R(u.paddingTop),_=R(u.borderBottomWidth)+R(u.borderTopWidth),$=h.scrollHeight;h.value="x";const U=h.scrollHeight;let j=$;i&&(j=Math.max(Number(i)*U,j)),f&&(j=Math.min(Number(f)*U,j)),j=Math.max(j,U);const K=j+(I==="border-box"?C+_:0),N=Math.abs(j-$)<=1;return{outerHeightStyle:K,overflowing:N}},[f,i,l.placeholder]),d=g.useCallback(()=>{const x=r();if(ie(x))return;const s=x.outerHeightStyle,u=b.current;n.current!==s&&(n.current=s,u.style.height=`${s}px`),u.style.overflow=x.overflowing?"hidden":""},[r]);P(()=>{const x=()=>{d()};let s;const u=ee(x),h=b.current,I=O(h);I.addEventListener("resize",u);let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(x),C.observe(h)),()=>{u.clear(),cancelAnimationFrame(s),I.removeEventListener("resize",u),C&&C.disconnect()}},[r,d]),P(()=>{d()});const S=x=>{M||d(),c&&c(x)};return t.jsxs(g.Fragment,{children:[t.jsx("textarea",{value:p,onChange:S,ref:A,rows:i,style:v,...D}),t.jsx("textarea",{"aria-hidden":!0,className:l.className,readOnly:!0,ref:o,tabIndex:-1,style:{...le.shadow,...v,paddingTop:0,paddingBottom:0}})]})});function re(e){const l=a=>{e.onKeyDown&&e.onKeyDown(a)};return t.jsxs(t.Fragment,{children:[t.jsxs(q,{children:[e.label&&t.jsx(y,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,textAlign:"center",children:e.label}),t.jsx(ae,{required:e.required,type:e.type,value:e.value,minRows:e.minLength,inputref:e.reference,placeholder:e.placeholder,onKeyDown:l,onChange:e.onChange})]}),e.error&&t.jsx(G,{children:e.error})]})}const T=m(w)({backgroundColor:"#F0F5FB",border:"1px solid #1B7695",borderRadius:"4px",padding:"10px",boxSizing:"border-box",fontFamily:"Inter",width:"100%",marginBottom:"10px"}),de=m(w)({width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px"}),se=m(w)({display:"flex",alignItems:"center"}),W=m(w)(({isdisabled:e})=>({display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",padding:"5px",border:"1px solid #155D74",borderRadius:"4px",marginLeft:"5px",opacity:e=="true"?".8":"1","&:hover":{cursor:e=="true"?"not-allowed":"pointer",backgroundColor:e=="true"?"":"#155D74","& svg":{fill:e=="true"?"":"white"},"& .MuiBox-root":{color:e=="true"?"":"white"}}})),k=m(w)({display:"flex",alignItems:"start",marginTop:"10px","@media screen and (max-width: 480px)":{"& .MuiBox-root":{fontSize:"12px !important"},flexDirection:"column"}}),B=m(w)({display:"flex",alignItems:"center",marginRight:"15px",minWidth:"100px","& .MuiBox-root":{clear:"both",display:"inline-block",overflow:"hidden",whiteSpace:"nowrap"},"& > .MuiBox-root: first-of-type":{marginRight:"5px"},"@media screen and (max-width: 480px)":{minWidth:"70px",marginRight:"5px"}}),F=m(w)(({hastextarea:e,isdisabled:l})=>({display:"flex",width:"100%",boxSizing:"border-box",border:e=="true"?"none":"1px solid #155D74",borderRadius:"4px",backgroundColor:e=="true"?"transparent":"#FFF",fontFamily:"Inter",fontSize:"16px",lineHeight:"24px",fontWeight:"500",color:"#000",outline:"none","& .MuiBox-root":{padding:"0",width:"100%","& textarea":{width:"100%",fontFamily:"Inter",fontSize:"16px",padding:"7px 10px",border:"1px solid #155D74",borderRadius:"4px"}},"& .MuiFormControl-root":{width:"100% !important",borderRadius:"4px","& .MuiInputBase-input":{fontFamily:"Inter",'&[type="text"]':{all:l=="true"&&"unset",paddingLeft:"10px",paddingRight:"10px"}},"& .MuiInputBase-root.Mui-disabled":{color:"rgba(0, 0, 0, 0.6)"}},'& input[type="file"]':{cursor:"pointer",minWidth:"50px"},"& p":{display:"none"},"@media screen and (max-width: 600px)":{flexDirection:"column"},"@media screen and (max-width: 460px)":{"& .MuiInputBase-root input":{textOverflow:"ellipsis",overflow:"hiddeon",whiteSpace:"nowrap"}}}));m(w)({margin:"20px 0px 10px 0px"});const V=m(w)({marginTop:"16px","& img":{maxWidth:"100%",maxHeight:"200px",objectFit:"contain",border:"1px solid #ccc",borderRadius:"4px"}}),ue=m(w)({display:"flex",alignItems:"center",justifyContent:"space-between",boxSizing:"border-box"}),ce=m(w)({display:"flex",alignItems:"center"}),E=m(w)(({isdisabled:e})=>({display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",border:"1px solid #155D74",borderRadius:"4px",marginRight:"5px",backgroundColor:e=="true"?"#A1A1A1":"#FFAA5D",cursor:e=="true"?"not-allowed !important":"pointer","& .MuiBox-root":{textTransform:"capitalize"},"&:hover":{cursor:"pointer",backgroundColor:e=="true"?"#A1A1A1":"#EE994C","& .MuiBox-root":{color:e=="true"?"#474747":"#FFF !important",backgroundColor:e=="true"?"#A1A1A1":"#EE994C"}}})),he=m(w)({display:"flex",flexDirection:"column",boxSizing:"border-box",marginTop:"10px"}),xe=m(w)({display:"flex",flexDirection:"column",boxSizing:"border-box",border:"1px solid #155D74",borderRadius:"4px",width:"100%",marginTop:"10px","& .MuiAccordionSummary-content .MuiBox-root":{width:"100%",wordWrap:"break-work",wordBreak:"break-word"},"& .MuiAccordionDetails-root .MuiBox-root":{marginTop:"10px",width:"100%",wordWrap:"break-work",wordBreak:"break-word"}});function z(e){return t.jsxs(de,{children:[t.jsx(y,{color:"#155D74",fontFamily:"Inter",fontSize:16,lineHeight:24,fontWeight:"500",children:e.title}),t.jsxs(se,{children:[t.jsx(W,{isdisabled:e.disableMoveUp?"true":"false",onClick:()=>e.disableMoveUp?{}:e.onMoveUp(e.blockIndex),children:t.jsx(J,{})}),t.jsx(W,{isdisabled:e.disableMoveDown?"true":"false",onClick:()=>e.disableMoveDown?{}:e.onMoveDown(e.blockIndex),children:t.jsx(Q,{})}),t.jsx(W,{isdisabled:e.disableDelete?"true":"false",onClick:()=>e.disableDelete?{}:e.onDelete(),children:t.jsx(y,{children:"Delete"})})]})]})}function ge(e){return t.jsxs(T,{children:[t.jsx(z,{title:"Title Block",blockIndex:e.blockIndex,disableDelete:e.disableDelete,disableMoveDown:e.disableMovedown,disableMoveUp:e.disableMoveUp,onDelete:e.onDelete,onMoveUp:e.onMoveUp,onMoveDown:e.onMoveDown}),t.jsxs(k,{children:[t.jsxs(B,{children:[t.jsx(y,{color:"#155D74",fontFamily:"Inter",fontSize:16,lineHeight:24,fontWeight:"500",children:e.language}),t.jsx(y,{color:"#155D74",fontFamily:"Inter",fontSize:16,lineHeight:24,fontWeight:"500",children:"Title:"})]}),t.jsx(F,{children:t.jsx(L,{type:"text",placeholder:"Enter Title",value:e.inputVal,onChange:l=>e.onInputChange(l.target.value)})})]})]})}function fe(e){return t.jsxs(T,{children:[t.jsx(z,{title:"Text Block",blockIndex:e.blockIndex,disableDelete:e.disableDelete,disableMoveDown:e.disableMovedown,disableMoveUp:e.disableMoveUp,onDelete:e.onDelete,onMoveUp:e.onMoveUp,onMoveDown:e.onMoveDown}),t.jsxs(k,{children:[t.jsxs(B,{children:[t.jsx(y,{color:"#155D74",fontFamily:"Inter",fontSize:16,lineHeight:24,fontWeight:"500",children:e.language}),t.jsx(y,{color:"#155D74",fontFamily:"Inter",fontSize:16,lineHeight:24,fontWeight:"500",children:"Text:"})]}),t.jsx(F,{hastextarea:"true",children:t.jsx(re,{placeholder:"Enter Text",value:e.inputVal,minLength:3,onChange:l=>e.onInputChange(l.target.value)})})]})]})}function be(e){const[l,a]=g.useState(e.url||""),c=f=>{var v;const i=(v=f.target.files)==null?void 0:v[0];if(i){const p=new FileReader;p.onload=D=>{var b;const M=(b=D.target)==null?void 0:b.result;a(URL.createObjectURL(i)),e.onImageInputChange(M)},p.readAsDataURL(i)}};return t.jsxs(T,{children:[t.jsx(z,{title:"Image Block",blockIndex:e.blockIndex,disableDelete:e.disableDelete,disableMoveDown:e.disableMovedown,disableMoveUp:e.disableMoveUp,onDelete:e.onDelete,onMoveUp:e.onMoveUp,onMoveDown:e.onMoveDown}),t.jsxs(k,{children:[t.jsx(B,{children:t.jsx(y,{color:"#155D74",fontFamily:"Inter",fontSize:16,lineHeight:24,fontWeight:"500",children:"Image URL:"})}),t.jsxs(F,{isdisabled:"true",children:[t.jsx(X,{type:".png, .jpg, .jpeg",onChange:c}),t.jsx(L,{value:l,placeholder:"Image URL",disable:!0,onChange:()=>{}})]})]}),t.jsxs(k,{children:[t.jsx(B,{children:t.jsx(y,{color:"#155D74",fontFamily:"Inter",fontSize:16,lineHeight:24,fontWeight:"500",children:"Alt Text:"})}),t.jsx(F,{children:t.jsx(L,{type:"text",placeholder:"Enter Alt Text",value:e.alt,onChange:f=>e.onAltInputChange(f.target.value)})})]}),l&&t.jsxs(k,{children:[t.jsx(B,{children:t.jsx(y,{color:"#155D74",fontFamily:"Inter",fontSize:16,lineHeight:24,fontWeight:"500",children:"Preview:"})}),t.jsx(V,{children:t.jsx("img",{src:l,alt:e.alt||"Selected image"})})]})]})}function Me(e){const l=Z(e.language),[a,c]=g.useState([]);g.useEffect(()=>{var r,d,S,x;const n=[],o=(r=e.value)==null?void 0:r.content;if((d=e.value)!=null&&d.title){const s={id:`title-${Date.now()}-${Math.random()}`,blockIndex:1,type:"title",value:(x=(S=e.value)==null?void 0:S.title)==null?void 0:x[l]};n.push(s)}o==null||o.map((s,u)=>{if(s.url){const h={id:`image-${Date.now()}-${Math.random()}`,blockIndex:u+2,type:"image",value:{url:s.url,alt:s.alt}};n.push(h)}else if(s.isTitle){const h={id:`title-${Date.now()}-${Math.random()}`,blockIndex:u+2,type:"title",value:s==null?void 0:s[l]};n.push(h)}else{const h={id:`text-${Date.now()}-${Math.random()}`,blockIndex:u+2,type:"text",value:s==null?void 0:s[l]};n.push(h)}}),c(n)},[]),g.useEffect(()=>{e.onChange(a)},[a]);const f=()=>t.jsx(z,{title:"Collapsible Block",blockIndex:e.blockIndex,onDelete:e.onDelete,onMoveUp:e.onMoveUp,onMoveDown:e.onMoveDown}),i=n=>{const r={id:`${n}-${Date.now()}-${Math.random()}`,blockIndex:a.length+1,type:n,value:n=="image"?{url:"",alt:""}:""};c([...a,r])},v=n=>{const o=a.filter(r=>r.id!==n);c(o)},p=()=>t.jsx(ue,{children:t.jsxs(ce,{children:[t.jsx(E,{children:t.jsx(H,{label:"Add Title",onClick:()=>i("title")})}),t.jsx(E,{isdisabled:a.length==0?"true":"false",children:t.jsx(H,{label:"Add Text",disabled:!a||a.length==0,onClick:()=>i("text")})}),t.jsx(E,{isdisabled:a.length==0?"true":"false",children:t.jsx(H,{label:"Add Image",disabled:!a||a.length==0,onClick:()=>i("image")})})]})}),D=(n,o)=>{c(a.map(r=>r.id==n?{...r,value:o}:r))},M=(n,o)=>{c(r=>r.map(d=>d.id===n?{...d,value:{...d.value,...o}}:d))},b=(n,o)=>{c(r=>{const d=[...r];return o==="up"&&n>0&&([d[n],d[n-1]]=[d[n-1],d[n]]),o==="down"&&n<d.length-1&&([d[n],d[n+1]]=[d[n+1],d[n]]),d})},A=()=>t.jsx(he,{children:a.map((n,o)=>{switch(n.type){case"title":return t.jsx(ge,{language:e.language,inputVal:n.value,blockIndex:o+1,disableDelete:o===0,disableMovedown:o===0,disableMoveUp:o===0,onInputChange:r=>D(n.id,r),onDelete:()=>v(n.id),onMoveUp:()=>b(o,"up"),onMoveDown:()=>b(o,"down")},o);case"text":return t.jsx(fe,{language:e.language,inputVal:n.value,blockIndex:o+1,disableMoveUp:o===1,onInputChange:r=>D(n.id,r),onDelete:()=>v(n.id),onMoveUp:()=>b(o,"up"),onMoveDown:()=>b(o,"down")},o);case"image":return t.jsx(be,{url:n.value.url,alt:n.value.alt,blockIndex:o+1,disableMoveUp:o==1,onImageInputChange:r=>M(n.id,{url:r}),onAltInputChange:r=>M(n.id,{alt:r}),onDelete:()=>v(n.id),onMoveUp:()=>b(o,"up"),onMoveDown:()=>b(o,"down")},o)}return null})});return t.jsxs(T,{children:[f(),p(),A()]})}function Ce(e){var l,a,c,f;return t.jsx(xe,{children:t.jsx(Y,{label:e.title||((a=(l=e.value)==null?void 0:l.title)==null?void 0:a[e.language])||"",detail:(f=e.contents&&e.contents.length>0?e.contents:(c=e.value)==null?void 0:c.content)==null?void 0:f.map((i,v)=>i!=null&&i.isTitle?t.jsx(y,{color:"#474747",fontSize:16,fontWeight:"700",fontFamily:"Inter",children:i==null?void 0:i[e.language]},v):i!=null&&i.url?t.jsx(V,{children:t.jsx("img",{src:i==null?void 0:i.url})},v):t.jsx(y,{color:"#474747",fontSize:16,fontWeight:"500",fontFamily:"Inter",children:i==null?void 0:i[e.language]},v))})})}export{Me as C,be as I,Ce as P,fe as T,ge as a};
