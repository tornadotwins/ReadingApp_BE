import{a as r,k as W,_ as w,c as ie,j as t,B as Fe}from"./createTheme-CQxaqkbK.js";import{g as le,a as se,s as a,B as we,M as Te,P as Se,u as ce,b as Ee,c as Ae,d as G,e as de,F as Me,T as Ie,S as Re,f as Pe,h as b,i as Le,j as Ue,k as ze,l as We,m as He,n as Oe,o as ne,p as $e,q as _e,r as he,t as Ne,v as Ge,w as Ke,x as Ve,y as Xe,z as l,I as Q,A as T,C as Ye,D as qe,E as Je,G as L,H as v,J as B,K as Qe,N as Ze,O as J,Q as et,R as tt,U as ot,V as nt,W as at,X as ae,Y as rt,Z as it}from"./App-Cd_NeJB5.js";import{A as lt}from"./index-CeJZj2zO.js";import{I as st,c as ct}from"./images-fq9AnQC-.js";import{S as De}from"./index-C4SHjxdA.js";import{T as dt,a as ut}from"./TableContainer-BixVrtgm.js";function gt(e){return se("MuiDialog",e)}const re=le("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),je=r.createContext({}),xt=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],pt=a(we,{name:"MuiDialog",slot:"Backdrop",overrides:(e,o)=>o.backdrop})({zIndex:-1}),ht=e=>{const{classes:o,scroll:n,maxWidth:i,fullWidth:s,fullScreen:g}=e,d={root:["root"],container:["container",`scroll${W(n)}`],paper:["paper",`paperScroll${W(n)}`,`paperWidth${W(String(i))}`,s&&"paperFullWidth",g&&"paperFullScreen"]};return de(d,gt,o)},ft=a(Te,{name:"MuiDialog",slot:"Root",overridesResolver:(e,o)=>o.root})({"@media print":{position:"absolute !important"}}),mt=a("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.container,o[`scroll${W(n.scroll)}`]]}})(({ownerState:e})=>w({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Ct=a(Se,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.paper,o[`scrollPaper${W(n.scroll)}`],o[`paperWidth${W(String(n.maxWidth))}`],n.fullWidth&&o.paperFullWidth,n.fullScreen&&o.paperFullScreen]}})(({theme:e,ownerState:o})=>w({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},o.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},o.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!o.maxWidth&&{maxWidth:"calc(100% - 64px)"},o.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${re.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.maxWidth&&o.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[o.maxWidth]}${e.breakpoints.unit}`,[`&.${re.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[o.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.fullWidth&&{width:"calc(100% - 64px)"},o.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${re.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),K=r.forwardRef(function(o,n){const i=ce({props:o,name:"MuiDialog"}),s=Ee(),g={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":d,"aria-labelledby":u,BackdropComponent:x,BackdropProps:p,children:y,className:j,disableEscapeKeyDown:f=!1,fullScreen:F=!1,fullWidth:k=!1,maxWidth:C="sm",onBackdropClick:m,onClick:M,onClose:I,open:X,PaperComponent:R=Se,PaperProps:Y={},scroll:H="paper",TransitionComponent:ee=Me,transitionDuration:P=g,TransitionProps:U}=i,O=ie(i,xt),z=w({},i,{disableEscapeKeyDown:f,fullScreen:F,fullWidth:k,maxWidth:C,scroll:H}),$=ht(z),_=r.useRef(),te=E=>{_.current=E.target===E.currentTarget},q=E=>{M&&M(E),_.current&&(_.current=null,m&&m(E),I&&I(E,"backdropClick"))},N=Ae(u),oe=r.useMemo(()=>({titleId:N}),[N]);return t.jsx(ft,w({className:G($.root,j),closeAfterTransition:!0,components:{Backdrop:pt},componentsProps:{backdrop:w({transitionDuration:P,as:x},p)},disableEscapeKeyDown:f,onClose:I,open:X,ref:n,onClick:q,ownerState:z},O,{children:t.jsx(ee,w({appear:!0,in:X,timeout:P,role:"presentation"},U,{children:t.jsx(mt,{className:G($.container),onMouseDown:te,ownerState:z,children:t.jsx(Ct,w({as:R,elevation:24,role:"dialog","aria-describedby":d,"aria-labelledby":N},Y,{className:G($.paper,Y.className),ownerState:z,children:t.jsx(je.Provider,{value:oe,children:y})}))})}))}))});function bt(e){return se("MuiDialogContent",e)}le("MuiDialogContent",["root","dividers"]);function yt(e){return se("MuiDialogTitle",e)}const St=le("MuiDialogTitle",["root"]),Dt=["className","dividers"],jt=e=>{const{classes:o,dividers:n}=e;return de({root:["root",n&&"dividers"]},bt,o)},kt=a("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,n.dividers&&o.dividers]}})(({theme:e,ownerState:o})=>w({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},o.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${St.root} + &`]:{paddingTop:0}})),ue=r.forwardRef(function(o,n){const i=ce({props:o,name:"MuiDialogContent"}),{className:s,dividers:g=!1}=i,d=ie(i,Dt),u=w({},i,{dividers:g}),x=jt(u);return t.jsx(kt,w({className:G(x.root,s),ownerState:u,ref:n},d))}),vt=["className","id"],Bt=e=>{const{classes:o}=e;return de({root:["root"]},yt,o)},Ft=a(Ie,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,o)=>o.root})({padding:"16px 24px",flex:"0 0 auto"}),V=r.forwardRef(function(o,n){const i=ce({props:o,name:"MuiDialogTitle"}),{className:s,id:g}=i,d=ie(i,vt),u=i,x=Bt(u),{titleId:p=g}=r.useContext(je);return t.jsx(Ft,w({component:"h2",className:G(x.root,s),ownerState:u,ref:n,variant:"h6",id:g??p},d))});function ke(e){const[o,n]=r.useState(e.checked||!1);r.useEffect(()=>{n(e.checked||!1)},[e.checked]);const i=()=>{const s=!o;n(s),e.onChange&&e.onChange(s)};return t.jsxs(Re,{children:[e.label&&t.jsx(Pe,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontSize:16,lineHeight:24,textAlign:"center",children:e.label})}),t.jsx(Le,{onClick:i,ref:e.reference,children:t.jsx(Ue,{children:o&&t.jsx(ze,{src:st.icon_check})})})]})}const wt=e=>{const[o,n]=r.useState(e.user.isAdmin),[i,s]=r.useState(e.user.roles),[g,d]=r.useState(!1);r.useEffect(()=>{n(e.user.isAdmin),s(e.user.roles)},[e.user]),r.useEffect(()=>{g&&e.onUserChange&&(e.onUserChange({...e.user,isAdmin:o,roles:i}),d(!1))},[o,i]);const u=[{label:"None",value:"none"},{label:"Translator",value:"translator"},{label:"Publisher",value:"publisher"}],x=(j,f)=>{const F=i.map(k=>k.language===f?{...k,role:j}:k);s(F),d(!0)},p=()=>{n(!o),d(!0)},y=j=>{switch(j){case"UserName":return t.jsx(ne,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",textAlign:"left",children:e.user.username})});case"Password":return t.jsx(Ne,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",children:e.user.password})});case"Actions":return t.jsx(ne,{children:t.jsxs(_e,{children:[t.jsx(he,{onClick:()=>{var f;return(f=e.onEditUser)==null?void 0:f.call(e,e.user)},children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",hasUnderline:!0,children:"edit"})}),t.jsx(he,{onClick:()=>{var f;return(f=e.onDeleteUser)==null?void 0:f.call(e,e.user._id)},children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",hasUnderline:!0,children:"del"})})]})});case"isAdmin":return t.jsx($e,{children:t.jsx(ke,{label:"",onChange:p,checked:o})});case"Last Login":return t.jsx(ne,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",hasUnderline:!0,children:e.user.lastLoggedInAt?ct(Number(e.user.lastLoggedInAt)).toString():""})});default:{const f=i.find(F=>F.language==j);return t.jsx(Oe,{children:t.jsx(De,{label:"",options:u,value:f?f.role:"none",textColor:"#155D74",onChange:F=>x(F.target.value,j)})})}}};return t.jsx(We,{children:e.headers.map((j,f)=>t.jsx(He,{children:y(j)},f))})},Tt=e=>{const[o,n]=r.useState([]),[i,s]=r.useState(e.users);r.useEffect(()=>{n(e.headers)},[e.headers]),r.useEffect(()=>{s(e.users)},[e.users]);const g=x=>{const p=i.map(y=>y.username===x.username?x:y);s(p),e.onUserChange&&e.onUserChange(p)},d=()=>t.jsx(Ge,{children:t.jsx(Ke,{children:o.map((x,p)=>t.jsx(Ve,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"700",fontSize:16,lineHeight:24,textAlign:"center",color:"#155D74",children:x})},p))})}),u=()=>t.jsx(Xe,{children:i.map((x,p)=>t.jsx(wt,{user:x,headers:o,onEditUser:e.onEditUser,onDeleteUser:e.onDeleteUser,onUserChange:g},p))});return t.jsx(dt,{children:t.jsxs(ut,{children:[d(),u()]})})},Et=a(l)({display:"flex",alignItems:"center",marginTop:"46px"}),At=a(l)({marginLeft:"9px",width:"58px",height:"58px",borderRadius:"50px",backgroundColor:"#155D74",display:"flex",alignItems:"center",justifyContent:"center","& .MuiBox-root":{transform:"translate(0, -15%)",marginTop:"15px"}});function Mt(e){return t.jsxs(Et,{children:[t.jsx(b,{fontFamily:"Buenard",fontWeight:"700",fontSize:36,lineHeight:47,textAlign:"center",color:"#155D74",children:"People"}),t.jsx(At,{children:t.jsx(b,{fontFamily:"Buenard",fontWeight:"700",fontSize:36,lineHeight:47,color:"white",children:e.userNumber.toString()})})]})}const It=a(l)({display:"flex"}),Rt=a(It)({width:"100vw",height:"100vh",alignItems:"center","& >.MuiBox-root: first-of-type":{backgroundColor:"#1B7695"}}),Pt=a(l)({height:"calc(100vh - 73px)",marginTop:"73px",padding:"0px 48px"}),Lt=a(l)({display:"flex",alignItems:"center"}),Ut=a(l)(({disable:e})=>({width:"134px",cursor:e=="true"?"not-allowed":"pointer",height:"40px",marginTop:"46px",marginLeft:"500px",backgroundColor:e=="true"?"#CAC9C9":"#FFAA5D",border:"1px solid #474747",boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",transitionDuration:".5s",color:e=="true"?"#474747":"#FFF !important","& button":{color:e=="true"?"#474747":"white !important",transitionDuration:".5s",fontSize:"14px",cursor:e=="true"?"not-allowed":"pointer","&:hover":{backgroundColor:"transparent",border:"none"}},"&:hover":{backgroundColor:e=="true"?"":"#EE994C","& button":{color:e=="true"?"":"white"}}})),zt=a(l)({marginTop:"16px",display:"flex",justifyContent:"left"}),Wt=a(l)({width:"100%",margin:"35px 0px 16px 0px"}),Ht=a(l)({display:"flex",alignItems:"center"}),fe=a(l)({width:"134px",boxSizing:"border-box",backgroundColor:"#FFAA5D",padding:"5px",marginRight:"15px",border:"1px solid #474747",textAlign:"center",cursor:"pointer",transitionDuration:".5s","& button":{color:"#474747",fontSize:"14px",fontWeight:"500",lineHeight:"24px",textTransform:"none",transitionDuration:".5s","&:hover":{backgroundColor:"transparent",border:"none"}},"&:hover":{backgroundColor:"#EE994C","& button":{color:"white"}}}),Ot=a(l)({backgroundColor:"#FF0505",padding:"5px",border:"1px solid #474747",transitionDuration:".5s",textAlign:"center",cursor:"pointer","&:hover":{backgroundColor:"#EE0404",color:"#474747"},"& button":{color:"white !important",fontSize:"14px",fontFamily:'"Baloo Da 2" !important',textTransform:"none",fontWeight:"500 !important",lineHeight:"24px !important","&:hover":{backgroundColor:"transparent",color:"#EEEEEE !important"}}});a(l)({display:"flex",flexDirection:"column",boxSizing:"border-box","& >.MuiBox-root: first-of-type":{backgroundColor:"#2D87A4"}});const $t=a(K)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),_t=a(V)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),Nt=a(ue)({backgroundColor:"#155D74",padding:"12px","& >.MuiBox-root: nth-of-type(3)":{"& >.MuiBox-root: nth-of-type(2)":{"& >.MuiBox-root":{marginLeft:"12px"}}}});a(l)({backgroundColor:"#155D74"});const me=a(l)({display:"flex",justifyContent:"center",alignItems:"center","& > .MuiBox-root":{padding:"8px",paddingRight:"0px"},"& .MuiInputBase-input":{padding:"5px !important"}}),Gt=a(l)({display:"flex",justifyContent:"left",alignItems:"center",marginTop:"8px",paddingLeft:"8px","& input":{border:"1px solid blue"},"& .MuiCheckbox-root":{borderColor:"white",backgroundColor:"white",width:"32px",height:"32px",boxSizing:"border-box"},"& .MuiSvgIcon-root":{fontSize:"45px",color:"white"}}),Kt=a(l)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"63%",float:"right",marginTop:"16px","& > .MuiBox-root: last-child":{marginRight:"0px"}}),Ce=a(l)({display:"flex",alignItems:"center","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}});function Vt(e){const[o,n]=r.useState(""),[i,s]=r.useState(""),[g,d]=r.useState(!1);r.useEffect(()=>{var C,m,M;e.user?(n(((C=e.user)==null?void 0:C.username)||""),s(((m=e.user)==null?void 0:m.password)||""),d(((M=e.user)==null?void 0:M.isAdmin)||!1)):(n(""),s(""),d(!1))},[e.user,e.isOpen]);const u=r.useRef(null),x=r.useRef(null),p=r.useRef(null),y=C=>{var m;C.key==="Enter"&&(C.preventDefault(),(m=u.current)==null||m.focus())},j=C=>{var m;C.key==="Enter"&&(C.preventDefault(),(m=x.current)==null||m.focus())},f=C=>{var m;C.key==="Enter"&&(C.preventDefault(),(m=p.current)==null||m.click())},F=()=>{o.trim()&&(!e.user&&!i.trim()||e.onSave(o,i,g))},k=()=>{n(""),s(""),d(!1),e.onCancel()};return t.jsxs($t,{open:e.isOpen,onClose:k,children:[t.jsx(_t,{children:"Person"}),t.jsxs(Nt,{children:[t.jsxs(me,{children:[t.jsx(b,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",children:"Username:"}),t.jsx(Q,{value:o,onKeyDown:y,onChange:C=>n(C.target.value)})]}),t.jsxs(me,{children:[t.jsx(b,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",children:"Password:"}),t.jsx(Q,{value:i,type:"password",reference:u,onKeyDown:j,onChange:C=>s(C.target.value)})]}),t.jsxs(Gt,{children:[t.jsx(b,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",children:"Is Admin:"}),t.jsx(ke,{checked:g,label:"",reference:x,onKeyDown:f,onChange:()=>d(!g)})]}),t.jsxs(Kt,{children:[t.jsx(Ce,{children:t.jsx(T,{label:"Cancel",onClick:k})}),t.jsx(Ce,{children:t.jsx(T,{label:"Save",onClick:F,reference:p})})]})]})]})}var ge={},Xt=Fe;Object.defineProperty(ge,"__esModule",{value:!0});var Z=ge.default=void 0,Yt=Xt(Ye()),be=t;Z=ge.default=(0,Yt.default)([(0,be.jsx)("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22z"},"0"),(0,be.jsx)("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")],"WarningAmber");const qt=a(K)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),Jt=a(V)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),Qt=a(l)({width:"276px",padding:"17px",backgroundColor:"#155D74",boxSizing:"border-box"}),Zt=a(l)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),eo=a(l)({display:"flex",justifyContent:"center"}),to=a(l)({width:"100%"}),oo=a(l)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",float:"right",marginTop:"16px","& > .MuiBox-root: last-child":{marginRight:"0px"}}),no=a(l)({display:"flex",alignItems:"center",width:"72px",boxSizing:"border-box","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}}),ao=a(l)({display:"flex",alignItems:"center",width:"134px","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:"#FFFFFF !important"}}});function ro(e){const o=()=>{e.onDelete()},n=()=>{e.onCancel()};return t.jsxs(qt,{open:e.isOpen,onClose:n,children:[t.jsx(Jt,{children:e.title}),t.jsxs(Qt,{children:[t.jsxs(Zt,{children:[t.jsx(eo,{children:t.jsx(Z,{})}),t.jsx(to,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,textAlign:"center",children:e.content})})]}),t.jsxs(oo,{children:[t.jsx(no,{children:t.jsx(T,{label:"Cancel",onClick:n})}),t.jsx(ao,{children:t.jsx(T,{label:"Delete",onClick:o})})]})]})]})}const io=a(K)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),lo=a(V)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),so=a(ue)({backgroundColor:"#155D74",padding:"17px",width:"276px",height:"177px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),co=a(l)({width:"100%"});a(l)({backgroundColor:"#155D74"});const uo=a(l)({display:"flex",justifyContent:"center",alignItems:"center","& > .MuiBox-root":{padding:"8px",paddingRight:"0px"},"& .MuiInputBase-input":{padding:"5px !important"}});a(l)({display:"flex",justifyContent:"left",alignItems:"center",marginTop:"8px",paddingLeft:"8px","& .MuiFormControlLabel-root":{marginLeft:"20px"},"& input":{border:"1px solid blue"},"& .MuiCheckbox-root":{borderColor:"white",backgroundColor:"white",width:"32px",height:"32px",boxSizing:"border-box"},"& .MuiSvgIcon-root":{fontSize:"45px",color:"white"}});const go=a(l)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",float:"right",marginTop:"16px","& > .MuiBox-root: last-child":{marginRight:"0px"}}),xo=a(l)({display:"flex",alignItems:"center","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}}),po=a(l)(({isdisable:e})=>({display:"flex",alignItems:"center",width:"134px",cursor:e=="true"?"not-allowed":"pointer","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:e=="true"?"#B6B0B0 !important":"#FFFFFF !important"}}}));function ho(e){const[o,n]=r.useState(""),[i,s]=r.useState(!0);r.useEffect(()=>{o=="DELETE"?s(!1):s(!0)},[o]);const g=r.useRef(null),d=p=>{var y;p.key==="Enter"&&(p.preventDefault(),(y=g.current)==null||y.click())},u=()=>{n(""),e.onConfirm()},x=()=>{n(""),e.onCancel()};return t.jsxs(io,{open:e.isOpen,onClose:x,children:[t.jsx(lo,{children:"Confirmation needed"}),t.jsxs(so,{children:[t.jsx(co,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontSize:16,lineHeight:24,textAlign:"center",children:'Type "DELETE" to confirm: '})}),t.jsx(uo,{children:t.jsx(Q,{value:o,onKeyDown:d,onChange:p=>n(p.target.value)})}),t.jsxs(go,{children:[t.jsx(xo,{children:t.jsx(T,{label:"Cancel",onClick:x})}),t.jsx(po,{isdisable:i?"true":"false",children:t.jsx(T,{label:"Delete forever",onClick:u,reference:g,disabled:i})})]})]})]})}const fo=a(K)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"},"& .MuiDialogContent-root > .MuiBox-root:first-of-type":{width:"100%"},"& .MuiDialogContent-root > .MuiBox-root:nth-of-type(2)":{alignSelf:"end",marginTop:"10px","& svg":{marginRight:"10px"}}}),mo=a(V)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),Co=a(ue)({backgroundColor:"#155D74",padding:"17px",width:"276px",height:"177px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"});a(l)({width:"100%"});a(l)({backgroundColor:"#155D74"});const bo=a(l)({display:"flex",justifyContent:"center",alignItems:"center","& > .MuiBox-root":{padding:"8px",paddingRight:"0px"},"& .MuiInputBase-input":{padding:"5px !important"}}),yo=a(l)({display:"flex",alignItems:"center"});a(l)({display:"flex",justifyContent:"left",alignItems:"center",marginTop:"8px",paddingLeft:"8px","& .MuiFormControlLabel-root":{marginLeft:"20px"},"& input":{border:"1px solid blue"},"& .MuiCheckbox-root":{borderColor:"white",backgroundColor:"white",width:"32px",height:"32px",boxSizing:"border-box"},"& .MuiSvgIcon-root":{fontSize:"45px",color:"white"}});const So=a(l)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"67%",float:"right",marginTop:"16px",alignSelf:"end","& > .MuiBox-root: last-child":{marginRight:"0px"}}),ye=a(l)(({isvalidate:e})=>({display:"flex",alignItems:"center",width:"72px",cursor:e=="false"?"not-allowed":"pointer","& :hover":{backgroundColor:"#F6CFAC"},"& button":{width:"100%",backgroundColor:e=="true"?"#FFAA5D":"#F6CFAC",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:e=="false"?"#989494 !important":"#474747 !important"}}}));a(l)(({isdisable:e})=>({display:"flex",alignItems:"center",width:"134px",cursor:e=="true"?"not-allowed":"pointer","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:e=="true"?"#B6B0B0 !important":"#FFFFFF !important"}}}));function Do(e){const[o,n]=r.useState(""),[i,s]=r.useState(!0);r.useEffect(()=>{e.languages.includes(o)?s(!1):s(!0)},[e.languages,e.isOpen,o]);const g=r.useRef(null),d=p=>{var y;p.key==="Enter"&&(p.preventDefault(),(y=g.current)==null||y.click())},u=()=>{n(""),e.onConfirm(o)},x=()=>{n(""),e.onCancel()};return t.jsxs(fo,{open:e.isOpen,onClose:x,children:[t.jsx(mo,{children:"Language"}),t.jsxs(Co,{children:[t.jsx(bo,{children:t.jsx(Q,{label:"Language:",value:o,onKeyDown:d,onChange:p=>n(p.target.value)})}),!i&&t.jsxs(yo,{children:[t.jsx(Z,{}),t.jsx(b,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",color:"white",children:"Already exists"})]}),t.jsxs(So,{children:[t.jsx(ye,{isvalidate:"true",children:t.jsx(T,{label:"Cancel",onClick:x})}),t.jsx(ye,{isvalidate:i&&o!=""?"true":"false",children:t.jsx(T,{label:"Save",onClick:u,reference:g,disabled:!i})})]})]})]})}const jo=a(K)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),ko=a(V)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),vo=a(l)({width:"284px",height:"245px",padding:"17px",backgroundColor:"#155D74",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"space-around","& .MuiInputBase-root":{backgroundColor:"white",border:"1px solid black","& .MuiSelect-select":{color:"black"}},"& .MuiMenuItem-root":{backgroundColor:"white"}}),Bo=a(l)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),Fo=a(l)({display:"flex",justifyContent:"space-between",alignItems:"center","& .MuiFormControl-root":{width:"178px",alignItems:"self-end","& .MuiInputBase-root":{width:"100%"}}}),wo=a(l)({}),To=a(l)({display:"flex",justifyContent:"center"}),Eo=a(l)({width:"100%"}),Ao=a(l)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",float:"right","& > .MuiBox-root: last-child":{marginRight:"0px"}}),Mo=a(l)({display:"flex",alignItems:"center",width:"72px",boxSizing:"border-box","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}}),Io=a(l)({display:"flex",alignItems:"center",width:"134px","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:"#FFFFFF !important"}}});function Ro(e){const[o,n]=r.useState([]),[i,s]=r.useState("");r.useEffect(()=>{n(()=>e.roles.map(u=>({label:u.language,value:u.language}))),e.isOpen&&e.roles.length>0&&s(e.roles[0].language)},[e.roles,e.isOpen]);const g=()=>{i&&e.onDelete(i)},d=()=>{n([]),s(""),e.onCancel()};return t.jsxs(jo,{open:e.isOpen,onClose:d,children:[t.jsx(ko,{children:e.title}),t.jsxs(vo,{children:[t.jsxs(Bo,{children:[t.jsx(To,{children:t.jsx(Z,{})}),t.jsx(Eo,{children:t.jsx(b,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,textAlign:"center",children:e.content})})]}),t.jsxs(Fo,{children:[t.jsx(wo,{children:t.jsx(b,{fontSize:16,lineHeight:24,fontFamily:'"Baloo Da 2"',fontWeight:"400",children:"Delete: "})}),t.jsx(De,{label:"",options:o,value:i,onChange:u=>s(u.target.value)})]}),t.jsxs(Ao,{children:[t.jsx(Mo,{children:t.jsx(T,{label:"Cancel",onClick:d})}),t.jsx(Io,{children:t.jsx(T,{label:"Delete",onClick:g})})]})]})]})}function Po(e){const[o,n]=r.useState(!1),[i,s]=r.useState([]),[g,d]=r.useState(!1),[u,x]=r.useState(),[p,y]=r.useState(""),[j,f]=r.useState(!1),[F,k]=r.useState(""),[C,m]=r.useState(!1),[M,I]=r.useState(!1),[X,R]=r.useState(!1),[Y,H]=r.useState(!1),[ee,P]=r.useState(!1),[U,O]=r.useState(["UserName","Password","isAdmin","Actions","Last Login"]),z=Je();r.useEffect(()=>{$()},[]);const $=r.useCallback(async()=>{n(!0);const c=["UserName","Password","isAdmin","Actions","Last Login"];L.fetchUsers().then(h=>{h.forEach(S=>{S.roles.map(D=>{!c.includes(D.language)&&c.push(D.language)})}),O(c),s(h),n(!1)}).catch(h=>{v.error(h,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,hideProgressBar:!1,autoClose:3e3}),n(!1)})},[]),_=()=>{localStorage.removeItem(lt),e.dispatch({type:ae.RESET_USER}),e.dispatch({type:ae.RESET_BOOK}),e.dispatch({type:ae.RESET_APP_TEXT_PAGES}),z("/admin")},te=(c,h,S)=>{const D={username:c,password:h,isAdmin:S};n(!0),L.saveUser(D).then(A=>{s([...i,A]),v.success(rt,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),m(!1),n(!1)}).catch(A=>{v.error(A,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),n(!1)})},q=(c,h=!1)=>{if(h)n(!0),L.deleteUser(c).then(()=>{const S=i.filter(D=>D._id!==c);s(S),v.success(it,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),n(!1)}).catch(S=>{v.error(S,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),n(!1)});else{I(!0),f(!0),y(c);return}R(!1),f(!1)},N=c=>{x(c),m(!0)},oe=(c,h,S)=>{if(!u)return;n(!0);const D={id:u._id,username:c,password:h,isAdmin:S,roles:u.roles};L.updateUser(D).then(A=>{const Be=i.map(pe=>pe._id==A._id?A:pe);s(Be),v.success("User updated successfully",{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),m(!1),x(void 0),n(!1)}).catch(A=>{v.error(A,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),n(!1)})},E=c=>{H(!1),i.map(h=>{h.roles.push({language:c,role:"none"})}),n(!0),L.addLanguage(c).then(h=>{s(h),O([...U,c]),v.success("Updated successfully",{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),n(!1)}).catch(h=>{v.error(h,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),n(!1)})},xe=(c,h=!1)=>{if(!h)k(c),P(!0);else{n(!0);const S=U.filter(D=>D!==F);O(S),L.deleteLanguage(c).then(D=>{s(D),v.success(`Language "${c}" deleted successfully`,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),n(!1)}).catch(D=>{v.error(D,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),n(!1)}),R(!1),P(!1),k("")}},ve=()=>{n(!0),d(!0),L.updateUsers(i).then(()=>{v.success("Updated successfully",{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),n(!1)}).catch(c=>{v.error(c,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),n(!1)}),d(!1)};return t.jsxs(t.Fragment,{children:[t.jsx(Qe,{title:"Admin Portal"}),t.jsxs(Rt,{children:[t.jsx(Ze,{isAdmin:!0,isLoggedIn:!0,username:e.currentUser.username,onLogOut:_,isAdminPage:!0}),t.jsxs(Pt,{children:[t.jsxs(Lt,{children:[t.jsx(Mt,{userNumber:i.length||0}),t.jsx(Ut,{disable:g?"false":"true",children:t.jsx(J,{onClick:ve,disabled:!g,children:"Save"})})]}),t.jsx(zt,{children:t.jsx(Tt,{headers:U,users:i,onEditUser:N,onDeleteUser:q,onUserChange:c=>{d(!0),s(c)}})}),t.jsx(Wt,{children:t.jsx(b,{color:"#155D74",fontFamily:"Buenard",fontSize:36,fontWeight:"700",lineHeight:47,children:"Admin"})}),t.jsxs(Ht,{children:[t.jsx(fe,{children:t.jsx(J,{onClick:()=>m(!0),children:"New Person"})}),t.jsx(fe,{children:t.jsx(J,{onClick:()=>H(!0),children:"New Language"})}),t.jsx(Ot,{children:t.jsx(J,{onClick:()=>xe("miguel"),children:"Del Language..."})})]})]}),t.jsx(Vt,{isOpen:C,user:u,onSave:(c,h,S)=>{u?oe(c,h,S):te(c,h,S)},onCancel:()=>{m(!1),x(void 0)}}),t.jsx(ro,{title:et,content:tt,isOpen:M,onDelete:()=>{I(!1),R(!0)},onCancel:()=>I(!1)}),t.jsx(ho,{isOpen:X,onConfirm:()=>j?q(p,!0):xe(F,!0),onCancel:()=>{R(!1),k("")}}),t.jsx(Do,{isOpen:Y,languages:U,onConfirm:c=>E(c),onCancel:()=>H(!1)}),t.jsx(Ro,{title:ot,content:nt,isOpen:ee,roles:i.length>0?i[0].roles:[],onDelete:c=>{k(c),P(!1),R(!0)},onCancel:()=>P(!1)})]}),o&&t.jsx(at,{})]})}function Lo(e){return{dispatch:e}}function Uo(e){return{currentUser:e.user.currentUser}}const No=qe(Uo,Lo)(Po);export{No as default};
