import{a as s,h as $,_ as S,b as G,j as t,q as ve}from"./createTheme-DEDGQAZ4.js";import{g as K,b as q,s as r,P as De,d as V,e as we,f as P,h as Y,T as Be,B as i,r as Te,c as Fe,u as Me,A as w,H as B,i as Q}from"./App-CuTLBs7s.js";import{M as Ee}from"./Meta-zRc0Zf0A.js";import{b as Ae,M as Re,u as Ie,F as Pe,c as Ue,S as He,d as Le,T as D,e as ze,f as We,g as $e,h as Oe,I as Ne,i as _e,j as Ge,k as Ke,l as qe,m as Ve,n as Ye,o as Xe,p as ie,q as Ze,r as Je,s as xe,t as Qe,v as et,w as tt,x as ot,y as nt,B as A,H as rt,D as at,z as st,A as lt,C as it,E as ct,G as dt}from"./messages-DixYOgWW.js";import{A as ut}from"./index-AzSOUG7H.js";import{I as ee,a as I,L as gt}from"./auth.services-DwEZgFym.js";import"./index.esm-zaU6Zg-l.js";import"./index-BiyLLu-P.js";import"./dividerClasses-DNpjlCgc.js";function pt(e){return q("MuiDialog",e)}const ce=K("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),je=s.createContext({}),xt=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],ht=r(Ae,{name:"MuiDialog",slot:"Backdrop",overrides:(e,o)=>o.backdrop})({zIndex:-1}),ft=e=>{const{classes:o,scroll:n,maxWidth:a,fullWidth:l,fullScreen:c}=e,u={root:["root"],container:["container",`scroll${$(n)}`],paper:["paper",`paperScroll${$(n)}`,`paperWidth${$(String(a))}`,l&&"paperFullWidth",c&&"paperFullScreen"]};return Y(u,pt,o)},mt=r(Re,{name:"MuiDialog",slot:"Root",overridesResolver:(e,o)=>o.root})({"@media print":{position:"absolute !important"}}),Ct=r("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.container,o[`scroll${$(n.scroll)}`]]}})(({ownerState:e})=>S({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),bt=r(De,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.paper,o[`scrollPaper${$(n.scroll)}`],o[`paperWidth${$(String(n.maxWidth))}`],n.fullWidth&&o.paperFullWidth,n.fullScreen&&o.paperFullScreen]}})(({theme:e,ownerState:o})=>S({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},o.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},o.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!o.maxWidth&&{maxWidth:"calc(100% - 64px)"},o.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${ce.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.maxWidth&&o.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[o.maxWidth]}${e.breakpoints.unit}`,[`&.${ce.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[o.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.fullWidth&&{width:"calc(100% - 64px)"},o.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ce.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),te=s.forwardRef(function(o,n){const a=V({props:o,name:"MuiDialog"}),l=Ie(),c={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{"aria-describedby":u,"aria-labelledby":g,BackdropComponent:d,BackdropProps:p,children:m,className:j,disableEscapeKeyDown:h=!1,fullScreen:T=!1,fullWidth:k=!1,maxWidth:C="sm",onBackdropClick:b,onClick:R,onClose:M,open:X,PaperComponent:O=De,PaperProps:Z={},scroll:U="paper",TransitionComponent:H=Pe,transitionDuration:L=c,TransitionProps:ne}=a,re=G(a,xt),z=S({},a,{disableEscapeKeyDown:h,fullScreen:T,fullWidth:k,maxWidth:C,scroll:U}),N=ft(z),W=s.useRef(),ae=E=>{W.current=E.target===E.currentTarget},se=E=>{R&&R(E),W.current&&(W.current=null,b&&b(E),M&&M(E,"backdropClick"))},_=we(g),J=s.useMemo(()=>({titleId:_}),[_]);return t.jsx(mt,S({className:P(N.root,j),closeAfterTransition:!0,components:{Backdrop:ht},componentsProps:{backdrop:S({transitionDuration:L,as:d},p)},disableEscapeKeyDown:h,onClose:M,open:X,ref:n,onClick:se,ownerState:z},re,{children:t.jsx(H,S({appear:!0,in:X,timeout:L,role:"presentation"},ne,{children:t.jsx(Ct,{className:P(N.container),onMouseDown:ae,ownerState:z,children:t.jsx(bt,S({as:O,elevation:24,role:"dialog","aria-describedby":u,"aria-labelledby":_},Z,{className:P(N.paper,Z.className),ownerState:z,children:t.jsx(je.Provider,{value:J,children:m})}))})}))}))});function yt(e){return q("MuiDialogContent",e)}K("MuiDialogContent",["root","dividers"]);function St(e){return q("MuiDialogTitle",e)}const Dt=K("MuiDialogTitle",["root"]),jt=["className","dividers"],kt=e=>{const{classes:o,dividers:n}=e;return Y({root:["root",n&&"dividers"]},yt,o)},vt=r("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,n.dividers&&o.dividers]}})(({theme:e,ownerState:o})=>S({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},o.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Dt.root} + &`]:{paddingTop:0}})),de=s.forwardRef(function(o,n){const a=V({props:o,name:"MuiDialogContent"}),{className:l,dividers:c=!1}=a,u=G(a,jt),g=S({},a,{dividers:c}),d=kt(g);return t.jsx(vt,S({className:P(d.root,l),ownerState:g,ref:n},u))}),wt=["className","id"],Bt=e=>{const{classes:o}=e;return Y({root:["root"]},St,o)},Tt=r(Be,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,o)=>o.root})({padding:"16px 24px",flex:"0 0 auto"}),oe=s.forwardRef(function(o,n){const a=V({props:o,name:"MuiDialogTitle"}),{className:l,id:c}=a,u=G(a,wt),g=a,d=Bt(g),{titleId:p=c}=s.useContext(je);return t.jsx(Tt,S({component:"h2",className:P(d.root,l),ownerState:g,ref:n,variant:"h6",id:c??p},u))});function Ft(e){return q("MuiTable",e)}K("MuiTable",["root","stickyHeader"]);const Mt=["className","component","padding","size","stickyHeader"],Et=e=>{const{classes:o,stickyHeader:n}=e;return Y({root:["root",n&&"stickyHeader"]},Ft,o)},At=r("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,n.stickyHeader&&o.stickyHeader]}})(({theme:e,ownerState:o})=>S({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":S({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},o.stickyHeader&&{borderCollapse:"separate"})),he="table",Rt=s.forwardRef(function(o,n){const a=V({props:o,name:"MuiTable"}),{className:l,component:c=he,padding:u="normal",size:g="medium",stickyHeader:d=!1}=a,p=G(a,Mt),m=S({},a,{component:c,padding:u,size:g,stickyHeader:d}),j=Et(m),h=s.useMemo(()=>({padding:u,size:g,stickyHeader:d}),[u,g,d]);return t.jsx(Ue.Provider,{value:h,children:t.jsx(At,S({as:c,role:c===he?null:"table",ref:n,className:P(j.root,l),ownerState:m},p))})});function It(e){return q("MuiTableContainer",e)}K("MuiTableContainer",["root"]);const Pt=["className","component"],Ut=e=>{const{classes:o}=e;return Y({root:["root"]},It,o)},Ht=r("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,o)=>o.root})({width:"100%",overflowX:"auto"}),Lt=s.forwardRef(function(o,n){const a=V({props:o,name:"MuiTableContainer"}),{className:l,component:c="div"}=a,u=G(a,Pt),g=S({},a,{component:c}),d=Ut(g);return t.jsx(Ht,S({ref:n,as:c,className:P(d.root,l),ownerState:g},u))}),zt="data:image/svg+xml,%3csvg%20width='25'%20height='22'%20viewBox='0%200%2025%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.9888%2021.2225C10.9159%2021.2224%2010.8438%2021.2074%2010.777%2021.1781C10.7103%2021.1489%2010.6503%2021.1062%2010.6008%2021.0527L0.140368%209.7375C0.0706361%209.66206%200.0244081%209.56793%200.00734206%209.46663C-0.00972404%209.36533%200.00311193%209.26125%200.0442792%209.16713C0.0854464%209.07301%200.153159%208.99294%200.23913%208.9367C0.325101%208.88047%200.4256%208.85052%200.528328%208.85052H5.56341C5.63901%208.85053%205.71373%208.86675%205.78252%208.8981C5.85132%208.92944%205.91259%208.97518%205.9622%209.03221L9.45813%2013.0542C9.83594%2012.2465%2010.5673%2010.9018%2011.8508%209.2632C13.7481%206.84076%2017.2773%203.27811%2023.3154%200.0620004C23.4321%20-0.000147173%2023.5679%20-0.0162769%2023.6959%200.0167963C23.8239%200.0498695%2023.9349%200.129741%2024.0069%200.240641C24.0789%200.35154%2024.1067%200.485404%2024.0848%200.615802C24.0629%200.746199%2023.9929%200.86365%2023.8887%200.944963C23.8656%200.962979%2021.5376%202.79632%2018.8582%206.1544C16.3924%209.24466%2013.1145%2014.2977%2011.5015%2020.8211C11.4731%2020.9357%2011.4072%2021.0375%2011.3143%2021.1103C11.2213%2021.1831%2011.1067%2021.2227%2010.9886%2021.2227L10.9888%2021.2225Z'%20fill='%23155D74'/%3e%3c/svg%3e",Wt={icon_check:zt};function ke(e){const[o,n]=s.useState(e.checked||!1);s.useEffect(()=>{n(e.checked||!1)},[e.checked]);const a=()=>{const l=!o;n(l),e.onChange&&e.onChange(l)};return t.jsxs(He,{children:[e.label&&t.jsx(Le,{children:t.jsx(D,{fontFamily:'"Baloo Da 2"',fontSize:16,lineHeight:24,textAlign:"center",children:e.label})}),t.jsx(ze,{onClick:a,ref:e.reference,children:t.jsx(We,{children:o&&t.jsx($e,{src:Wt.icon_check})})})]})}function $t(e){return t.jsxs(Oe,{variant:"outlined",children:[t.jsx(Ne,{children:e.label}),t.jsx(_e,{value:e.value,IconComponent:()=>t.jsx(Ge,{style:{color:e.textColor}}),MenuProps:Ke,disabled:e.disabled,sx:{backgroundColor:e.backgroundColor,color:e.textColor},style:{backgroundColor:e.backgroundColor,borderColor:e.textColor},onChange:o=>{e.onChange(o)},children:e.options.map(o=>t.jsx(qe,{value:o.value,style:{backgroundColor:e.backgroundColor,color:e.textColor},dividelinecolor:e.textColor||"#17637D",children:t.jsx(D,{color:e.textColor,children:o.label})},o.value))})]})}const Ot=e=>{const o=new Date(e),n=o.getFullYear(),a=o.getMonth()+1,l=o.getDate();return`${a}/${l}/${n}`},Nt=e=>{const[o,n]=s.useState(e.user.isAdmin),[a,l]=s.useState(e.user.roles),[c,u]=s.useState(!1);s.useEffect(()=>{n(e.user.isAdmin),l(e.user.roles)},[e.user]),s.useEffect(()=>{c&&e.onUserChange&&(e.onUserChange({...e.user,isAdmin:o,roles:a}),u(!1))},[o,a]);const g=[{label:"None",value:"none"},{label:"Translator",value:"translator"},{label:"Publisher",value:"publisher"}],d=(j,h)=>{const T=a.map(k=>k.language===h?{...k,role:j}:k);l(T),u(!0)},p=()=>{n(!o),u(!0)},m=j=>{switch(j){case"UserName":return t.jsx(ie,{children:t.jsx(D,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",textAlign:"left",children:e.user.username})});case"Password":return t.jsx(Qe,{children:t.jsx(D,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",children:e.user.password})});case"Actions":return t.jsx(ie,{children:t.jsxs(Je,{children:[t.jsx(xe,{onClick:()=>{var h;return(h=e.onEditUser)==null?void 0:h.call(e,e.user)},children:t.jsx(D,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",hasUnderline:!0,children:"edit"})}),t.jsx(xe,{onClick:()=>{var h;return(h=e.onDeleteUser)==null?void 0:h.call(e,e.user._id)},children:t.jsx(D,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",hasUnderline:!0,children:"del"})})]})});case"isAdmin":return t.jsx(Ze,{children:t.jsx(ke,{label:"",onChange:p,checked:o})});case"Last Login":return t.jsx(ie,{children:t.jsx(D,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",hasUnderline:!0,children:e.user.lastLoggedInAt?Ot(Number(e.user.lastLoggedInAt)).toString():""})});default:{const h=a.find(T=>T.language==j);return t.jsx(Xe,{children:t.jsx($t,{label:"",options:g,value:h?h.role:"none",textColor:"#155D74",onChange:T=>d(T.target.value,j)})})}}};return t.jsx(Ve,{children:e.headers.map((j,h)=>t.jsx(Ye,{children:m(j)},h))})},_t=e=>{const[o,n]=s.useState([]),[a,l]=s.useState(e.users);s.useEffect(()=>{n(e.headers)},[e.headers]),s.useEffect(()=>{l(e.users)},[e.users]);const c=d=>{const p=a.map(m=>m.username===d.username?d:m);l(p),e.onUserChange&&e.onUserChange(p)},u=()=>t.jsx(et,{children:t.jsx(tt,{children:o.map((d,p)=>t.jsx(ot,{children:t.jsx(D,{fontFamily:'"Baloo Da 2"',fontWeight:"700",fontSize:16,lineHeight:24,textAlign:"center",color:"#155D74",children:d})},p))})}),g=()=>t.jsx(nt,{children:a.map((d,p)=>t.jsx(Nt,{user:d,headers:o,onEditUser:e.onEditUser,onDeleteUser:e.onDeleteUser,onUserChange:c},p))});return t.jsx(Lt,{children:t.jsxs(Rt,{children:[u(),g()]})})},Gt=r(i)({display:"flex",alignItems:"center",marginTop:"46px"}),Kt=r(i)({marginLeft:"9px",width:"58px",height:"58px",borderRadius:"50px",backgroundColor:"#155D74",display:"flex",alignItems:"center",justifyContent:"center","& .MuiBox-root":{transform:"translate(0, -15%)"}});function qt(e){return t.jsxs(Gt,{children:[t.jsx(D,{fontFamily:"Buenard",fontWeight:"700",fontSize:36,lineHeight:47,textAlign:"center",color:"#155D74",children:"People"}),t.jsx(Kt,{children:t.jsx(D,{fontFamily:"Buenard",fontWeight:"700",fontSize:36,lineHeight:47,color:"white",children:e.userNumber.toString()})})]})}const Vt=r(i)({display:"flex"}),Yt=r(Vt)({width:"100vw",height:"100vh",alignItems:"center","& >.MuiBox-root: first-of-type":{backgroundColor:"#1B7695"}}),Xt=r(i)({height:"calc(100vh - 73px)",marginTop:"73px",padding:"0px 48px"}),Zt=r(i)({display:"flex",justifyContent:"space-between",alignItems:"center"}),Jt=r(i)(({disable:e})=>({width:"134px",cursor:e=="true"?"not-allowed":"pointer",height:"40px",marginTop:"46px",backgroundColor:e=="true"?"#CAC9C9":"#FFAA5D",border:"1px solid #474747",boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",transitionDuration:".5s",color:e=="true"?"#474747":"#FFF !important","& button":{color:e=="true"?"#474747":"white !important",transitionDuration:".5s",fontSize:"14px",cursor:e=="true"?"not-allowed":"pointer","&:hover":{backgroundColor:"transparent",border:"none"}},"&:hover":{backgroundColor:e=="true"?"":"#EE994C","& button":{color:e=="true"?"":"white"}}})),Qt=r(i)({marginTop:"16px",display:"flex",justifyContent:"left"}),eo=r(i)({width:"100%",margin:"35px 0px 16px 0px"}),to=r(i)({display:"flex",alignItems:"center"}),fe=r(i)({width:"134px",boxSizing:"border-box",backgroundColor:"#FFAA5D",padding:"5px",marginRight:"15px",border:"1px solid #474747",textAlign:"center",cursor:"pointer",transitionDuration:".5s","& button":{color:"#474747",fontSize:"14px",fontWeight:"500",lineHeight:"24px",textTransform:"none",transitionDuration:".5s","&:hover":{backgroundColor:"transparent",border:"none"}},"&:hover":{backgroundColor:"#EE994C","& button":{color:"white"}}}),oo=r(i)({backgroundColor:"#FF0505",padding:"5px",border:"1px solid #474747",transitionDuration:".5s",textAlign:"center",cursor:"pointer","&:hover":{backgroundColor:"#EE0404",color:"#474747"},"& button":{color:"white !important",fontSize:"14px",fontFamily:'"Baloo Da 2" !important',textTransform:"none",fontWeight:"500 !important",lineHeight:"24px !important","&:hover":{backgroundColor:"transparent",color:"#EEEEEE !important"}}});r(i)({display:"flex",flexDirection:"column",boxSizing:"border-box","& >.MuiBox-root: first-of-type":{backgroundColor:"#2D87A4"}});const no=r(te)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),ro=r(oe)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),ao=r(de)({backgroundColor:"#155D74",padding:"12px"});r(i)({backgroundColor:"#155D74"});const me=r(i)({display:"flex",justifyContent:"center",alignItems:"center","& > .MuiBox-root":{padding:"8px",paddingRight:"0px"},"& .MuiInputBase-input":{padding:"5px !important"}}),so=r(i)({display:"flex",justifyContent:"left",alignItems:"center",marginTop:"8px",paddingLeft:"8px","& .MuiFormControlLabel-root":{marginLeft:"20px"},"& input":{border:"1px solid blue"},"& .MuiCheckbox-root":{borderColor:"white",backgroundColor:"white",width:"32px",height:"32px",boxSizing:"border-box"},"& .MuiSvgIcon-root":{fontSize:"45px",color:"white"}}),lo=r(i)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"63%",float:"right",marginTop:"16px","& > .MuiBox-root: last-child":{marginRight:"0px"}}),Ce=r(i)({display:"flex",alignItems:"center","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}});function io(e){const[o,n]=s.useState(""),[a,l]=s.useState(""),[c,u]=s.useState(!1);s.useEffect(()=>{var C,b,R;e.user?(n(((C=e.user)==null?void 0:C.username)||""),l(((b=e.user)==null?void 0:b.password)||""),u(((R=e.user)==null?void 0:R.isAdmin)||!1)):(n(""),l(""),u(!1))},[e.user,e.isOpen]);const g=s.useRef(null),d=s.useRef(null),p=s.useRef(null),m=C=>{var b;C.key==="Enter"&&(C.preventDefault(),(b=g.current)==null||b.focus())},j=C=>{var b;C.key==="Enter"&&(C.preventDefault(),(b=d.current)==null||b.focus())},h=C=>{var b;C.key==="Enter"&&(C.preventDefault(),(b=p.current)==null||b.click())},T=()=>{o.trim()&&(!e.user&&!a.trim()||e.onSave(o,a,c))},k=()=>{n(""),l(""),u(!1),e.onCancel()};return t.jsxs(no,{open:e.isOpen,onClose:k,children:[t.jsx(ro,{children:"Person"}),t.jsxs(ao,{children:[t.jsxs(me,{children:[t.jsx(D,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",children:"Username:"}),t.jsx(ee,{value:o,onKeyDown:m,onChange:C=>n(C.target.value)})]}),t.jsxs(me,{children:[t.jsx(D,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",children:"Password:"}),t.jsx(ee,{value:a,type:"password",reference:g,onKeyDown:j,onChange:C=>l(C.target.value)})]}),t.jsxs(so,{children:[t.jsx(D,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",children:"Is Admin:"}),t.jsx(ke,{checked:c,label:"",reference:d,onKeyDown:h,onChange:()=>u(!c)})]}),t.jsxs(lo,{children:[t.jsx(Ce,{children:t.jsx(A,{label:"Cancel",onClick:k})}),t.jsx(Ce,{children:t.jsx(A,{label:"Save",onClick:T,reference:p})})]})]})]})}var ue={},co=ve;Object.defineProperty(ue,"__esModule",{value:!0});var ge=ue.default=void 0,uo=co(Te()),be=t;ge=ue.default=(0,uo.default)([(0,be.jsx)("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22z"},"0"),(0,be.jsx)("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")],"WarningAmber");const go=r(te)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),po=r(oe)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),xo=r(i)({width:"276px",padding:"17px",backgroundColor:"#155D74",boxSizing:"border-box"}),ho=r(i)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),fo=r(i)({display:"flex",justifyContent:"center"}),mo=r(i)({width:"100%"}),Co=r(i)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",float:"right",marginTop:"16px","& > .MuiBox-root: last-child":{marginRight:"0px"}}),bo=r(i)({display:"flex",alignItems:"center",width:"72px",boxSizing:"border-box","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}}),yo=r(i)({display:"flex",alignItems:"center",width:"134px","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:"#FFFFFF !important"}}});function ye(e){const o=()=>{e.onDelete()},n=()=>{e.onCancel()};return t.jsxs(go,{open:e.isOpen,onClose:n,children:[t.jsx(po,{children:e.title}),t.jsxs(xo,{children:[t.jsxs(ho,{children:[t.jsx(fo,{children:t.jsx(ge,{})}),t.jsx(mo,{children:t.jsx(D,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,textAlign:"center",children:e.content})})]}),t.jsxs(Co,{children:[t.jsx(bo,{children:t.jsx(A,{label:"Cancel",onClick:n})}),t.jsx(yo,{children:t.jsx(A,{label:"Delete",onClick:o})})]})]})]})}const So=r(te)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),Do=r(oe)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),jo=r(de)({backgroundColor:"#155D74",padding:"17px",width:"276px",height:"177px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),ko=r(i)({width:"100%"});r(i)({backgroundColor:"#155D74"});const vo=r(i)({display:"flex",justifyContent:"center",alignItems:"center","& > .MuiBox-root":{padding:"8px",paddingRight:"0px"},"& .MuiInputBase-input":{padding:"5px !important"}});r(i)({display:"flex",justifyContent:"left",alignItems:"center",marginTop:"8px",paddingLeft:"8px","& .MuiFormControlLabel-root":{marginLeft:"20px"},"& input":{border:"1px solid blue"},"& .MuiCheckbox-root":{borderColor:"white",backgroundColor:"white",width:"32px",height:"32px",boxSizing:"border-box"},"& .MuiSvgIcon-root":{fontSize:"45px",color:"white"}});const wo=r(i)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",float:"right",marginTop:"16px","& > .MuiBox-root: last-child":{marginRight:"0px"}}),Bo=r(i)({display:"flex",alignItems:"center","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}}),To=r(i)(({isdisable:e})=>({display:"flex",alignItems:"center",width:"134px",cursor:e=="true"?"not-allowed":"pointer","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:e=="true"?"#B6B0B0 !important":"#FFFFFF !important"}}}));function Fo(e){const[o,n]=s.useState(""),[a,l]=s.useState(!0);s.useEffect(()=>{o=="DELETE"?l(!1):l(!0)},[o]);const c=s.useRef(null),u=p=>{var m;p.key==="Enter"&&(p.preventDefault(),(m=c.current)==null||m.click())},g=()=>{e.onConfirm()},d=()=>{n(""),e.onCancel()};return t.jsxs(So,{open:e.isOpen,onClose:d,children:[t.jsx(Do,{children:"Confirmation needed"}),t.jsxs(jo,{children:[t.jsx(ko,{children:t.jsx(D,{fontFamily:'"Baloo Da 2"',fontSize:16,lineHeight:24,textAlign:"center",children:'Type "DELETE" to confirm: '})}),t.jsx(vo,{children:t.jsx(ee,{value:o,onKeyDown:u,onChange:p=>n(p.target.value)})}),t.jsxs(wo,{children:[t.jsx(Bo,{children:t.jsx(A,{label:"Cancel",onClick:d})}),t.jsx(To,{isdisable:a?"true":"false",children:t.jsx(A,{label:"Delete forever",onClick:g,reference:c,disabled:a})})]})]})]})}const Mo=r(te)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"},"& .MuiDialogContent-root > .MuiBox-root:first-of-type":{width:"100%"},"& .MuiDialogContent-root > .MuiBox-root:nth-of-type(2)":{alignSelf:"end",marginTop:"10px","& svg":{marginRight:"10px"}}}),Eo=r(oe)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),Ao=r(de)({backgroundColor:"#155D74",padding:"17px",width:"276px",height:"177px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"});r(i)({width:"100%"});r(i)({backgroundColor:"#155D74"});const Ro=r(i)({display:"flex",justifyContent:"center",alignItems:"center","& > .MuiBox-root":{padding:"8px",paddingRight:"0px"},"& .MuiInputBase-input":{padding:"5px !important"}}),Io=r(i)({display:"flex",alignItems:"center"});r(i)({display:"flex",justifyContent:"left",alignItems:"center",marginTop:"8px",paddingLeft:"8px","& .MuiFormControlLabel-root":{marginLeft:"20px"},"& input":{border:"1px solid blue"},"& .MuiCheckbox-root":{borderColor:"white",backgroundColor:"white",width:"32px",height:"32px",boxSizing:"border-box"},"& .MuiSvgIcon-root":{fontSize:"45px",color:"white"}});const Po=r(i)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"67%",float:"right",marginTop:"16px",alignSelf:"end","& > .MuiBox-root: last-child":{marginRight:"0px"}}),Se=r(i)(({isvalidate:e})=>({display:"flex",alignItems:"center",width:"72px",cursor:e=="false"?"not-allowed":"pointer","& :hover":{backgroundColor:"#F6CFAC"},"& button":{width:"100%",backgroundColor:e=="true"?"#FFAA5D":"#F6CFAC",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:e=="false"?"#989494 !important":"#474747 !important"}}}));r(i)(({isdisable:e})=>({display:"flex",alignItems:"center",width:"134px",cursor:e=="true"?"not-allowed":"pointer","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:e=="true"?"#B6B0B0 !important":"#FFFFFF !important"}}}));function Uo(e){const[o,n]=s.useState(""),[a,l]=s.useState(!0);s.useEffect(()=>{e.languages.includes(o)?l(!1):l(!0)},[e.languages,e.isOpen,o]);const c=s.useRef(null),u=p=>{var m;p.key==="Enter"&&(p.preventDefault(),(m=c.current)==null||m.click())},g=()=>{n(""),e.onConfirm(o)},d=()=>{n(""),e.onCancel()};return t.jsxs(Mo,{open:e.isOpen,onClose:d,children:[t.jsx(Eo,{children:"Language"}),t.jsxs(Ao,{children:[t.jsx(Ro,{children:t.jsx(ee,{label:"Language:",value:o,onKeyDown:u,onChange:p=>n(p.target.value)})}),!a&&t.jsxs(Io,{children:[t.jsx(ge,{}),t.jsx(D,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",color:"white",children:"Already exists"})]}),t.jsxs(Po,{children:[t.jsx(Se,{isvalidate:"true",children:t.jsx(A,{label:"Cancel",onClick:d})}),t.jsx(Se,{isvalidate:a&&o!=""?"true":"false",children:t.jsx(A,{label:"Save",onClick:g,reference:c,disabled:!a})})]})]})]})}function Ho(e){const[o,n]=s.useState(!1),[a,l]=s.useState([]),[c,u]=s.useState(!1),[g,d]=s.useState(),[p,m]=s.useState(""),[j,h]=s.useState(!1),[T,k]=s.useState(!1),[C,b]=s.useState(!1),[R,M]=s.useState(!1),[X,O]=s.useState(!1),[Z,U]=s.useState(!1),[H,L]=s.useState(["UserName","Password","isAdmin","Actions","Last Login"]),ne=Me();s.useEffect(()=>{re()},[]);const re=s.useCallback(async()=>{n(!0);const x=["UserName","Password","isAdmin","Actions","Last Login"];I.fetchUsers().then(f=>{f.forEach(v=>{v.roles.map(F=>{!x.includes(F.language)&&x.push(F.language)})}),L(x),l(f)}).catch(f=>{w.error(f,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,hideProgressBar:!1,autoClose:3e3})}).finally(()=>{n(!1)}),n(!1)},[]),z=()=>{localStorage.removeItem(ut),ne("/")},N=(x,f,v)=>{const F={username:x,password:f,isAdmin:v};n(!0),I.saveUser(F).then(y=>{l([...a,y]),w.success(ct,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),k(!1)}).catch(y=>{w.error(y,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),n(!1)},W=(x,f=!1)=>{if(f)n(!0),I.deleteUser(x).then(()=>{const v=a.filter(F=>F._id!==x);l(v),w.success(dt,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}).catch(v=>{w.error(v,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})});else{b(!0),h(!0),m(x);return}M(!1),h(!1),n(!1)},ae=x=>{d(x),k(!0)},se=(x,f,v)=>{if(!g)return;n(!0);const F={id:g._id,username:x,password:f,isAdmin:v,roles:g.roles};I.updateUser(F).then(y=>{const le=a.map(pe=>pe._id==y._id?y:pe);l(le),w.success("User updated successfully",{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),k(!1),d(void 0)}).catch(y=>{w.error(y,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),n(!1)},_=x=>{O(!1),a.map(f=>{f.roles.push({language:x,role:"none"})}),n(!0),I.updateUsers(a).then(f=>{l(f),L([...H,x]),w.success("Updated successfully",{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}).catch(f=>{w.error(f,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),n(!1)},J=(x,f=!1)=>{if(f){n(!0);const v=H.filter(y=>y!==x);L(v);const F=a.map(y=>({...y,roles:y.roles.filter(le=>le.language!==x)}));I.updateUsers(F).then(y=>{l(y),w.success(`Language "${x}" deleted successfully`,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}).catch(y=>{w.error(y,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),l(F),n(!1),M(!1),U(!1)}else{U(!0);return}},E=()=>{console.log(a),n(!0),u(!0),I.updateUsers(a).then(()=>{w.success("Updated successfully",{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}).catch(x=>{w.error(x,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),u(!1),n(!1)};return t.jsxs(t.Fragment,{children:[t.jsx(Ee,{title:"Admin Portal"}),t.jsxs(Yt,{children:[t.jsx(rt,{header:"Admin Portal",isLoggedIn:!0,username:e.currentUser.username,onLogOut:z}),t.jsxs(Xt,{children:[t.jsxs(Zt,{children:[t.jsx(qt,{userNumber:a.length||0}),t.jsx(Jt,{disable:c?"false":"true",children:t.jsx(Q,{onClick:E,disabled:!c,children:"Save"})})]}),t.jsx(Qt,{children:t.jsx(_t,{headers:H,users:a,onEditUser:ae,onDeleteUser:W,onUserChange:x=>{u(!0),l(x)}})}),t.jsx(eo,{children:t.jsx(D,{color:"#155D74",fontFamily:"Buenard",fontSize:36,fontWeight:"700",lineHeight:47,children:"Admin"})}),t.jsxs(to,{children:[t.jsx(fe,{children:t.jsx(Q,{onClick:()=>k(!0),children:"New Person"})}),t.jsx(fe,{children:t.jsx(Q,{onClick:()=>O(!0),children:"New Language"})}),t.jsx(oo,{children:t.jsx(Q,{onClick:()=>J("hindi"),children:"Del Language..."})})]})]}),t.jsx(io,{isOpen:T,user:g,onSave:(x,f,v)=>{g?se(x,f,v):N(x,f,v)},onCancel:()=>{k(!1),d(void 0)}}),t.jsx(ye,{title:at,content:st,isOpen:C,onDelete:()=>{b(!1),M(!0)},onCancel:()=>b(!1)}),t.jsx(Fo,{isOpen:R,onConfirm:()=>j?W(p,!0):J("hindi",!0),onCancel:()=>M(!1)}),t.jsx(Uo,{isOpen:X,languages:H,onConfirm:x=>_(x),onCancel:()=>O(!1)}),t.jsx(ye,{title:lt,content:it,isOpen:Z,onDelete:()=>{U(!1),M(!0)},onCancel:()=>U(!1)})]}),o&&t.jsx(gt,{})]})}function Lo(e){return{dispatch:e}}function zo(e){return{currentUser:e.user.currentUser}}const Yo=Fe(zo,Lo)(Ho);export{Yo as default};
