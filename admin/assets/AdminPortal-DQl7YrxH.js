import{a as l,h as $,_ as S,b as K,j as t,q as Be}from"./createTheme-DBp7XBzN.js";import{g as q,b as V,s as a,P as Se,d as Y,e as Fe,f as H,h as X,T as Te,B as i,r as Me,c as Ae,u as Ee,A as w,H as B,i as oe}from"./App-C0L5kJvc.js";import{M as Ie}from"./Meta-Cq0I4p4b.js";import{b as Re,M as Le,u as Pe,F as He,c as Ue,S as ze,d as $e,T as y,e as We,f as Oe,g as Ne,h as _e,I as Ge,i as Ke,j as qe,k as Ve,l as Ye,m as Xe,n as Ze,o as Je,p as se,q as Qe,r as et,s as he,t as tt,v as ot,w as nt,x as at,y as rt,B as T,H as lt,D as it,z as st,A as ct,C as dt,E as ut,G as gt}from"./messages-BolQ9RQB.js";import{A as xt}from"./index-Ds4tI1_v.js";import{I as ne,a as P,L as ht}from"./auth.services-BNegih3B.js";import"./index.esm-kPvjS00Z.js";import"./index-Dw47ShoW.js";import"./dividerClasses-B_UAQW-5.js";function pt(e){return V("MuiDialog",e)}const ce=q("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),De=l.createContext({}),ft=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],mt=a(Re,{name:"MuiDialog",slot:"Backdrop",overrides:(e,o)=>o.backdrop})({zIndex:-1}),Ct=e=>{const{classes:o,scroll:n,maxWidth:r,fullWidth:s,fullScreen:d}=e,u={root:["root"],container:["container",`scroll${$(n)}`],paper:["paper",`paperScroll${$(n)}`,`paperWidth${$(String(r))}`,s&&"paperFullWidth",d&&"paperFullScreen"]};return X(u,pt,o)},bt=a(Le,{name:"MuiDialog",slot:"Root",overridesResolver:(e,o)=>o.root})({"@media print":{position:"absolute !important"}}),yt=a("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.container,o[`scroll${$(n.scroll)}`]]}})(({ownerState:e})=>S({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),St=a(Se,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.paper,o[`scrollPaper${$(n.scroll)}`],o[`paperWidth${$(String(n.maxWidth))}`],n.fullWidth&&o.paperFullWidth,n.fullScreen&&o.paperFullScreen]}})(({theme:e,ownerState:o})=>S({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},o.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},o.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!o.maxWidth&&{maxWidth:"calc(100% - 64px)"},o.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${ce.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.maxWidth&&o.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[o.maxWidth]}${e.breakpoints.unit}`,[`&.${ce.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[o.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.fullWidth&&{width:"calc(100% - 64px)"},o.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ce.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Z=l.forwardRef(function(o,n){const r=Y({props:o,name:"MuiDialog"}),s=Pe(),d={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":u,"aria-labelledby":c,BackdropComponent:g,BackdropProps:h,children:C,className:D,disableEscapeKeyDown:p=!1,fullScreen:F=!1,fullWidth:v=!1,maxWidth:b="sm",onBackdropClick:m,onClick:E,onClose:I,open:Q,PaperComponent:R=Se,PaperProps:ee={},scroll:W="paper",TransitionComponent:re=He,transitionDuration:L=d,TransitionProps:U}=r,O=K(r,ft),z=S({},r,{disableEscapeKeyDown:p,fullScreen:F,fullWidth:v,maxWidth:b,scroll:W}),N=Ct(z),_=l.useRef(),le=M=>{_.current=M.target===M.currentTarget},te=M=>{E&&E(M),_.current&&(_.current=null,m&&m(M),I&&I(M,"backdropClick"))},G=Fe(c),ie=l.useMemo(()=>({titleId:G}),[G]);return t.jsx(bt,S({className:H(N.root,D),closeAfterTransition:!0,components:{Backdrop:mt},componentsProps:{backdrop:S({transitionDuration:L,as:g},h)},disableEscapeKeyDown:p,onClose:I,open:Q,ref:n,onClick:te,ownerState:z},O,{children:t.jsx(re,S({appear:!0,in:Q,timeout:L,role:"presentation"},U,{children:t.jsx(yt,{className:H(N.container),onMouseDown:le,ownerState:z,children:t.jsx(St,S({as:R,elevation:24,role:"dialog","aria-describedby":u,"aria-labelledby":G},ee,{className:H(N.paper,ee.className),ownerState:z,children:t.jsx(De.Provider,{value:ie,children:C})}))})}))}))});function Dt(e){return V("MuiDialogContent",e)}q("MuiDialogContent",["root","dividers"]);function jt(e){return V("MuiDialogTitle",e)}const kt=q("MuiDialogTitle",["root"]),vt=["className","dividers"],wt=e=>{const{classes:o,dividers:n}=e;return X({root:["root",n&&"dividers"]},Dt,o)},Bt=a("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,n.dividers&&o.dividers]}})(({theme:e,ownerState:o})=>S({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},o.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${kt.root} + &`]:{paddingTop:0}})),de=l.forwardRef(function(o,n){const r=Y({props:o,name:"MuiDialogContent"}),{className:s,dividers:d=!1}=r,u=K(r,vt),c=S({},r,{dividers:d}),g=wt(c);return t.jsx(Bt,S({className:H(g.root,s),ownerState:c,ref:n},u))}),Ft=["className","id"],Tt=e=>{const{classes:o}=e;return X({root:["root"]},jt,o)},Mt=a(Te,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,o)=>o.root})({padding:"16px 24px",flex:"0 0 auto"}),J=l.forwardRef(function(o,n){const r=Y({props:o,name:"MuiDialogTitle"}),{className:s,id:d}=r,u=K(r,Ft),c=r,g=Tt(c),{titleId:h=d}=l.useContext(De);return t.jsx(Mt,S({component:"h2",className:H(g.root,s),ownerState:c,ref:n,variant:"h6",id:d??h},u))});function At(e){return V("MuiTable",e)}q("MuiTable",["root","stickyHeader"]);const Et=["className","component","padding","size","stickyHeader"],It=e=>{const{classes:o,stickyHeader:n}=e;return X({root:["root",n&&"stickyHeader"]},At,o)},Rt=a("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,n.stickyHeader&&o.stickyHeader]}})(({theme:e,ownerState:o})=>S({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":S({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},o.stickyHeader&&{borderCollapse:"separate"})),pe="table",Lt=l.forwardRef(function(o,n){const r=Y({props:o,name:"MuiTable"}),{className:s,component:d=pe,padding:u="normal",size:c="medium",stickyHeader:g=!1}=r,h=K(r,Et),C=S({},r,{component:d,padding:u,size:c,stickyHeader:g}),D=It(C),p=l.useMemo(()=>({padding:u,size:c,stickyHeader:g}),[u,c,g]);return t.jsx(Ue.Provider,{value:p,children:t.jsx(Rt,S({as:d,role:d===pe?null:"table",ref:n,className:H(D.root,s),ownerState:C},h))})});function Pt(e){return V("MuiTableContainer",e)}q("MuiTableContainer",["root"]);const Ht=["className","component"],Ut=e=>{const{classes:o}=e;return X({root:["root"]},Pt,o)},zt=a("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,o)=>o.root})({width:"100%",overflowX:"auto"}),$t=l.forwardRef(function(o,n){const r=Y({props:o,name:"MuiTableContainer"}),{className:s,component:d="div"}=r,u=K(r,Ht),c=S({},r,{component:d}),g=Ut(c);return t.jsx(zt,S({ref:n,as:d,className:H(g.root,s),ownerState:c},u))}),Wt="data:image/svg+xml,%3csvg%20width='25'%20height='22'%20viewBox='0%200%2025%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.9888%2021.2225C10.9159%2021.2224%2010.8438%2021.2074%2010.777%2021.1781C10.7103%2021.1489%2010.6503%2021.1062%2010.6008%2021.0527L0.140368%209.7375C0.0706361%209.66206%200.0244081%209.56793%200.00734206%209.46663C-0.00972404%209.36533%200.00311193%209.26125%200.0442792%209.16713C0.0854464%209.07301%200.153159%208.99294%200.23913%208.9367C0.325101%208.88047%200.4256%208.85052%200.528328%208.85052H5.56341C5.63901%208.85053%205.71373%208.86675%205.78252%208.8981C5.85132%208.92944%205.91259%208.97518%205.9622%209.03221L9.45813%2013.0542C9.83594%2012.2465%2010.5673%2010.9018%2011.8508%209.2632C13.7481%206.84076%2017.2773%203.27811%2023.3154%200.0620004C23.4321%20-0.000147173%2023.5679%20-0.0162769%2023.6959%200.0167963C23.8239%200.0498695%2023.9349%200.129741%2024.0069%200.240641C24.0789%200.35154%2024.1067%200.485404%2024.0848%200.615802C24.0629%200.746199%2023.9929%200.86365%2023.8887%200.944963C23.8656%200.962979%2021.5376%202.79632%2018.8582%206.1544C16.3924%209.24466%2013.1145%2014.2977%2011.5015%2020.8211C11.4731%2020.9357%2011.4072%2021.0375%2011.3143%2021.1103C11.2213%2021.1831%2011.1067%2021.2227%2010.9886%2021.2227L10.9888%2021.2225Z'%20fill='%23155D74'/%3e%3c/svg%3e",Ot={icon_check:Wt};function je(e){const[o,n]=l.useState(e.checked||!1);l.useEffect(()=>{n(e.checked||!1)},[e.checked]);const r=()=>{const s=!o;n(s),e.onChange&&e.onChange(s)};return t.jsxs(ze,{children:[e.label&&t.jsx($e,{children:t.jsx(y,{fontFamily:'"Baloo Da 2"',fontSize:16,lineHeight:24,textAlign:"center",children:e.label})}),t.jsx(We,{onClick:r,ref:e.reference,children:t.jsx(Oe,{children:o&&t.jsx(Ne,{src:Ot.icon_check})})})]})}function ke(e){return t.jsxs(_e,{variant:"outlined",children:[t.jsx(Ge,{children:e.label}),t.jsx(Ke,{value:e.value,IconComponent:()=>t.jsx(qe,{style:{color:e.textColor,cursor:"pointer"}}),MenuProps:Ve,disabled:e.disabled,sx:{backgroundColor:e.backgroundColor,color:e.textColor},style:{backgroundColor:e.backgroundColor,borderColor:e.textColor},onChange:o=>{e.onChange(o)},children:e.options.map(o=>t.jsx(Ye,{value:o.value,style:{backgroundColor:e.backgroundColor,color:e.textColor},dividelinecolor:e.textColor||"#17637D",children:t.jsx(y,{color:e.textColor,children:o.label})},o.value))})]})}const Nt=e=>{const o=new Date(e),n=o.getFullYear(),r=o.getMonth()+1,s=o.getDate();return`${r}/${s}/${n}`},_t=e=>{const[o,n]=l.useState(e.user.isAdmin),[r,s]=l.useState(e.user.roles),[d,u]=l.useState(!1);l.useEffect(()=>{n(e.user.isAdmin),s(e.user.roles)},[e.user]),l.useEffect(()=>{d&&e.onUserChange&&(e.onUserChange({...e.user,isAdmin:o,roles:r}),u(!1))},[o,r]);const c=[{label:"None",value:"none"},{label:"Translator",value:"translator"},{label:"Publisher",value:"publisher"}],g=(D,p)=>{const F=r.map(v=>v.language===p?{...v,role:D}:v);s(F),u(!0)},h=()=>{n(!o),u(!0)},C=D=>{switch(D){case"UserName":return t.jsx(se,{children:t.jsx(y,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",textAlign:"left",children:e.user.username})});case"Password":return t.jsx(tt,{children:t.jsx(y,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",children:e.user.password})});case"Actions":return t.jsx(se,{children:t.jsxs(et,{children:[t.jsx(he,{onClick:()=>{var p;return(p=e.onEditUser)==null?void 0:p.call(e,e.user)},children:t.jsx(y,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",hasUnderline:!0,children:"edit"})}),t.jsx(he,{onClick:()=>{var p;return(p=e.onDeleteUser)==null?void 0:p.call(e,e.user._id)},children:t.jsx(y,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",hasUnderline:!0,children:"del"})})]})});case"isAdmin":return t.jsx(Qe,{children:t.jsx(je,{label:"",onChange:h,checked:o})});case"Last Login":return t.jsx(se,{children:t.jsx(y,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,color:"#155D74",hasUnderline:!0,children:e.user.lastLoggedInAt?Nt(Number(e.user.lastLoggedInAt)).toString():""})});default:{const p=r.find(F=>F.language==D);return t.jsx(Je,{children:t.jsx(ke,{label:"",options:c,value:p?p.role:"none",textColor:"#155D74",onChange:F=>g(F.target.value,D)})})}}};return t.jsx(Xe,{children:e.headers.map((D,p)=>t.jsx(Ze,{children:C(D)},p))})},Gt=e=>{const[o,n]=l.useState([]),[r,s]=l.useState(e.users);l.useEffect(()=>{n(e.headers)},[e.headers]),l.useEffect(()=>{s(e.users)},[e.users]);const d=g=>{const h=r.map(C=>C.username===g.username?g:C);s(h),e.onUserChange&&e.onUserChange(h)},u=()=>t.jsx(ot,{children:t.jsx(nt,{children:o.map((g,h)=>t.jsx(at,{children:t.jsx(y,{fontFamily:'"Baloo Da 2"',fontWeight:"700",fontSize:16,lineHeight:24,textAlign:"center",color:"#155D74",children:g})},h))})}),c=()=>t.jsx(rt,{children:r.map((g,h)=>t.jsx(_t,{user:g,headers:o,onEditUser:e.onEditUser,onDeleteUser:e.onDeleteUser,onUserChange:d},h))});return t.jsx($t,{children:t.jsxs(Lt,{children:[u(),c()]})})},Kt=a(i)({display:"flex",alignItems:"center",marginTop:"46px"}),qt=a(i)({marginLeft:"9px",width:"58px",height:"58px",borderRadius:"50px",backgroundColor:"#155D74",display:"flex",alignItems:"center",justifyContent:"center","& .MuiBox-root":{transform:"translate(0, -15%)",marginTop:"15px"}});function Vt(e){return t.jsxs(Kt,{children:[t.jsx(y,{fontFamily:"Buenard",fontWeight:"700",fontSize:36,lineHeight:47,textAlign:"center",color:"#155D74",children:"People"}),t.jsx(qt,{children:t.jsx(y,{fontFamily:"Buenard",fontWeight:"700",fontSize:36,lineHeight:47,color:"white",children:e.userNumber.toString()})})]})}const Yt=a(i)({display:"flex"}),Xt=a(Yt)({width:"100vw",height:"100vh",alignItems:"center","& >.MuiBox-root: first-of-type":{backgroundColor:"#1B7695"}}),Zt=a(i)({height:"calc(100vh - 73px)",marginTop:"73px",padding:"0px 48px"}),Jt=a(i)({display:"flex",alignItems:"center"}),Qt=a(i)(({disable:e})=>({width:"134px",cursor:e=="true"?"not-allowed":"pointer",height:"40px",marginTop:"46px",marginLeft:"500px",backgroundColor:e=="true"?"#CAC9C9":"#FFAA5D",border:"1px solid #474747",boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",transitionDuration:".5s",color:e=="true"?"#474747":"#FFF !important","& button":{color:e=="true"?"#474747":"white !important",transitionDuration:".5s",fontSize:"14px",cursor:e=="true"?"not-allowed":"pointer","&:hover":{backgroundColor:"transparent",border:"none"}},"&:hover":{backgroundColor:e=="true"?"":"#EE994C","& button":{color:e=="true"?"":"white"}}})),eo=a(i)({marginTop:"16px",display:"flex",justifyContent:"left"}),to=a(i)({width:"100%",margin:"35px 0px 16px 0px"}),oo=a(i)({display:"flex",alignItems:"center"}),fe=a(i)({width:"134px",boxSizing:"border-box",backgroundColor:"#FFAA5D",padding:"5px",marginRight:"15px",border:"1px solid #474747",textAlign:"center",cursor:"pointer",transitionDuration:".5s","& button":{color:"#474747",fontSize:"14px",fontWeight:"500",lineHeight:"24px",textTransform:"none",transitionDuration:".5s","&:hover":{backgroundColor:"transparent",border:"none"}},"&:hover":{backgroundColor:"#EE994C","& button":{color:"white"}}}),no=a(i)({backgroundColor:"#FF0505",padding:"5px",border:"1px solid #474747",transitionDuration:".5s",textAlign:"center",cursor:"pointer","&:hover":{backgroundColor:"#EE0404",color:"#474747"},"& button":{color:"white !important",fontSize:"14px",fontFamily:'"Baloo Da 2" !important',textTransform:"none",fontWeight:"500 !important",lineHeight:"24px !important","&:hover":{backgroundColor:"transparent",color:"#EEEEEE !important"}}});a(i)({display:"flex",flexDirection:"column",boxSizing:"border-box","& >.MuiBox-root: first-of-type":{backgroundColor:"#2D87A4"}});const ao=a(Z)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),ro=a(J)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),lo=a(de)({backgroundColor:"#155D74",padding:"12px","& >.MuiBox-root: nth-of-type(3)":{"& >.MuiBox-root: nth-of-type(2)":{"& >.MuiBox-root":{marginLeft:"12px"}}}});a(i)({backgroundColor:"#155D74"});const me=a(i)({display:"flex",justifyContent:"center",alignItems:"center","& > .MuiBox-root":{padding:"8px",paddingRight:"0px"},"& .MuiInputBase-input":{padding:"5px !important"}}),io=a(i)({display:"flex",justifyContent:"left",alignItems:"center",marginTop:"8px",paddingLeft:"8px","& input":{border:"1px solid blue"},"& .MuiCheckbox-root":{borderColor:"white",backgroundColor:"white",width:"32px",height:"32px",boxSizing:"border-box"},"& .MuiSvgIcon-root":{fontSize:"45px",color:"white"}}),so=a(i)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"63%",float:"right",marginTop:"16px","& > .MuiBox-root: last-child":{marginRight:"0px"}}),Ce=a(i)({display:"flex",alignItems:"center","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}});function co(e){const[o,n]=l.useState(""),[r,s]=l.useState(""),[d,u]=l.useState(!1);l.useEffect(()=>{var b,m,E;e.user?(n(((b=e.user)==null?void 0:b.username)||""),s(((m=e.user)==null?void 0:m.password)||""),u(((E=e.user)==null?void 0:E.isAdmin)||!1)):(n(""),s(""),u(!1))},[e.user,e.isOpen]);const c=l.useRef(null),g=l.useRef(null),h=l.useRef(null),C=b=>{var m;b.key==="Enter"&&(b.preventDefault(),(m=c.current)==null||m.focus())},D=b=>{var m;b.key==="Enter"&&(b.preventDefault(),(m=g.current)==null||m.focus())},p=b=>{var m;b.key==="Enter"&&(b.preventDefault(),(m=h.current)==null||m.click())},F=()=>{o.trim()&&(!e.user&&!r.trim()||e.onSave(o,r,d))},v=()=>{n(""),s(""),u(!1),e.onCancel()};return t.jsxs(ao,{open:e.isOpen,onClose:v,children:[t.jsx(ro,{children:"Person"}),t.jsxs(lo,{children:[t.jsxs(me,{children:[t.jsx(y,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",children:"Username:"}),t.jsx(ne,{value:o,onKeyDown:C,onChange:b=>n(b.target.value)})]}),t.jsxs(me,{children:[t.jsx(y,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",children:"Password:"}),t.jsx(ne,{value:r,type:"password",reference:c,onKeyDown:D,onChange:b=>s(b.target.value)})]}),t.jsxs(io,{children:[t.jsx(y,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",children:"Is Admin:"}),t.jsx(je,{checked:d,label:"",reference:g,onKeyDown:p,onChange:()=>u(!d)})]}),t.jsxs(so,{children:[t.jsx(Ce,{children:t.jsx(T,{label:"Cancel",onClick:v})}),t.jsx(Ce,{children:t.jsx(T,{label:"Save",onClick:F,reference:h})})]})]})]})}var ue={},uo=Be;Object.defineProperty(ue,"__esModule",{value:!0});var ae=ue.default=void 0,go=uo(Me()),be=t;ae=ue.default=(0,go.default)([(0,be.jsx)("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22z"},"0"),(0,be.jsx)("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")],"WarningAmber");const xo=a(Z)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),ho=a(J)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),po=a(i)({width:"276px",padding:"17px",backgroundColor:"#155D74",boxSizing:"border-box"}),fo=a(i)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),mo=a(i)({display:"flex",justifyContent:"center"}),Co=a(i)({width:"100%"}),bo=a(i)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",float:"right",marginTop:"16px","& > .MuiBox-root: last-child":{marginRight:"0px"}}),yo=a(i)({display:"flex",alignItems:"center",width:"72px",boxSizing:"border-box","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}}),So=a(i)({display:"flex",alignItems:"center",width:"134px","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:"#FFFFFF !important"}}});function Do(e){const o=()=>{e.onDelete()},n=()=>{e.onCancel()};return t.jsxs(xo,{open:e.isOpen,onClose:n,children:[t.jsx(ho,{children:e.title}),t.jsxs(po,{children:[t.jsxs(fo,{children:[t.jsx(mo,{children:t.jsx(ae,{})}),t.jsx(Co,{children:t.jsx(y,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,textAlign:"center",children:e.content})})]}),t.jsxs(bo,{children:[t.jsx(yo,{children:t.jsx(T,{label:"Cancel",onClick:n})}),t.jsx(So,{children:t.jsx(T,{label:"Delete",onClick:o})})]})]})]})}const jo=a(Z)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),ko=a(J)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),vo=a(de)({backgroundColor:"#155D74",padding:"17px",width:"276px",height:"177px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),wo=a(i)({width:"100%"});a(i)({backgroundColor:"#155D74"});const Bo=a(i)({display:"flex",justifyContent:"center",alignItems:"center","& > .MuiBox-root":{padding:"8px",paddingRight:"0px"},"& .MuiInputBase-input":{padding:"5px !important"}});a(i)({display:"flex",justifyContent:"left",alignItems:"center",marginTop:"8px",paddingLeft:"8px","& .MuiFormControlLabel-root":{marginLeft:"20px"},"& input":{border:"1px solid blue"},"& .MuiCheckbox-root":{borderColor:"white",backgroundColor:"white",width:"32px",height:"32px",boxSizing:"border-box"},"& .MuiSvgIcon-root":{fontSize:"45px",color:"white"}});const Fo=a(i)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",float:"right",marginTop:"16px","& > .MuiBox-root: last-child":{marginRight:"0px"}}),To=a(i)({display:"flex",alignItems:"center","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}}),Mo=a(i)(({isdisable:e})=>({display:"flex",alignItems:"center",width:"134px",cursor:e=="true"?"not-allowed":"pointer","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:e=="true"?"#B6B0B0 !important":"#FFFFFF !important"}}}));function Ao(e){const[o,n]=l.useState(""),[r,s]=l.useState(!0);l.useEffect(()=>{o=="DELETE"?s(!1):s(!0)},[o]);const d=l.useRef(null),u=h=>{var C;h.key==="Enter"&&(h.preventDefault(),(C=d.current)==null||C.click())},c=()=>{n(""),e.onConfirm()},g=()=>{n(""),e.onCancel()};return t.jsxs(jo,{open:e.isOpen,onClose:g,children:[t.jsx(ko,{children:"Confirmation needed"}),t.jsxs(vo,{children:[t.jsx(wo,{children:t.jsx(y,{fontFamily:'"Baloo Da 2"',fontSize:16,lineHeight:24,textAlign:"center",children:'Type "DELETE" to confirm: '})}),t.jsx(Bo,{children:t.jsx(ne,{value:o,onKeyDown:u,onChange:h=>n(h.target.value)})}),t.jsxs(Fo,{children:[t.jsx(To,{children:t.jsx(T,{label:"Cancel",onClick:g})}),t.jsx(Mo,{isdisable:r?"true":"false",children:t.jsx(T,{label:"Delete forever",onClick:c,reference:d,disabled:r})})]})]})]})}const Eo=a(Z)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"},"& .MuiDialogContent-root > .MuiBox-root:first-of-type":{width:"100%"},"& .MuiDialogContent-root > .MuiBox-root:nth-of-type(2)":{alignSelf:"end",marginTop:"10px","& svg":{marginRight:"10px"}}}),Io=a(J)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),Ro=a(de)({backgroundColor:"#155D74",padding:"17px",width:"276px",height:"177px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"});a(i)({width:"100%"});a(i)({backgroundColor:"#155D74"});const Lo=a(i)({display:"flex",justifyContent:"center",alignItems:"center","& > .MuiBox-root":{padding:"8px",paddingRight:"0px"},"& .MuiInputBase-input":{padding:"5px !important"}}),Po=a(i)({display:"flex",alignItems:"center"});a(i)({display:"flex",justifyContent:"left",alignItems:"center",marginTop:"8px",paddingLeft:"8px","& .MuiFormControlLabel-root":{marginLeft:"20px"},"& input":{border:"1px solid blue"},"& .MuiCheckbox-root":{borderColor:"white",backgroundColor:"white",width:"32px",height:"32px",boxSizing:"border-box"},"& .MuiSvgIcon-root":{fontSize:"45px",color:"white"}});const Ho=a(i)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"67%",float:"right",marginTop:"16px",alignSelf:"end","& > .MuiBox-root: last-child":{marginRight:"0px"}}),ye=a(i)(({isvalidate:e})=>({display:"flex",alignItems:"center",width:"72px",cursor:e=="false"?"not-allowed":"pointer","& :hover":{backgroundColor:"#F6CFAC"},"& button":{width:"100%",backgroundColor:e=="true"?"#FFAA5D":"#F6CFAC",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:e=="false"?"#989494 !important":"#474747 !important"}}}));a(i)(({isdisable:e})=>({display:"flex",alignItems:"center",width:"134px",cursor:e=="true"?"not-allowed":"pointer","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:e=="true"?"#B6B0B0 !important":"#FFFFFF !important"}}}));function Uo(e){const[o,n]=l.useState(""),[r,s]=l.useState(!0);l.useEffect(()=>{e.languages.includes(o)?s(!1):s(!0)},[e.languages,e.isOpen,o]);const d=l.useRef(null),u=h=>{var C;h.key==="Enter"&&(h.preventDefault(),(C=d.current)==null||C.click())},c=()=>{n(""),e.onConfirm(o)},g=()=>{n(""),e.onCancel()};return t.jsxs(Eo,{open:e.isOpen,onClose:g,children:[t.jsx(Io,{children:"Language"}),t.jsxs(Ro,{children:[t.jsx(Lo,{children:t.jsx(ne,{label:"Language:",value:o,onKeyDown:u,onChange:h=>n(h.target.value)})}),!r&&t.jsxs(Po,{children:[t.jsx(ae,{}),t.jsx(y,{fontFamily:'"Baloo Da 2"',fontSize:16,fontWeight:"400",lineHeight:24,textAlign:"center",color:"white",children:"Already exists"})]}),t.jsxs(Ho,{children:[t.jsx(ye,{isvalidate:"true",children:t.jsx(T,{label:"Cancel",onClick:g})}),t.jsx(ye,{isvalidate:r&&o!=""?"true":"false",children:t.jsx(T,{label:"Save",onClick:c,reference:d,disabled:!r})})]})]})]})}const zo=a(Z)({borderRadius:"0px","& .MuiDialog-paper":{borderRadius:"0px"}}),$o=a(J)({backgroundColor:"#2D87A4",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",lineHeight:"24px !important",padding:"5px 14px"}),Wo=a(i)({width:"284px",height:"245px",padding:"17px",backgroundColor:"#155D74",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"space-around","& .MuiInputBase-root":{backgroundColor:"white",border:"1px solid black","& .MuiSelect-select":{color:"black"}},"& .MuiMenuItem-root":{backgroundColor:"white"}}),Oo=a(i)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),No=a(i)({display:"flex",justifyContent:"space-between",alignItems:"center","& .MuiFormControl-root":{width:"178px",alignItems:"self-end","& .MuiInputBase-root":{width:"100%"}}}),_o=a(i)({}),Go=a(i)({display:"flex",justifyContent:"center"}),Ko=a(i)({width:"100%"}),qo=a(i)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",float:"right","& > .MuiBox-root: last-child":{marginRight:"0px"}}),Vo=a(i)({display:"flex",alignItems:"center",width:"72px",boxSizing:"border-box","& :hover":{backgroundColor:"#F6CFAC"},"& button":{backgroundColor:"#FFAA5D",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important"}}}),Yo=a(i)({display:"flex",alignItems:"center",width:"134px","& :hover":{backgroundColor:"#EE0404"},"& button":{width:"100%",backgroundColor:"#FF0505",borderRadius:"0","& .MuiBox-root":{textTransform:"none",fontFamily:'"Baloo Da 2" !important',fontSize:"16px !important",color:"#FFFFFF !important"}}});function Xo(e){const[o,n]=l.useState([]),[r,s]=l.useState("");l.useEffect(()=>{n(()=>e.roles.map(c=>({label:c.language,value:c.language}))),e.isOpen&&e.roles.length>0&&s(e.roles[0].language)},[e.roles,e.isOpen]);const d=()=>{r&&e.onDelete(r)},u=()=>{n([]),s(""),e.onCancel()};return t.jsxs(zo,{open:e.isOpen,onClose:u,children:[t.jsx($o,{children:e.title}),t.jsxs(Wo,{children:[t.jsxs(Oo,{children:[t.jsx(Go,{children:t.jsx(ae,{})}),t.jsx(Ko,{children:t.jsx(y,{fontFamily:'"Baloo Da 2"',fontWeight:"400",fontSize:16,lineHeight:24,textAlign:"center",children:e.content})})]}),t.jsxs(No,{children:[t.jsx(_o,{children:t.jsx(y,{fontSize:16,lineHeight:24,fontFamily:'"Baloo Da 2"',fontWeight:"400",children:"Delete: "})}),t.jsx(ke,{label:"",options:o,value:r,onChange:c=>s(c.target.value)})]}),t.jsxs(qo,{children:[t.jsx(Vo,{children:t.jsx(T,{label:"Cancel",onClick:u})}),t.jsx(Yo,{children:t.jsx(T,{label:"Delete",onClick:d})})]})]})]})}function Zo(e){const[o,n]=l.useState(!1),[r,s]=l.useState([]),[d,u]=l.useState(!1),[c,g]=l.useState(),[h,C]=l.useState(""),[D,p]=l.useState(!1),[F,v]=l.useState(""),[b,m]=l.useState(!1),[E,I]=l.useState(!1),[Q,R]=l.useState(!1),[ee,W]=l.useState(!1),[re,L]=l.useState(!1),[U,O]=l.useState(["UserName","Password","isAdmin","Actions","Last Login"]),z=Ee();l.useEffect(()=>{N()},[]);const N=l.useCallback(async()=>{n(!0);const x=["UserName","Password","isAdmin","Actions","Last Login"];P.fetchUsers().then(f=>{f.forEach(j=>{j.roles.map(k=>{!x.includes(k.language)&&x.push(k.language)})}),O(x),s(f)}).catch(f=>{w.error(f,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,hideProgressBar:!1,autoClose:3e3})}).finally(()=>{n(!1)}),n(!1)},[]),_=()=>{localStorage.removeItem(xt),z("/admin")},le=(x,f,j)=>{const k={username:x,password:f,isAdmin:j};n(!0),P.saveUser(k).then(A=>{s([...r,A]),w.success(ut,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),m(!1)}).catch(A=>{w.error(A,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),n(!1)},te=(x,f=!1)=>{if(f)n(!0),P.deleteUser(x).then(()=>{const j=r.filter(k=>k._id!==x);s(j),w.success(gt,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}).catch(j=>{w.error(j,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})});else{I(!0),p(!0),C(x);return}R(!1),p(!1),n(!1)},G=x=>{g(x),m(!0)},ie=(x,f,j)=>{if(!c)return;n(!0);const k={id:c._id,username:x,password:f,isAdmin:j,roles:c.roles};P.updateUser(k).then(A=>{const we=r.map(xe=>xe._id==A._id?A:xe);s(we),w.success("User updated successfully",{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3}),m(!1),g(void 0)}).catch(A=>{w.error(A,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),n(!1)},M=x=>{W(!1),r.map(f=>{f.roles.push({language:x,role:"none"})}),n(!0),P.addLanguage(x).then(f=>{s(f),O([...U,x]),w.success("Updated successfully",{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}).catch(f=>{w.error(f,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),n(!1)},ge=(x,f=!1)=>{if(!f)v(x),L(!0);else{n(!0);const j=U.filter(k=>k!==F);O(j),P.deleteLanguage(x).then(k=>{s(k),w.success(`Language "${x}" deleted successfully`,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}).catch(k=>{w.error(k,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),n(!1),R(!1),L(!1),v("")}},ve=()=>{n(!0),u(!0),P.updateUsers(r).then(()=>{w.success("Updated successfully",{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}).catch(x=>{w.error(x,{position:"top-right",draggable:!0,theme:"colored",transition:B,closeOnClick:!0,pauseOnHover:!0,autoClose:3e3})}),u(!1),n(!1)};return t.jsxs(t.Fragment,{children:[t.jsx(Ie,{title:"Admin Portal"}),t.jsxs(Xt,{children:[t.jsx(lt,{header:"Admin Portal",isLoggedIn:!0,username:e.currentUser.username,onLogOut:_}),t.jsxs(Zt,{children:[t.jsxs(Jt,{children:[t.jsx(Vt,{userNumber:r.length||0}),t.jsx(Qt,{disable:d?"false":"true",children:t.jsx(oe,{onClick:ve,disabled:!d,children:"Save"})})]}),t.jsx(eo,{children:t.jsx(Gt,{headers:U,users:r,onEditUser:G,onDeleteUser:te,onUserChange:x=>{u(!0),s(x)}})}),t.jsx(to,{children:t.jsx(y,{color:"#155D74",fontFamily:"Buenard",fontSize:36,fontWeight:"700",lineHeight:47,children:"Admin"})}),t.jsxs(oo,{children:[t.jsx(fe,{children:t.jsx(oe,{onClick:()=>m(!0),children:"New Person"})}),t.jsx(fe,{children:t.jsx(oe,{onClick:()=>W(!0),children:"New Language"})}),t.jsx(no,{children:t.jsx(oe,{onClick:()=>ge("miguel"),children:"Del Language..."})})]})]}),t.jsx(co,{isOpen:b,user:c,onSave:(x,f,j)=>{c?ie(x,f,j):le(x,f,j)},onCancel:()=>{m(!1),g(void 0)}}),t.jsx(Do,{title:it,content:st,isOpen:E,onDelete:()=>{I(!1),R(!0)},onCancel:()=>I(!1)}),t.jsx(Ao,{isOpen:Q,onConfirm:()=>D?te(h,!0):ge(F,!0),onCancel:()=>{R(!1),v("")}}),t.jsx(Uo,{isOpen:ee,languages:U,onConfirm:x=>M(x),onCancel:()=>W(!1)}),t.jsx(Xo,{title:ct,content:dt,isOpen:re,roles:r.length>0?r[0].roles:[],onDelete:x=>{v(x),L(!1),R(!0)},onCancel:()=>L(!1)})]}),o&&t.jsx(ht,{})]})}function Jo(e){return{dispatch:e}}function Qo(e){return{currentUser:e.user.currentUser}}const dn=Ae(Qo,Jo)(Zo);export{dn as default};
