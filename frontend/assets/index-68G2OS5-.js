import{b as a,j as n,a3 as z,ar as bn,a5 as ae,au as Be,aI as Pe,aJ as me,aK as Je,an as je,aA as Ne,X as un,a8 as yn,ap as at,ab as Rt,a9 as qe,aL as Xe,aM as Ce,aN as At,aO as _n,aP as Cn,aQ as Bt,ao as En,as as wn,az as st,ay as ze}from"./index-Clv2Y-Ws.js";import{S as xe,g as Se,aw as In,ax as Tn,ay as kn,az as Rn,s as _,B as T,aA as nt,G as dn,aB as An,k as ne,c as Bn,u as Pn,d as $}from"./App-w5_aDd8W.js";import{I as q,T as K,c as Pt}from"./index-C-PEJFBb.js";import{p as Nn}from"./index-B8vfq0pL.js";import{d as Nt,A as jn,b as jt}from"./bookmark.service-DiBaum4k.js";import{C as re}from"./index-CJYbu5B_.js";import{L as Ln}from"./index-DaALx8gT.js";import{a as lt}from"./auth.service-CYQxV5o3.js";import{b as Ye}from"./book.service-BE_qkedx.js";import"./index-Cd4NIkjq.js";import"./axios-upsvKRUO.js";function On(e){const{theme:i}=a.useContext(xe),{buttonColor:o,buttonTextColor:s}=Se(i);return n.jsx(In,{ref:e.refer,"data-id":e.dataId,backgroundColor:o,children:n.jsxs(Tn,{progresscolor:s,children:[n.jsx(kn,{variant:"determinate",value:e.progress,thickness:2}),n.jsx(Rn,{src:i==z.EASY_OCEAN?q.bookmark2_white:q.bookmark2_default})]})})}var hn={};function Mn(e){if(e&&e.__esModule)return e;var i={};if(e!=null){for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};s.get||s.set?Object.defineProperty(i,o,s):i[o]=e[o]}}return i.default=e,i}var fn=Mn,fe={},ct,Lt;function Dn(){if(Lt)return ct;Lt=1;function e(i){return i&&i.__esModule?i:{default:i}}return ct=e,ct}var Ke,Ot;function Hn(){if(Ot)return Ke;Ot=1;function e(){return Ke=e=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(i[c]=s[c])}return i},e.apply(this,arguments)}return Ke=e,Ke}var ut,Mt;function Vn(){if(Mt)return ut;Mt=1;function e(i,o){if(i==null)return{};var s={},c=Object.keys(i),f,P;for(P=0;P<c.length;P++)f=c[P],!(o.indexOf(f)>=0)&&(s[f]=i[f]);return s}return ut=e,ut}var dt,Dt;function Fn(){if(Dt)return dt;Dt=1;var e=Vn();function i(o,s){if(o==null)return{};var c=e(o,s),f,P;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(o);for(P=0;P<C.length;P++)f=C[P],!(s.indexOf(f)>=0)&&Object.prototype.propertyIsEnumerable.call(o,f)&&(c[f]=o[f])}return c}return dt=i,dt}var ht,Ht;function Wn(){if(Ht)return ht;Ht=1;function e(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}return ht=e,ht}var ft,Vt;function Un(){if(Vt)return ft;Vt=1;function e(o,s){for(var c=0;c<s.length;c++){var f=s[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}function i(o,s,c){return s&&e(o.prototype,s),c&&e(o,c),o}return ft=i,ft}var we,Ft;function qn(){if(Ft)return we;Ft=1;function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(c){return typeof c}:e=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(o)}function i(o){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?we=i=function(c){return e(c)}:we=i=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":e(c)},i(o)}return we=i,we}var gt,Wt;function Xn(){if(Wt)return gt;Wt=1;function e(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}return gt=e,gt}var xt,Ut;function zn(){if(Ut)return xt;Ut=1;var e=qn(),i=Xn();function o(s,c){return c&&(e(c)==="object"||typeof c=="function")?c:i(s)}return xt=o,xt}var Ge,qt;function Yn(){if(qt)return Ge;qt=1;function e(i){return Ge=e=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},e(i)}return Ge=e,Ge}var $e,Xt;function Kn(){if(Xt)return $e;Xt=1;function e(i,o){return $e=e=Object.setPrototypeOf||function(c,f){return c.__proto__=f,c},e(i,o)}return $e=e,$e}var vt,zt;function Gn(){if(zt)return vt;zt=1;var e=Kn();function i(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),s&&e(o,s)}return vt=i,vt}var mt,Yt;function gn(){if(Yt)return mt;Yt=1;var e=function(){};return mt=e,mt}var St={},pt,Kt;function rt(){if(Kt)return pt;Kt=1;function e(i){return i&&i.__esModule?i:{default:i}}return pt=e,pt}var Ie={},Gt;function $n(){if(Gt)return Ie;Gt=1;var e=rt();Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.default=void 0;var i=e(a);e(gn());var o=function(f){f.index;var P=f.children;i.default.Children.count(P)},s=o;return Ie.default=s,Ie}var Qe={},Te={},$t;function xn(){if($t)return Te;$t=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0;var e={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3};return Te.default=e,Te}var Qt;function Qn(){if(Qt)return Qe;Qt=1;var e=rt();Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=s;var i=e(a),o=e(xn());function s(c){var f=c.children,P=c.startIndex,C=c.startX,A=c.pageX,M=c.viewLength,E=c.resistance,j=i.default.Children.count(f)-1,g=P+(C-A)/M,H;return E?g<0?g=Math.exp(g*o.default.RESISTANCE_COEF)-1:g>j&&(g=j+1-Math.exp((j-g)*o.default.RESISTANCE_COEF)):g<0?(g=0,H=(g-P)*M+A):g>j&&(g=j,H=(g-P)*M+A),{index:g,startX:H}}return Qe}var ke={},Zt;function Zn(){if(Zt)return ke;Zt=1;var e=rt();Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0;var i=e(a),o=function(f,P){var C=!1,A=function(w){return w?w.key:"empty"};if(f.children.length&&P.children.length){var M=i.default.Children.map(f.children,A),E=M[f.index];if(E!=null){var j=i.default.Children.map(P.children,A),g=j[P.index];E===g&&(C=!0)}}return C},s=o;return ke.default=s,ke}var Re={},Jt;function Jn(){if(Jt)return Re;Jt=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=void 0;function e(o,s){var c=o%s;return c<0?c+s:c}var i=e;return Re.default=i,Re}var en;function er(){return en||(en=1,function(e){var i=rt();Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"checkIndexBounds",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"computeIndex",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"constant",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"getDisplaySameSlide",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return P.default}});var o=i($n()),s=i(Qn()),c=i(xn()),f=i(Zn()),P=i(Jn())}(St)),St}var tn;function tr(){if(tn)return fe;tn=1;var e=fn,i=Dn();Object.defineProperty(fe,"__esModule",{value:!0}),fe.getDomTreeShapes=p,fe.findNativeHandler=Z,fe.default=fe.SwipeableViewsContext=void 0;var o=i(Hn()),s=i(Fn()),c=i(Wn()),f=i(Un()),P=i(zn()),C=i(Yn()),A=i(Gn()),M=e(a);i(Nn),i(gn());var E=er();function j(m,D,b,t){return m.addEventListener(D,b,t),{remove:function(){m.removeEventListener(D,b,t)}}}var g={container:{direction:"ltr",display:"flex",willChange:"transform"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},H={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(D){return"translate(".concat(-D,"%, 0)")},"x-reverse":function(D){return"translate(".concat(D,"%, 0)")},y:function(D){return"translate(0, ".concat(-D,"%)")},"y-reverse":function(D){return"translate(0, ".concat(D,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function w(m,D){var b=D.duration,t=D.easeFunction,r=D.delay;return"".concat(m," ").concat(b," ").concat(t," ").concat(r)}function Q(m,D){var b=H.rotationMatrix[D];return{pageX:b.x[0]*m.pageX+b.x[1]*m.pageY,pageY:b.y[0]*m.pageX+b.y[1]*m.pageY}}function S(m){return m.touches=[{pageX:m.pageX,pageY:m.pageY}],m}function p(m,D){for(var b=[];m&&m!==D&&m!==document.body&&!m.hasAttribute("data-swipeable");){var t=window.getComputedStyle(m);t.getPropertyValue("position")==="absolute"||t.getPropertyValue("overflow-x")==="hidden"?b=[]:(m.clientWidth>0&&m.scrollWidth>m.clientWidth||m.clientHeight>0&&m.scrollHeight>m.clientHeight)&&b.push({element:m,scrollWidth:m.scrollWidth,scrollHeight:m.scrollHeight,clientWidth:m.clientWidth,clientHeight:m.clientHeight,scrollLeft:m.scrollLeft,scrollTop:m.scrollTop}),m=m.parentNode}return b}var X=null;function Z(m){var D=m.domTreeShapes,b=m.pageX,t=m.startX,r=m.axis;return D.some(function(k){var V=b>=t;(r==="x"||r==="y")&&(V=!V);var d=Math.round(k[H.scrollPosition[r]]),L=d>0,U=d+k[H.clientLength[r]]<k[H.scrollLength[r]];return V&&U||!V&&L?(X=k.element,!0):!1})}var B=M.createContext();fe.SwipeableViewsContext=B;var N=function(m){(0,A.default)(D,m);function D(b){var t;return(0,c.default)(this,D),t=(0,P.default)(this,(0,C.default)(D).call(this,b)),t.rootNode=null,t.containerNode=null,t.ignoreNextScrollEvents=!1,t.viewLength=0,t.startX=0,t.lastX=0,t.vx=0,t.startY=0,t.isSwiping=void 0,t.started=!1,t.startIndex=0,t.transitionListener=null,t.touchMoveListener=null,t.activeSlide=null,t.indexCurrent=null,t.firstRenderTimeout=null,t.setRootNode=function(r){t.rootNode=r},t.setContainerNode=function(r){t.containerNode=r},t.setActiveSlide=function(r){t.activeSlide=r,t.updateHeight()},t.handleSwipeStart=function(r){var k=t.props.axis,V=Q(r.touches[0],k);t.viewLength=t.rootNode.getBoundingClientRect()[H.length[k]],t.startX=V.pageX,t.lastX=V.pageX,t.vx=0,t.startY=V.pageY,t.isSwiping=void 0,t.started=!0;var d=window.getComputedStyle(t.containerNode),L=d.getPropertyValue("-webkit-transform")||d.getPropertyValue("transform");if(L&&L!=="none"){var U=L.split("(")[1].split(")")[0].split(","),x=window.getComputedStyle(t.rootNode),h=Q({pageX:parseInt(U[4],10),pageY:parseInt(U[5],10)},k);t.startIndex=-h.pageX/(t.viewLength-parseInt(x.paddingLeft,10)-parseInt(x.paddingRight,10))||0}},t.handleSwipeMove=function(r){if(!t.started){t.handleTouchStart(r);return}if(!(X!==null&&X!==t.rootNode)){var k=t.props,V=k.axis,d=k.children,L=k.ignoreNativeScroll,U=k.onSwitching,x=k.resistance,h=Q(r.touches[0],V);if(t.isSwiping===void 0){var O=Math.abs(h.pageX-t.startX),I=Math.abs(h.pageY-t.startY),F=O>I&&O>E.constant.UNCERTAINTY_THRESHOLD;if(!x&&(V==="y"||V==="y-reverse")&&(t.indexCurrent===0&&t.startX<h.pageX||t.indexCurrent===M.Children.count(t.props.children)-1&&t.startX>h.pageX)){t.isSwiping=!1;return}if(O>I&&r.preventDefault(),F===!0||I>E.constant.UNCERTAINTY_THRESHOLD){t.isSwiping=F,t.startX=h.pageX;return}}if(t.isSwiping===!0){r.preventDefault(),t.vx=t.vx*.5+(h.pageX-t.lastX)*.5,t.lastX=h.pageX;var ie=(0,E.computeIndex)({children:d,resistance:x,pageX:h.pageX,startIndex:t.startIndex,startX:t.startX,viewLength:t.viewLength}),te=ie.index,oe=ie.startX;if(X===null&&!L){var ce=p(r.target,t.rootNode),le=Z({domTreeShapes:ce,startX:t.startX,pageX:h.pageX,axis:V});if(le)return}oe?t.startX=oe:X===null&&(X=t.rootNode),t.setIndexCurrent(te);var ve=function(){U&&U(te,"move")};(t.state.displaySameSlide||!t.state.isDragging)&&t.setState({displaySameSlide:!1,isDragging:!0},ve),ve()}}},t.handleSwipeEnd=function(){if(X=null,!!t.started&&(t.started=!1,t.isSwiping===!0)){var r=t.state.indexLatest,k=t.indexCurrent,V=r-k,d;Math.abs(t.vx)>t.props.threshold?t.vx>0?d=Math.floor(k):d=Math.ceil(k):Math.abs(V)>t.props.hysteresis?d=V>0?Math.floor(k):Math.ceil(k):d=r;var L=M.Children.count(t.props.children)-1;d<0?d=0:d>L&&(d=L),t.setIndexCurrent(d),t.setState({indexLatest:d,isDragging:!1},function(){t.props.onSwitching&&t.props.onSwitching(d,"end"),t.props.onChangeIndex&&d!==r&&t.props.onChangeIndex(d,r,{reason:"swipe"}),k===r&&t.handleTransitionEnd()})}},t.handleTouchStart=function(r){t.props.onTouchStart&&t.props.onTouchStart(r),t.handleSwipeStart(r)},t.handleTouchEnd=function(r){t.props.onTouchEnd&&t.props.onTouchEnd(r),t.handleSwipeEnd(r)},t.handleMouseDown=function(r){t.props.onMouseDown&&t.props.onMouseDown(r),r.persist(),t.handleSwipeStart(S(r))},t.handleMouseUp=function(r){t.props.onMouseUp&&t.props.onMouseUp(r),t.handleSwipeEnd(S(r))},t.handleMouseLeave=function(r){t.props.onMouseLeave&&t.props.onMouseLeave(r),t.started&&t.handleSwipeEnd(S(r))},t.handleMouseMove=function(r){t.props.onMouseMove&&t.props.onMouseMove(r),t.started&&t.handleSwipeMove(S(r))},t.handleScroll=function(r){if(t.props.onScroll&&t.props.onScroll(r),r.target===t.rootNode){if(t.ignoreNextScrollEvents){t.ignoreNextScrollEvents=!1;return}var k=t.state.indexLatest,V=Math.ceil(r.target.scrollLeft/r.target.clientWidth)+k;t.ignoreNextScrollEvents=!0,r.target.scrollLeft=0,t.props.onChangeIndex&&V!==k&&t.props.onChangeIndex(V,k,{reason:"focus"})}},t.updateHeight=function(){if(t.activeSlide!==null){var r=t.activeSlide.children[0];r!==void 0&&r.offsetHeight!==void 0&&t.state.heightLatest!==r.offsetHeight&&t.setState({heightLatest:r.offsetHeight})}},t.state={indexLatest:b.index,isDragging:!1,renderOnlyActive:!b.disableLazyLoading,heightLatest:0,displaySameSlide:!0},t.setIndexCurrent(b.index),t}return(0,f.default)(D,[{key:"componentDidMount",value:function(){var t=this;this.transitionListener=j(this.containerNode,"transitionend",function(r){r.target===t.containerNode&&t.handleTransitionEnd()}),this.touchMoveListener=j(this.rootNode,"touchmove",function(r){t.props.disabled||t.handleSwipeMove(r)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){t.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var r=t.index;typeof r=="number"&&r!==this.props.index&&(this.setIndexCurrent(r),this.setState({displaySameSlide:(0,E.getDisplaySameSlide)(this.props,t),indexLatest:r}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var t=this;return{slideUpdateHeight:function(){t.updateHeight()}}}},{key:"setIndexCurrent",value:function(t){if(!this.props.animateTransitions&&this.indexCurrent!==t&&this.handleTransitionEnd(),this.indexCurrent=t,this.containerNode){var r=this.props.axis,k=H.transform[r](t*100);this.containerNode.style.WebkitTransform=k,this.containerNode.style.transform=k}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var t=this,r=this.props;r.action;var k=r.animateHeight,V=r.animateTransitions,d=r.axis,L=r.children,U=r.containerStyle,x=r.disabled;r.disableLazyLoading;var h=r.enableMouseEvents;r.hysteresis,r.ignoreNativeScroll,r.index,r.onChangeIndex,r.onSwitching,r.onTransitionEnd,r.resistance;var O=r.slideStyle,I=r.slideClassName,F=r.springConfig,ie=r.style;r.threshold;var te=(0,s.default)(r,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"]),oe=this.state,ce=oe.displaySameSlide,le=oe.heightLatest,ve=oe.indexLatest,Le=oe.isDragging,Oe=oe.renderOnlyActive,Ee=x?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},Me=!x&&h?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},De=(0,o.default)({},g.slide,O),pe,be;if(Le||!V||ce)pe="all 0s ease 0s",be="all 0s ease 0s";else if(pe=w("transform",F),be=w("-webkit-transform",F),le!==0){var He=", ".concat(w("height",F));pe+=He,be+=He}var ye={height:null,WebkitFlexDirection:H.flexDirection[d],flexDirection:H.flexDirection[d],WebkitTransition:be,transition:pe};if(!Oe){var Ve=H.transform[d](this.indexCurrent*100);ye.WebkitTransform=Ve,ye.transform=Ve}return k&&(ye.height=le),M.createElement(B.Provider,{value:this.getSwipeableViewsContext()},M.createElement("div",(0,o.default)({ref:this.setRootNode,style:(0,o.default)({},H.root[d],ie)},te,Ee,Me,{onScroll:this.handleScroll}),M.createElement("div",{ref:this.setContainerNode,style:(0,o.default)({},ye,g.container,U),className:"react-swipeable-view-container"},M.Children.map(L,function(it,Fe){if(Oe&&Fe!==ve)return null;var We,Ue=!0;return Fe===ve&&(Ue=!1,k&&(We=t.setActiveSlide,De.overflowY="hidden")),M.createElement("div",{ref:We,style:De,className:I,"aria-hidden":Ue,"data-swipeable":"true"},it)}))))}}]),D}(M.Component);N.displayName="ReactSwipableView",N.propTypes={},N.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var se=N;return fe.default=se,fe}(function(e){var i=fn;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"SwipeableViewsContext",{enumerable:!0,get:function(){return o.SwipeableViewsContext}});var o=i(tr())})(hn);const nr=bn(hn),rr=_(T)({width:"100%",margin:"0px"}),ir=_(T)({margin:"0px",padding:"0px",position:"relative"}),or=_(T)({width:"100%",height:"100%",margin:"0px",padding:"0px",position:"relative"}),vn=_(nr)(({scrollcolor:e})=>({width:"100%",height:"100%",marginBottom:"8px",padding:"14px 0px 20px 0px","::-webkit-scrollbar-thumb":{background:"red"},"::-webkit-scrollbar-thumb: hover":{backgroundColor:e,opacity:"1"},"& .react-swipeable-view-container":{height:"100%"}})),et=_(T)({width:"100%",padding:"0px 14px","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),mn=_(T)({height:"10px",width:"100%",position:"absolute",bottom:"0",display:"flex",justifyContent:"center","& :last-child":{marginRight:"0px"}}),tt=_(T)(({active:e,linecolor:i})=>({borderTop:`1px solid ${i}`,width:e=="true"?"20px":e=="false"?"10px":"0px",color:"black",marginRight:"5px",marginTop:"5px"})),ar=_(T)(({scrollbarcolor:e})=>({width:"100%",height:"100%","::-webkit-scrollbar-thumb":{backgroundColor:"red"},"::-webkit-scrollbar-track":{backgroundColor:"transparent"},scrollbarWidth:"auto",scrollbarColor:`${e} transparent`})),nn=_(T)({width:"100%",padding:"0px",margin:"0px"}),sr=_(T)({width:"100%",margin:"auto",padding:"20px 0px","& .MuiBox-root":{textWrap:"wrap"}}),lr=_(T)({width:"100%",height:"100%",position:"relative",overflowX:"hidden",padding:"0px 15px",scrollbarGutter:"stable both-edges"}),rn=_(T)({}),on=_("img")({width:"100%",marginTop:"20px"}),cr=_(T)({width:"100%",marginTop:"20px","& .MuiAccordion-gutters":{width:"100%"},"& .MuiAccordion-root .MuiAccordionSummary-root .Mui-expanded":{margin:"12px 0px !important"}}),ur=_(T)({width:"100%","& .MuiBox-root":{padding:"0px "}}),dr=_(T)({width:"100%",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"}),hr=_(T)({width:"100%",padding:"20px 0px",position:"relative",display:"flex",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),fr=_(T)({width:"100%",margin:"0px",position:"relative",display:"flex",flexDirection:"column",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}});_(T)({width:"40px",height:"100%",backgroundColor:"#FFAA5D",justifyContent:"center",alignItems:"center"});_(T)({width:"20px",height:"50%",position:"relative"});function bt(e){var j,g;const[i,o]=a.useState(0),{theme:s,textSize:c,referenceLanguage:f,showQuranReferences:P,displayType:C}=a.useContext(xe),{topTextColor:A,backgroundColor:M}=Se(s),E=e.verse.verseReference.ref;return C==ae.VERSE_BY_VERSE?n.jsxs(ir,{children:[n.jsxs(vn,{style:{backgroundColor:M},scrollcolor:A,enableMouseEvents:!0,disabled:!P,onSwitching:H=>o(H),children:[n.jsx(et,{children:n.jsx(nn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,children:n.jsx(K,{fontFamily:"Inter",fontSize:c,lineHeight:c+20,fontWeight:"700",color:A,dataIndex:e.index.toString(),language:f,direction:f==Be?"rtl":"ltr",children:(j=e.verse.verseText)==null?void 0:j[f]})})}),n.jsx(et,{children:E&&E.map((H,w)=>n.jsx(K,{fontFamily:"Inter",fontWeight:"700",fontSize:c,lineHeight:c+20,color:A,children:H},w))})]}),E&&E.length>0&&P&&n.jsxs(mn,{children:[n.jsx(tt,{active:i==0?"true":"false",linecolor:A}),n.jsx(tt,{active:i==1?"true":"false",linecolor:A})]})]}):n.jsx(nn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,style:{backgroundColor:M},children:n.jsx(K,{fontFamily:"Inter",fontSize:c,lineHeight:c+20,fontWeight:"700",color:A,dataIndex:e.index.toString(),language:f,direction:f==Be?"rtl":"ltr",onTouchStart:()=>e.onTouchStart&&e.onTouchStart(e.verse.verseReference.ref),onMouseDown:()=>e.onMouseDown&&e.onMouseDown(e.verse.verseReference.ref),children:(g=e.verse.verseText)==null?void 0:g[f]})})}function gr(e){var X,Z;const[i,o]=a.useState([]),[s,c]=a.useState(0),{scrollTopVerseIndex:f,setScrollTopVerseIndex:P,setHiddenTopVersePercentage:C,activeScroll:A,setActiveScroll:M}=a.useContext(nt),E=a.useRef([]);E.current=(X=e.verses)==null?void 0:X.map((B,N)=>E.current[N]??a.createRef());const{theme:j,textSize:g,showQuranReferences:H,displayType:w}=a.useContext(xe),{backgroundColor:Q,topTextColor:S}=Se(j);a.useEffect(()=>{var B;if(((B=e.verses)==null?void 0:B.length)>0){const N=E.current[f-1];N!=null&&N.current&&N.current.scrollIntoView(),P(0),C(0)}},[e.verses]),a.useEffect(()=>{var B;if(w==ae.SPLIT_PANEL&&f>=0&&(A==Pe||A==me)){const N=E.current[Number(f)];(B=N==null?void 0:N.current)==null||B.scrollIntoView()}},[f,w]),a.useEffect(()=>{var B;E.current[0]&&A!=Je&&A!=Pe&&A!=me&&A!=je&&e.prevPage!=Ne.SUBBOOKEXPLORER&&((B=E.current[0].current)==null||B.scrollIntoView())},[f]);const p=B=>{if(w==ae.SPLIT_PANEL){M(Je);const N=B.currentTarget.getBoundingClientRect().top,se=B.currentTarget.clientHeight;let m=-1,D=1/0;if(E.current.forEach((b,t)=>{if(b.current){const r=b.current.getBoundingClientRect().top,k=b.current.getBoundingClientRect().bottom,V=r-N;k>N&&r<N+se&&Math.abs(V)<D&&(D=Math.abs(V),m=t)}}),m!==-1){P(m);const b=E.current[m];if(b.current){const t=b.current.getBoundingClientRect().top,r=b.current.clientHeight,k=Math.max(0,Math.min(100,(N-t)/r*100));C(k)}}}};return n.jsx(rr,{style:{height:e.height},children:w===ae.SPLIT_PANEL?n.jsxs(or,{children:[n.jsxs(vn,{style:{backgroundColor:Q},scrollcolor:S,enableMouseEvents:!0,disabled:!H,onScrollCapture:A!=Pe?B=>p(B):()=>{},onSwitching:B=>c(B),children:[n.jsx(et,{children:(Z=e.verses)==null?void 0:Z.map((B,N)=>n.jsx(bt,{refer:E.current[N],verse:B,index:N,onMouseDown:o,onTouchStart:o},N))}),n.jsx(et,{children:i&&i.map((B,N)=>n.jsx(K,{fontFamily:"Inter",fontWeight:"700",fontSize:g-2,color:S,children:B},N))})]}),H&&n.jsxs(mn,{style:{background:Q,bottom:"5px"},children:[n.jsx(tt,{active:s===0?"true":"false",linecolor:S}),n.jsx(tt,{active:s===1?"true":"false",linecolor:S})]})]}):n.jsx(ar,{style:{backgroundColor:Q},scrollbarcolor:S,children:e.verses.map((B,N)=>n.jsx(bt,{refer:E.current[N],verse:B,index:N},N))})})}var Ct={},xr=un;Object.defineProperty(Ct,"__esModule",{value:!0});var yt=Ct.default=void 0,vr=xr(dn()),mr=n;yt=Ct.default=(0,vr.default)((0,mr.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft");var Et={},Sr=un;Object.defineProperty(Et,"__esModule",{value:!0});var Sn=Et.default=void 0,pr=Sr(dn()),br=n;Sn=Et.default=(0,pr.default)((0,br.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"SettingsOutlined");const yr=_(T)({position:"fixed",zIndex:"3",bottom:"0px",width:"100%",height:"150px",overflow:"hidden"}),_r=_(T)({position:"relative",display:"flex",justifyContent:"center","& .MuiBox-root":{alignContent:"center"}}),Cr=_("img")({width:"100%",position:"absolute",top:"20px"}),Er=_(T)({width:"100%",maxWidth:"700px",padding:"0px 20px",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:"1",paddingTop:"20px",alignContent:"center","@media (min-width: 600px)":{paddingTop:"25px"}}),wr=_(T)({position:"relative",bottom:"-75px",height:"100px",display:"flex",alignItems:"center",justifyContent:"space-between"}),Ir=_("img")({width:"100%",position:"absolute","@media (min-width: 750px)":{top:"0px"},"@media (min-width: 1050px)":{top:"-10px"},"@media (min-width: 1450px)":{top:"-20px"}});_(T)(({readingcontrol:e})=>({height:"100px",width:"100%",maxWidth:"700px",margin:"auto",display:"flex",flexDirection:e==yn.LEFT_HANDED?"row":"row-reverse",justifyContent:"space-between",alignItems:"center",padding:"0px 15px","@media (min-width: 1075px)":{width:"80%",margin:"auto"}}));const Tr=_(T)(({isintro:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer",marginLeft:e=="true"?"10px":"0px"})),kr=_(T)({backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 10px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2,height:"40px","& .MuiBox-root":{width:"70px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),an=_("img")({width:"15px",marginRight:"10px"}),Rr=_(T)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer"}),Ar=_(T)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px",height:"40px"}),Ze=_(T)({width:"24px",height:"24px",cursor:"pointer"}),Br=_(T)({width:"25px"}),Pr=_(T)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",minWidth:"200px",maxWidth:"350px",boxSizing:"border-box",cursor:"pointer","@media (max-width: 360px)":{width:"220px"}}),Nr=_(T)({display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",boxSizing:"border-box",borderRadius:"20px",padding:"5px",height:"40px",width:"100%","@media (max-width: 360px)":{width:"200px"}}),jr=_(T)({minWidth:"170px",maxWidth:"320px",display:"flex",justifyContent:"space-between",alignItems:"center","@media (max-width: 360px)":{width:"150px",minWidth:"140px"}}),Lr=_(T)({display:"flex",alignItems:"center",width:"150px",marginLeft:"10px","& .MuiBox-root":{width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","@media (max-width: 360px)":{width:"90px"}},"@media (max-width: 360px)":{width:"110px"}}),Or=_(T)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer","& :nth-of-type(2)":{marginRight:"10px"}}),Mr=_(T)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 20px",width:"50px",height:"40px"}),Dr=_(T)({width:"40px",height:"40px",marginRight:"10px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"50%",cursor:"pointer","& svg":{fill:"#093C54 !important"}});_(T)({width:"90px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px","@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}});const Hr=_(T)({display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"10px",marginBottom:"20px",cursor:"pointer"}),Ae=_("img")({width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",zIndex:"1"});_(T)(({underlinecolor:e})=>({width:"90px",textDecoration:"underline",textDecorationColor:e,textUnderlineOffset:"3px",zIndex:"1",cursor:"pointer",marginBottom:"20px","& .MuiBox-root":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}}));const Vr=_(T)({width:"100%",height:"60px",overflow:"hidden",padding:"0 10px"}),Fr=_(An)(({barcolor:e})=>({color:e,opacity:"1",height:"5px","& .MuiSlider-thumb":{width:"13.25px",height:"14px",color:e,transition:"0.3s cubic-bezier(.47,1.64,.41,.8)","&::before":{boxShadow:"0 2px 12px 0 rgba(0,0,0,0.4)"},"&:hover, &.Mui-focusVisible":{boxShadow:"0px 0px 0px 8px rgb(0 0 0 / 16%)"},"&.Mui-active":{width:20,height:20}}})),Wr=_(T)({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-20px"});function Ur(e){const{duration:i,currentTime:o,onTimeChange:s}=e,[c,f]=a.useState(o),{theme:P}=a.useContext(xe),{buttonTextColor:C}=Se(P);a.useEffect(()=>{f(o)},[o]);const A=(M,E)=>{f(E),s(E)};return n.jsxs(Vr,{children:[n.jsx(Fr,{"aria-label":"time-indicator",value:c,min:0,max:Math.floor(i),step:1,barcolor:C,onChange:A}),n.jsxs(Wr,{children:[n.jsx(K,{color:C,children:sn(c)}),n.jsx(K,{color:C,children:"-"+sn(Math.floor(i-c))})]})]})}function sn(e){const i=Math.floor(e/60),o=Math.floor(e%60);return`${i}:${o<10?`0${o}`:o}`}function qr(e){const[i,o]=a.useState(!1),[s,c]=a.useState(0),[f,P]=a.useState(0),[C,A]=a.useState(0),M=a.useRef(new Audio),{scrollTopVerseIndex:E,setScrollTopVerseIndex:j,setActiveScroll:g}=a.useContext(nt),{autoScrollText:H,volume:w,audioLanguage:Q,pageControl:S,theme:p,readingLanguage:X}=a.useContext(xe);a.useEffect(()=>{const h=M.current;e.src&&(h.src=at+e.src);const O=()=>{P(h.duration)},I=()=>{c(Math.floor(h.currentTime))};return h.addEventListener("loadedmetadata",O),h.addEventListener("timeupdate",I),()=>{h.removeEventListener("loadedmetadata",O),h.removeEventListener("timeupdate",I)}},[e.src]),a.useEffect(()=>{var h;if(M.current.ended)D();else if(H){const O=(h=e.verses)==null?void 0:h.findIndex((I,F)=>{var oe,ce,le;const ie=(oe=I.verseAudioStart)==null?void 0:oe[Q||Rt.TRANSLATION],te=(le=(ce=e.verses[F+1])==null?void 0:ce.verseAudioStart)==null?void 0:le[Q||Rt.TRANSLATION];return s>=ie&&s<te});O!==-1&&(O!==C||O==0)&&(j(O),A(O),g(me))}},[s,e.verses,Q,H,i]),a.useEffect(()=>{M.current.volume=w/100},[w]);const Z=()=>{const h=M.current;g(me),h.readyState>=2?(o(!0),h.play().catch(O=>ne.custom(I=>{var F,ie;return n.jsx(re,{text:((ie=(F=e.terms.texts.find(te=>te.variable=="Audio Play Error"))==null?void 0:F.text)==null?void 0:ie[X])||"",offset:125,visible:I.visible})}))):ne.custom(O=>{var I,F;return n.jsx(re,{text:((F=(I=e.terms.texts.find(ie=>ie.variable=="Audio Not Ready"))==null?void 0:I.text)==null?void 0:F[X])||"",offset:125,visible:O.visible})})},B=()=>{o(!1),M.current.pause(),g(je)},N=()=>{B(),e.moveToSoundSettingPage()},se=()=>{B(),e.setAudioSeekBarStatus(!1)},m=h=>{M.current.currentTime=h,c(h)},D=()=>{c(0),o(!1),j(0),g(je)},b=()=>n.jsxs(_r,{children:[n.jsx(Cr,{src:p==z.DEFAULT||p==z.DARK?q.bar_reading_audio_subtract:p==z.BLACK_AND_WHITE?q.bar_reading_audio_subtract_BAW:p==z.SAPPHIRE?q.bar_reading_audio_subtract_sapphire:q.bar_reading_audio_subtract_easyocean}),n.jsxs(Er,{children:[n.jsx(Ae,{src:p==z.DEFAULT||p==z.DARK?q.btn_sound_setting:p==z.BLACK_AND_WHITE?q.btn_sound_setting_BAW:p==z.SAPPHIRE?q.btn_sound_setting_sapphire:q.btn_sound_setting_easyocean,onClick:N}),n.jsx(Ur,{duration:f,currentTime:s,onTimeChange:m}),n.jsx(Ae,{src:p==z.DEFAULT||p==z.DARK?q.btn_close:p==z.BLACK_AND_WHITE?q.btn_close_BAW:p==z.SAPPHIRE?q.btn_close_sapphire:q.btn_close_easyocean,onClick:se})]})]}),t=()=>n.jsx(Ir,{src:p==z.DEFAULT||p==z.DARK?q.bar_reading_subtract:p==z.BLACK_AND_WHITE?q.bar_reading_subtract_BAW:p==z.SAPPHIRE?q.bar_reading_subtract_sapphire:q.bar_reading_subtract_easyocean}),r=()=>!e.isIntro&&n.jsx(Hr,{children:e.showAudioSeekBar?i?n.jsx(Ae,{src:p==z.DEFAULT||p==z.DARK?q.btn_pause:p==z.BLACK_AND_WHITE?q.btn_pause_BAW:p==z.SAPPHIRE?q.btn_pause_sapphire:q.btn_pause_easyocean,onClick:B}):n.jsx(Ae,{src:p==z.DEFAULT||p==z.DARK?q.btn_play:p==z.BLACK_AND_WHITE?q.btn_play_BAW:p==z.SAPPHIRE?q.btn_play_sapphire:q.btn_play_easyocean,onClick:Z}):n.jsx(Ae,{src:p==z.DEFAULT||p==z.DARK?q.btn_sound:p==z.BLACK_AND_WHITE?q.btn_sound_BAW:p==z.SAPPHIRE?q.btn_sound_sapphire:q.btn_sound_easyocean,onClick:()=>e.setAudioSeekBarStatus(!0)})}),k=()=>e.bookTitle!="Qur'an"&&n.jsxs(Tr,{isintro:e.isIntro?"true":"false",children:[n.jsxs(kr,{onClick:e.moveToIndexPage,children:[n.jsx(an,{src:at+e.bookImage}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.bookTitle=="Zabur"?"Psalm":e.subBookTitle})]}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Sub book"})]}),V=()=>e.bookTitle!="Qur'an"&&n.jsxs(Rr,{children:[n.jsxs(Ar,{children:[n.jsx(Ze,{onClick:()=>e.handleNavigateBtn(S==qe.LEFT_TO_RIGHT?Xe:Ce),children:n.jsx(yt,{})}),n.jsx(Br,{onClick:e.moveToIndexPage,children:n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",textAlign:"center",children:e.isIntro?"In":e.bookTitle=="Zabur"?e.subBookNumber.toString():e.chapterNumber.toString()})}),n.jsx(Ze,{onClick:()=>e.handleNavigateBtn(S==qe.LEFT_TO_RIGHT?Ce:Xe),children:n.jsx(Nt,{})})]}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Chapter"})]}),d=()=>e.bookTitle=="Qur'an"&&n.jsxs(Pr,{children:[n.jsxs(Nr,{children:[n.jsx(Ze,{onClick:()=>e.handleNavigateBtn(S==qe.LEFT_TO_RIGHT?Xe:Ce),children:n.jsx(yt,{})}),n.jsxs(jr,{onClick:e.moveToIndexPage,children:[n.jsxs(Lr,{children:[n.jsx(an,{src:at+e.bookImage}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookTitle})]}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookNumber.toString()})]}),n.jsx(Ze,{onClick:()=>e.handleNavigateBtn(S==qe.LEFT_TO_RIGHT?Ce:Xe),children:n.jsx(Nt,{})})]}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Surah"})]}),L=()=>!e.isIntro&&n.jsxs(Or,{children:[n.jsx(Mr,{onClick:e.moveToSubBookExplorer,children:n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:(E<=0?1:E+1).toString()})}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Aya"})]}),U=()=>n.jsx(Dr,{onClick:e.moveToSettingsPage,children:n.jsx(Sn,{})}),x=()=>n.jsxs(wr,{children:[t(),r(),k(),V(),d(),L(),U()]});return n.jsxs(yr,{children:[e.showAudioSeekBar&&b(),x()]})}function _t(e){var t,r,k,V;const[i,o]=a.useState(e.isExistingInBookmark?100:0),[s,c]=a.useState(null),[f,P]=a.useState(!1),[C,A]=a.useState(0),[M,E]=a.useState(0),{textSize:j,theme:g,readingLanguage:H}=a.useContext(xe),{mainBGColor:w}=Se(g),Q=a.useRef(null),S=a.useRef(i),p=e.refer,X=a.useRef(0),Z=window.matchMedia("(orientation: portrait)").matches;a.useEffect(()=>{S.current=i},[i]),a.useEffect(()=>{if(Q.current&&p.current&&("verseHeader"in e.verse&&(Q.current.style.height=`${p.current.getBoundingClientRect().height-4}px`,Q.current.style.bottom="2px",Q.current.style.alignSelf="self-end"),p.current.offsetHeight>0&&p.current.offsetHeight<=24)){const d=Q.current.children[0];d.style.width="20px",d.style.height="20px",d.children[1].style.width="10px",d.children[1].style.height="10px"}},[e.verse,e.translatePanelHeight,Z]);const B=a.useCallback(d=>{if(d>0&&d<At){const L=d/At*100,U=e.isExistingInBookmark?100-L:L;o(U),S.current=U}else if(d>0){const L=e.isExistingInBookmark?0:100;o(L),S.current=L}else{const L=e.isExistingInBookmark?100:0;o(L),S.current=L}},[e.isExistingInBookmark]),N=a.useCallback(()=>{if(p.current){const d=Math.max(0,Math.min(M,Cn));p.current.style.transform=`translateX(${d}px)`,B(d-_n)}f&&(X.current=requestAnimationFrame(N))},[f,M,B]);a.useEffect(()=>(f?X.current=requestAnimationFrame(N):cancelAnimationFrame(X.current),()=>cancelAnimationFrame(X.current)),[f,N]);const se=d=>{var U;!e.language&&P(!0),A(d);const L=(U=p.current)==null?void 0:U.getAttribute("data-id");L&&c(L)},m=d=>{if(!f)return;const L=Math.max(0,d-C);e.isLoggedIn&&L>Bt&&E(L-Bt)},D=()=>{P(!1),p.current&&(!e.isExistingInBookmark&&S.current==100||e.isExistingInBookmark&&S.current==0?s&&e.handleBookmark(s):e.isExistingInBookmark?(o(100),S.current=100):(o(0),S.current=0),p.current.style.transition="transform 0.3s ease-out",p.current.style.transform="translateX(0)",setTimeout(()=>{p.current&&(p.current.style.transition="")},300)),E(0)};a.useEffect(()=>{const d=p.current;if(d){const L=F=>{F.preventDefault(),se(F.clientX)},U=F=>{F.preventDefault(),m(F.clientX)},x=F=>{F.preventDefault(),D()},h=F=>{se(F.touches[0].clientX)},O=F=>{m(F.touches[0].clientX)},I=F=>{D()};return d.addEventListener("mousedown",L),document.addEventListener("mousemove",U),document.addEventListener("mouseup",x),d.addEventListener("touchstart",h),d.addEventListener("touchmove",O),d.addEventListener("touchend",I),()=>{d.removeEventListener("mousedown",L),document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",x),d.removeEventListener("touchstart",h),d.removeEventListener("touchmove",O),d.removeEventListener("touchend",I)}}},[p,B,e.handleBookmark,C]);const b=d=>{for(var L in d)if(d[L]!==null&&d[L]!=="")return!0;return!1};return n.jsxs(dr,{children:["verseHeader"in e.verse&&b(e.verse.verseHeader)&&n.jsx(hr,{"data-id":e.verse.verseId,"data-index":e.index,style:{backgroundColor:w},children:n.jsx(K,{fontFamily:"Inter",fontWeight:"700",backgroundColor:w,fontSize:j,lineHeight:j+15,direction:e.language||H===Be?"rtl":"ltr",children:e.verse.verseHeader[e.language||H]})}),!e.language&&n.jsx(On,{progress:i,refer:Q,backgroundColor:w}),n.jsx(fr,{"data-id":"verseId"in e.verse?e.verse.verseId:e.verse.id,"data-index":e.index,ref:e.refer,children:e.isIntro?n.jsx(K,{fontFamily:"Inter",backgroundColor:w,dataIndex:e.language?"":e.index.toString(),lineHeight:j+20,direction:H===Be?"rtl":"ltr",fontSize:e.verse.title?j+2:j,fontWeight:e.verse.title?"bold":"500",textAlign:e.verse.title?"center":"left",children:((t=e.verse.title)==null?void 0:t[e.language||H])||((r=e.verse.text)==null?void 0:r[e.language||H])}):n.jsx(K,{fontFamily:"Inter",fontSize:j,backgroundColor:w,dataIndex:e.language?"":e.index.toString(),lineHeight:j+20,direction:H===Be?"rtl":"ltr",children:"verseText"in e.verse?(k=e.verse.verseText)==null?void 0:k[e.language||H]:(V=e.verse.text)==null?void 0:V[e.language||H]})})]})}function ln(e){var N,se,m,D,b,t,r,k,V,d,L,U;const[i,o]=a.useState([]),[s,c]=a.useState([]),{scrollTopVerseIndex:f,setScrollTopVerseIndex:P,setHiddenTopVersePercentage:C,activeScroll:A,setActiveScroll:M}=a.useContext(nt),E=a.useRef(null),j=a.useRef(null),g=a.useRef([]);g.current=(N=e.verses)==null?void 0:N.map((x,h)=>g.current[h]??a.createRef());const{theme:H,displayType:w}=a.useContext(xe),{mainBGColor:Q,textColor:S}=Se(H),p=localStorage.getItem(En)||wn,X=a.useCallback(()=>{var h;let x=[];return(h=g.current)==null||h.forEach(O=>{O.current&&O.current.children[0]&&x.push(O.current.children[0].offsetHeight)}),x},[g]);a.useEffect(()=>{var x;if(((x=e.verses)==null?void 0:x.length)>0){const h=g.current[f-1];h!=null&&h.current&&h.current.scrollIntoView(),P(0),C(0)}},[e.verses]),a.useEffect(()=>{const x=X();o(x);const h=x.reduce((O,I,F)=>(O[F]=(O[F-1]||0)+I,O),[]);c(h)},[e.verses,X]);const Z=a.useCallback(()=>{if(!E.current)return;const x=E.current.scrollTop;M(Pe);let h=0,O=s.length-1;for(;h<=O;){const le=Math.floor((h+O)/2);s[le]>x?O=le-1:h=le+1}const I=h-1;P(I);const F=I>0?s[I-1]:0,ie=i[I],oe=(x-F)/ie*100,ce=Math.min(Math.max(oe,0),100);C(ce)},[s,i,P]);a.useEffect(()=>{const x=E.current;if(x)return x.addEventListener("scroll",Z),x.addEventListener("scrollend",()=>M(je)),()=>{x.removeEventListener("scroll",Z)}}),a.useEffect(()=>{var x;if((w===ae.SPLIT_PANEL||w===ae.ONLY_TRNSLATION)&&f>=0&&(A==Je||A==me)){const h=g.current[Number(f)];(x=h==null?void 0:h.current)==null||x.scrollIntoView()}},[f,w]);const B=(x,h)=>{var O;return x.image?n.jsx(on,{src:x.image.url,alt:x.image.alt},h):x.isCollapse?n.jsx(cr,{children:n.jsx(jn,{label:(O=x.title)==null?void 0:O[p],outArrow:!0,detail:n.jsx(ur,{children:x.content.map((I,F)=>!I.url&&!I.isTitle?n.jsx(K,{children:I==null?void 0:I[p]},F):!I.url&&I.isTitle?n.jsx(K,{fontWeight:"bold",isTitle:!0,children:I==null?void 0:I[p]},F):n.jsx(on,{src:I.url,alt:I.alt},F))})})},h):n.jsx(_t,{refer:g.current[h],verse:x,index:h,language:p,isExistingInBookmark:e.bookmarks.some(I=>I.id===x.id),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,isIntro:!0,handleBookmark:e.handleBookmark},h)};return a.useEffect(()=>{var x;j.current&&A!=Je&&A!=Pe&&A!=me&&A!=je&&e.prevPage!=Ne.SUBBOOKEXPLORER&&((x=j.current)==null||x.scrollIntoView())},[f]),n.jsx(sr,{style:{backgroundColor:Q,color:S,height:e.height},children:n.jsxs(lr,{ref:E,children:[!e.isIntro&&!e.isSpecialBook&&n.jsxs(rn,{ref:j,children:[n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(m=(se=e.subBookInfo)==null?void 0:se.subBookTitle)==null?void 0:m.ar}),n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(b=(D=e.subBookInfo)==null?void 0:D.subBookTitle)==null?void 0:b.origin}),n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`The ${Pt(e.chapterNumber||1)} Chapter`}),n.jsx(K,{})]}),!e.isIntro&&e.isSpecialBook&&n.jsxs(rn,{ref:j,children:[n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(r=(t=e.subBookInfo)==null?void 0:t.subBookTitle)==null?void 0:r.ar}),n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(V=(k=e.subBookInfo)==null?void 0:k.subBookTitle)==null?void 0:V.transliteration}),n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`The ${Pt(((d=e.subBookInfo)==null?void 0:d.subBookNumber)||1)} Surah`}),n.jsx(K,{})]}),!e.isIntro&&((L=e.verses)==null?void 0:L.map((x,h)=>n.jsx(_t,{refer:g.current[h],verse:x,index:h,isExistingInBookmark:e.bookmarks.some(O=>O.verseId===x.verseId),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,handleBookmark:e.handleBookmark},h))),e.isIntro&&((U=e.verses)==null?void 0:U.map((x,h)=>B(x,h)))]})})}const Xr=_(T)({margin:"0px",height:"100dvh"}),cn=_(T)(({showaudioseekbar:e})=>({width:"100%",padding:"20px",height:e=="true"?"calc(100dvh - 150px)":"calc(100dvh - 100px)"})),zr=_(T)({width:"45px",height:"8px",margin:"auto",marginTop:"-4px",position:"relative",zIndex:"2",cursor:"grab","&:active":{cursor:"grabbing"}}),Yr=_(T)({width:"100%",height:"100%",overflowX:"hidden",overflowY:"auto",margin:"0px",paddingBottom:"0px"}),Kr=_(T)({width:"100%",padding:"15px"});function Gr(e){const i=window.matchMedia("(orientation: portrait)").matches,[o,s]=a.useState([]),[c,f]=a.useState(null),[P,C]=a.useState(!1),[A,M]=a.useState(i?200:120),[E,j]=a.useState(!1),[g,H]=a.useState(),[w,Q]=a.useState(),[S,p]=a.useState(),[X,Z]=a.useState(0),[B,N]=a.useState(0),[se,m]=a.useState(!0),{theme:D,displayType:b,readingLanguage:t}=a.useContext(xe),{mainBGColor:r,topTextColor:k}=Se(D),{scrollTopVerseIndex:V,setScrollTopVerseIndex:d,setActiveScroll:L}=a.useContext(nt),U=a.useRef([]),x=a.useRef([]);U.current=o==null?void 0:o.map((u,l)=>(U==null?void 0:U.current[l])??a.createRef()),x.current=o==null?void 0:o.map((u,l)=>(x==null?void 0:x.current[l])??a.createRef());const h=100,O=100;window.matchMedia("(orientation: portrait)").addEventListener("change",u=>{const l=u.matches;M(l?200:120)});const[I,F]=a.useState(typeof window<"u"?window.innerHeight:1e3),ie=e.showAudioSeekBar?I-150-A:I-100-A,te=Pn(),oe=a.useCallback(u=>{Ye.fetchVerses(u).then(l=>{var y;if(s(l.verses),l&&l.length>0){const R=(y=l.chapteraudio)==null?void 0:y.find(v=>v.language==t);f(R)}e.dispatch({type:$.ADD_CHAPTERINFO,payload:{chapterInfo:l}}),C(!1)}).catch(l=>{C(!1),ne.custom(y=>n.jsx(re,{text:l,offset:70,visible:y.visible}))})},[e.currentChapter]),ce=a.useCallback((u,l)=>{var y,R;if(j(l),(y=e.chapterInfos)!=null&&y.length){const v=e.chapterInfos.find(W=>W.chapterId===u);if(v){j(v.chapterNumber==0),s(v.verses);const W=(R=v.chapterAudio)==null?void 0:R.find(ee=>ee.language==t);f(W==null?void 0:W.audio)}else l?le(u):oe(u);C(!1)}else l?le(u):oe(u)},[e.currentChapter]),le=a.useCallback(u=>{Ye.fetchIntroVerses(u).then(l=>{s(l.verses),e.dispatch({type:$.ADD_CHAPTERINFO,payload:{chapterInfo:l}})}).catch(l=>{ne.custom(y=>n.jsx(re,{text:l,offset:70,visible:y.visible}))}).finally(()=>{C(!1)})},[]),ve=a.useCallback(async u=>{try{const l=await Ye.fetchSubBookInfo(u);e.dispatch({type:$.ADD_SUBBOOK,payload:{subBook:l}}),p(l)}catch(l){ne.custom(y=>n.jsx(re,{text:l,visible:y.visible}))}finally{C(!1)}},[e.subBooks,e.currentSubBook]),Le=a.useCallback(u=>{for(const l of e.bookInfos)for(const y of l.subBooks){const R=y.chapterInfos.find(v=>v.chapterId==u);if(R)return R}},[]),Oe=a.useCallback(u=>{for(const l of e.subBooks){const y=l.chapterInfos.find(R=>R.chapterId==u);if(y)return y}},[]);a.useEffect(()=>{const u=e.bookInfos.find(l=>l.bookId==e.currentBook);Q(u)},[]),a.useEffect(()=>{var y;const u=(y=e.chapterInfos)==null?void 0:y.find(R=>R.chapterId==e.currentChapter),l=(u==null?void 0:u.chapterNumber)||0;N(l)},[e.chapterInfos]),a.useEffect(()=>{var l;const u=e.terms.find(y=>y.pageTitle=="Reading Page");(l=u==null?void 0:u.isPublished)!=null&&l[t]?H(u):ne.custom(y=>n.jsx(re,{text:"The terminologies for this page are not published.",visible:y.visible}))},[e.terms]),a.useEffect(()=>{const u=e.subBooks.find(l=>l.subBookId==e.currentSubBook);!u&&e.currentSubBook?ve(e.currentSubBook):u&&e.currentSubBook&&p(u)},[e.subBooks,e.currentSubBook]),a.useEffect(()=>{var u,l,y,R;if(C(!0),e.currentVerse){const v=o.find(W=>W.verseId==e.currentVerse);v&&(d(((u=v[0])==null?void 0:u.verseNumber)-1),b==ae.VERSE_BY_VERSE&&((l=x.current[v[0].verseNumber-1].current)==null||l.scrollIntoView()))}if(e.currentChapter){const v=Le(e.currentChapter);if(((y=e.subBookInfos)==null?void 0:y.length)>=0){const W=e.subBookInfos.find(ee=>ee.subBookId===e.currentSubBook);if(W){const ee=W.chapterInfos.find(ue=>ue.chapterId===e.currentChapter);if(ee){j(ee.chapterNumber==0),s(ee.verses);const ue=(R=ee.chapterAudio)==null?void 0:R.find(ge=>ge.language==t);f(ue)}else j(!!v),ce(e.currentChapter,(v==null?void 0:v.chapterNumber)==0)}else j(!!v),ce(e.currentChapter,(v==null?void 0:v.chapterNumber)==0)}else j(!!v),ce(e.currentChapter,(v==null?void 0:v.chapterNumber)==0)}C(!1)},[E,e.currentVerse,e.currentChapter,b]),a.useEffect(()=>{const u=()=>F(window.innerHeight);return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),a.useEffect(()=>{C(!0);let u=!1;if(e.userHistory&&e.userHistory.length>0&&e.userHistory.forEach(l=>{if(l.readChapterIds.includes(e.currentChapter)){u=!0,C(!1);return}}),!u){const l={chapterId:e.currentChapter};Ye.saveHistory(l).then(y=>{e.dispatch({type:$.SET_USER_HISTORY,payload:{userHistories:y}}),C(!1)}).catch(y=>{y.status==401&&y.response.data.message==st&&(ne.custom(R=>n.jsx(re,{text:y.response.data.message,visible:R.visible})),lt.logout(),te("/login")),C(!1)})}},[]),a.useEffect(()=>{var y,R;const u=(y=S==null?void 0:S.chapterInfos)==null?void 0:y.find(v=>v.chapterId==e.currentChapter),l=(R=u==null?void 0:u.verses)==null?void 0:R.find(v=>v.verseId==e.currentVerse);l!=null&&l.verseNumber?Z((l==null?void 0:l.verseNumber)-1):Z(1)},[e.currentVerse,S]),a.useEffect(()=>{L(me),d(X)},[X]),a.useEffect(()=>{X<=1&&m(!0)},[X]),a.useEffect(()=>{(b==ae.ONLY_TRNSLATION||E)&&M(0),b!=ae.ONLY_TRNSLATION&&!E&&M(i?200:120)},[b,E]),a.useEffect(()=>{var u,l;b==ae.VERSE_BY_VERSE&&V>=0&&((l=(u=x.current[V])==null?void 0:u.current)==null||l.scrollIntoView())},[V,b,x,o]),a.useEffect(()=>{var u,l;b==ae.VERSE_BY_VERSE&&V>=0&&((l=(u=x.current[0])==null?void 0:u.current)==null||l.scrollIntoView(),d(0))},[b,o,x]);const Ee=a.useCallback(u=>{var R;C(!0);const l=(R=e.bookmark)==null?void 0:R.find(v=>v.verseId===u),y={verseId:u};try{if(!l)jt.saveBookmark(y).then(v=>{e.dispatch({type:$.ADD_BOOKMARK,payload:{bookmark:v.bookmark}}),C(!1),ne.custom(W=>{var ee,ue;return n.jsx(re,{text:((ue=(ee=g==null?void 0:g.texts.find(ge=>ge.variable=="Bookmark Saved"))==null?void 0:ee.text)==null?void 0:ue[t])||"",type:ze.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:W.visible})})}).catch(v=>{C(!1),v.status==401&&v.response.data.message==st&&(ne.custom(W=>n.jsx(re,{text:v.response.data.message,offset:e.showAudioSeekBar?125:70,visible:W.visible})),lt.logout(),te("/login"))});else{const v=e.bookmark.filter(W=>W.verseId==u);v&&v.length>0&&jt.deleteBookmark(v[0]._id).then(()=>{e.dispatch({type:$.REMOVE_BOOKMARK,payload:{bookmarkId:l._id}}),C(!1),ne.custom(W=>{var ee,ue;return n.jsx(re,{text:((ue=(ee=g==null?void 0:g.texts.find(ge=>ge.variable=="Bookmark Deleted"))==null?void 0:ee.text)==null?void 0:ue[t])||"",type:ze.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:W.visible})})}).catch(W=>{C(!1),W.status==401&&W.response.data.message==st&&(ne.custom(ee=>n.jsx(re,{text:W.response.data.message,type:ze.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:ee.visible})),lt.logout(),te("/login"))})}}catch(v){C(!1),ne.custom(W=>n.jsx(re,{text:v,type:ze.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:W.visible}))}},[e]),Me=a.useCallback((u,l,y)=>{let R=l+(y-u),v=I-150-R;R<h?(R=h,v=I-150-h):v<O&&(R=I-150-O),M(R)},[I]),De=u=>{const l=u.clientY,y=A,R=W=>Me(l,y,W.clientY),v=()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",R),document.addEventListener("mouseup",v)},pe=u=>{const l=u.touches[0].clientY,y=A,R=W=>Me(l,y,W.touches[0].clientY),v=()=>{document.removeEventListener("touchmove",R),document.removeEventListener("touchend",v)};document.addEventListener("touchmove",R),document.addEventListener("touchend",v)},be=u=>{e.dispatch({type:$.SET_AUDIO_SEEK_BAR_STATUS,payload:{showAudioSeekBar:u}})},He=()=>{te("/settings")},ye=()=>{te("/sound-settings")},Ve=()=>{e.dispatch({type:$.SET_CURRENT_CHAPTER,payload:{currentChapter:""}}),e.dispatch({type:$.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:$.SET_PREVIOUS_PAGE,payload:{prevPage:Ne.READING}}),te("/book")},it=()=>{var y,R;const u=(y=S==null?void 0:S.chapterInfos)==null?void 0:y.find(v=>v.chapterNumber==B),l=(R=u==null?void 0:u.verses)==null?void 0:R.find(v=>v.verseNumber==V+1);e.dispatch({type:$.SET_CURRENT_SUBBOOK,payload:{currentSubBook:S==null?void 0:S.subBookId}}),e.dispatch({type:$.SET_CURRENT_CHAPTER,payload:{currentChapter:u==null?void 0:u.chapterId}}),e.dispatch({type:$.SET_CURRENT_VERSE,payload:{currentVerse:l==null?void 0:l.verseId}}),te("/subbookexplorer")},Fe=a.useCallback(u=>{var v,W,ee,ue,ge,wt,It,Tt;const l=de=>{var Y;const J=(Y=S==null?void 0:S.chapterInfos)==null?void 0:Y.find(G=>G.chapterNumber==de);J&&(e.dispatch({type:$.SET_CURRENT_CHAPTER,payload:{currentChapter:J.chapterId}}),e.dispatch({type:$.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:$.SET_PREVIOUS_PAGE,payload:{prevPage:Ne.READING}}),Z(0),d(0),J.chapterNumber==0?j(!0):j(!1),N(J.chapterNumber),s(J.verses),C(!1))},y=(de,J)=>{if(de&&de.chapterInfos&&de.chapterInfos.length>0){const Y=de.chapterInfos[0].chapterId;e.dispatch({type:$.SET_CURRENT_CHAPTER,payload:{currentChapter:Y}}),e.dispatch({type:$.SET_CURRENT_SUBBOOK,payload:{currentSubBook:de.subBookId}}),e.dispatch({type:$.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:$.SET_PREVIOUS_PAGE,payload:{prevPage:Ne.READING}}),Z(1),d(1);const G=Oe(Y);p(de),ce(Y,(G==null?void 0:G.chapterNumber)==0)}else ne.custom(Y=>{var G,he,_e,kt;return n.jsx(re,{text:J?((he=(G=g==null?void 0:g.texts.find(ot=>ot.variable=="Last Chapter"))==null?void 0:G.text)==null?void 0:he[t])||"":((kt=(_e=g==null?void 0:g.texts.find(ot=>ot.variable=="First Chapter"))==null?void 0:_e.text)==null?void 0:kt[t])||"",offset:e.showAudioSeekBar?125:70,visible:Y.visible})}),C(!1)};if(((v=w==null?void 0:w.bookTitle)==null?void 0:v.en)=="Qur'an"||((W=w==null?void 0:w.bookTitle)==null?void 0:W.en)=="Zabur"){const de=((ee=w==null?void 0:w.subBooks)==null?void 0:ee.length)||1,J=(S==null?void 0:S.subBookNumber)||1;if(u==Ce)if(J+1<de){const Y=w.subBooks.find(G=>G.subBookNumber==J+1);e.dispatch({type:$.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),d(0),Y&&y(Y,!0)}else ne.custom(Y=>{var G,he;return n.jsx(re,{text:((he=(G=g==null?void 0:g.texts.find(_e=>_e.variable=="Last Chapter"))==null?void 0:G.text)==null?void 0:he[t])||"",offset:70,visible:Y.visible})});else if(J-1>0){const Y=w.subBooks.find(G=>G.subBookNumber==J-1);e.dispatch({type:$.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),d(0),Y&&y(Y,!1)}else ne.custom(Y=>{var G,he;return n.jsx(re,{text:((he=(G=g==null?void 0:g.texts.find(_e=>_e.variable=="First Chapter"))==null?void 0:G.text)==null?void 0:he[t])||"",offset:70,visible:Y.visible})})}else{const de=((ue=S==null?void 0:S.chapterInfos)==null?void 0:ue.length)||1;if(u==Ce)if(B+1<=de){const J=((wt=(ge=S==null?void 0:S.chapterInfos)==null?void 0:ge.find(Y=>Y.chapterNumber==B+1))==null?void 0:wt.chapterNumber)||2;e.dispatch({type:$.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),d(0),l(J)}else ne.custom(J=>{var Y,G;return n.jsx(re,{text:((G=(Y=g==null?void 0:g.texts.find(he=>he.variable=="Last Chapter"))==null?void 0:Y.text)==null?void 0:G[t])||"",offset:70,visible:J.visible})});else if(B-1>0){const J=((Tt=(It=S==null?void 0:S.chapterInfos)==null?void 0:It.find(Y=>Y.chapterNumber==B-1))==null?void 0:Tt.chapterNumber)||1;e.dispatch({type:$.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),d(0),l(J)}else ne.custom(J=>{var Y,G;return n.jsx(re,{text:((G=(Y=g==null?void 0:g.texts.find(he=>he.variable=="First Chapter"))==null?void 0:Y.text)==null?void 0:G[t])||"",offset:70,visible:J.visible})})}},[e.subBooks,S,B]),We=()=>E&&n.jsx(cn,{showaudioseekbar:"false",children:n.jsx(ln,{verses:o,topVerseNumber:X,showTitle:se,prevPage:e.prevPage,height:ie,originPanelHeight:A,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:E,handleBookmark:Ee})}),Ue=()=>{var u,l;return!E&&n.jsxs(cn,{showaudioseekbar:e.showAudioSeekBar?"true":"false",children:[b==ae.SPLIT_PANEL&&n.jsxs(n.Fragment,{children:[n.jsx(gr,{verses:o,topVerseNumber:X,prevPage:e.prevPage,height:A}),n.jsx(zr,{style:{backgroundColor:k},onMouseDown:De,onTouchStart:pe})]}),(b==ae.ONLY_TRNSLATION||b==ae.SPLIT_PANEL)&&n.jsx(ln,{subBookInfo:S,chapterNumber:B,verses:o,topVerseNumber:X,showTitle:se,prevPage:e.prevPage,height:ie,originPanelHeight:A,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:E,isSpecialBook:((u=w==null?void 0:w.bookTitle)==null?void 0:u.en)=="Qur'an"||((l=w==null?void 0:w.bookTitle)==null?void 0:l.en)=="Zabur",handleBookmark:Ee}),b==ae.VERSE_BY_VERSE&&n.jsx(Yr,{children:o.map((y,R)=>{var v;return n.jsxs(Kr,{ref:x.current[R],children:[n.jsx(bt,{verse:y,refer:U.current[R],index:R}),n.jsx(_t,{refer:U.current[R],verse:y,index:R,isLoggedIn:!!e.currentUser,handleBookmark:Ee,isExistingInBookmark:((v=e.bookmark.filter(W=>W.verseId==y.verseId))==null?void 0:v.length)>0})]},R)})})]})},pn=()=>n.jsx(qr,{src:c,bookTitle:(w==null?void 0:w.bookTitle.en)||"",bookImage:(w==null?void 0:w.bookImage)||"",subBookTitle:(S==null?void 0:S.subBookTitle.en)||"",subBookNumber:(S==null?void 0:S.subBookNumber)||0,chapterNumber:B,showAudioSeekBar:e.showAudioSeekBar,verses:o,isIntro:E,terms:g||{pageId:"",pageNumber:0,pageTitle:"",isCompleted:{},isPublished:{},texts:[]},setAudioSeekBarStatus:be,moveToSettingsPage:He,moveToSoundSettingPage:ye,moveToIndexPage:Ve,moveToSubBookExplorer:it,handleNavigateBtn:Fe});return n.jsxs(Xr,{style:{backgroundColor:r},children:[We(),Ue(),pn(),P&&n.jsx(Ln,{})]})}const $r=e=>({bookmark:e.books.bookmark,bookInfos:e.books.bookInfos,currentBook:e.pageStatus.currentBook,prevPage:e.pageStatus.prevPage,subBooks:e.books.subBooks,subBookInfos:e.books.subBookInfos,chapterInfos:e.books.chapterInfos,currentSubBook:e.pageStatus.currentSubBook,currentChapter:e.pageStatus.currentChapter,currentVerse:e.pageStatus.currentVerse,userHistory:e.books.userHistory,currentUser:e.user.currentUser,showAudioSeekBar:e.pageStatus.showAudioSeekBar,terms:e.terms.terms}),li=Bn($r)(Gr);export{li as default};
