import{b as v,$ as x,j as e,Q as r,a0 as S,ap as X}from"./index-DDg5x1vp.js";import{s as a,B as l,c as Y,u as $,S as Z,d as ee,g as te,_ as j,e as ae}from"./App-BWJORKtV.js";import{I as i,T as ne}from"./images-BVMc-T4x.js";import{L as se,C as T}from"./index-BSHHknB4.js";import{N as ie,b as oe,c as le,d as re,S as ue,a as ce}from"./index-B1sU7mko.js";import{S as de}from"./index-D-baJuIx.js";import{a as A}from"./auth.service-Dnuse4UM.js";import"./index-CdQPDgV8.js";import"./axios-BimPEqV4.js";const ge=a(l)({backgroundColor:"#1B7695",width:"100%",height:"100%",padding:"20px 30px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center","@media screen and (orientation: landscape)":{width:"100vw",height:"auto",minHeight:"100dvh",display:"block"}});a(l)({display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"});a(l)({margin:"0px"});const pe=a(l)({backgroundColor:"#FFF",height:"calc(100dvh - 80px)",padding:"24px",width:"100%","@media (min-width: 430px)":{width:"375px"},"@media screen and (orientation: landscape)":{margin:"auto",height:"calc(100dvh + 150px)"}}),he=a(l)({display:"flex",justifyContent:"space-between"}),me=a(l)({display:"flex",justifyContent:"space-between"}),xe=a(l)({marginBottom:"30px","& .MuiFormControlLabel-root":{marginRight:"0px",width:"85%",alignSelf:"end"},"& .css-h145cq-MuiInputBase-root-MuiOutlinedInput-root-MuiSelect-root":{height:"28px"},"& .css-cw5clm-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input.css-cw5clm-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input.css-cw5clm-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input":{paddingRight:"0px"}}),Se=a(l)({margin:"12px 0px"});a(l)({width:"100vw",display:"flex"});a("img")({width:"100vw",position:"fixed",bottom:"0px",objectFit:"cover","@media (min-width: 412px)":{height:"150px",width:"100vw"},"@media (min-width: 719px)":{height:"170px",width:"100vw"},"@media (min-width: 949px)":{height:"200px"}});a(l)({display:"flex",justifyContent:"space-between",width:"100px",position:"fixed",left:"0",right:"0",bottom:"30px",margin:"auto","@media (min-width: 599px)":{width:"140px"}});a("img")({width:"40px",cursor:"pointer","&:active":{opacity:"0.8"},"@media (min-width: 599px)":{width:"50px"}});function fe(u){const[I,h]=v.useState(!1),{t:o}=$(),{textSize:L,theme:n,startAyasOnNewLine:_,showAyasNumbers:B,ayasNumberDisplayFormat:E,showQuranReferences:N,displayType:O,referenceLanguage:f,readingLanguage:y,readingControls:D,pageControl:R,volume:c,setVolume:M,autoScrollText:d,setAutoScrollText:F,audioLanguage:g,setAudioLanguage:k,audioOtherLanguage:p,setAudioOtherLanguage:U}=v.useContext(Z),{headerBGColor:H,mainBGColor:C,altTextColor:b}=te(n),m=ee(),P=s=>{const t=s.target.value;U(t)},V=[{value:"en",label:o("English")},{value:"dutch",label:o("Dutch")}],G=[{value:f,label:o("Original Language")},{value:y,label:o("Translation")},{value:x.OTHER,disable:!0,label:e.jsx(de,{label:"",value:p||x.TRANSLATION,disabled:!0,options:V,backgroundColor:C,textColor:b,onChange:P})}],K=()=>e.jsxs(pe,{style:{backgroundColor:C},children:[e.jsx(he,{children:e.jsx(oe,{label:o("Volume"),defaultValue:c,step:5,labelValue:!0,onChange:M})}),e.jsx(me,{children:e.jsx(le,{label:o("Auto Scroll"),value:d,labelValue:!0,onChange:F})}),e.jsxs(xe,{children:[e.jsx(Se,{children:e.jsx(ne,{fontFamily:"Inter",color:b,children:o("Language")})}),e.jsx(re,{value:g||x.TRANSLATION,options:G,onChange:k})]}),e.jsx(ue,{})]}),W=()=>{m(-1)},J=()=>{if(u.currentUser)Q();else{const s=localStorage.getItem(S);if(s){const t=JSON.parse(s);t.volume=c,t.autoScrollText=d,t.audioLanguage=g,t.audioOtherLanguage=p,localStorage.setItem(S,JSON.stringify(t))}else{const z=JSON.stringify({textSize:L,theme:n,startAyasOnNewLine:_,showAyasNumbers:B,ayasNumberDisplayFormat:E,showQuranReferences:N,displayType:O,referenceLanguage:f,readingLanguage:y,readingControls:D,pageControl:R,volume:c,autoScrollText:d,audioLanguage:g,audioOtherLanguage:p});localStorage.setItem(S,z)}j.custom(t=>e.jsx(T,{text:o("Setting Alert Description"),offset:70,visible:t.visible})),w()}},w=()=>{m(-1)},Q=()=>{h(!0),A.updateSettings({soundSettings:{volume:c,autoScrollText:d,language:g,other:p}}).then(s=>{h(!1),s&&u.dispatch({type:ae.SET_CURRENT_USER,payload:{user:s}}),w()}).catch(s=>{h(!1),s.status==401&&s.response.data.message==X&&(j.custom(t=>e.jsx(T,{text:o(s.response.data.message),visible:t.visible})),A.logout(),m("/login"))})},q=()=>e.jsx(ce,{footerImg:i.sound_setting_subtract,closeImg:n==r.DEFAULT||n==r.DARK?i.close2:n==r.BLACK_AND_WHITE?i.close2_BAW:n==r.SAPPHIRE?i.close2_sapphire:i.close2_easyocean,tickImg:n==r.DEFAULT||n==r.DARK?i.tickBtn:n==r.BLACK_AND_WHITE?i.tickBtn_BWA:n==r.SAPPHIRE?i.tickBtn_sapphire:i.tickBtn_easyocean,onClose:W,onSave:J});return e.jsxs(e.Fragment,{children:[e.jsxs(ge,{style:{backgroundColor:H},children:[e.jsx(ie,{title:o("Sound Settings"),icon:n==r.EASY_OCEAN?i.sound_setting_easyocean:i.sound_setting}),K()]}),q(),I&&e.jsx(se,{})]})}function ye(u){return{currentUser:u.user.currentUser}}const _e=Y(ye)(fe);export{_e as default};
