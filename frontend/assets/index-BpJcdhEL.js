var oo=Object.defineProperty;var to=(e,o,t)=>o in e?oo(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t;var Ie=(e,o,t)=>to(e,typeof o!="symbol"?o+"":o,t);import{_ as y,b as u,ag as no,c as X,j as n,N as Q,a7 as ao,o as ee,J as he,ab as me,ad as ke,Q as T,M as F,ah as xe,ai as io,aj as so,ak as be,ac as ro,al as we}from"./index-BE3uQJXX.js";import{w as oe,x as te,s as r,y as ne,T as lo,z as co,A as uo,D as po,E as q,F as ae,G as je,P as go,J as Fe,K as fo,M as ze,N as pe,O as ye,S as ie,g as se,Q as xo,B as I,R as bo,u as le,_ as K,c as ho,d as mo,e as V}from"./App-C54qGOPD.js";import{T as z,I as h,g as ko,a as Ae}from"./images-BU8WrZ8M.js";import{S as yo}from"./index-BP5sZEkl.js";import{C as G,L as vo}from"./index-B30yO50J.js";import{b as Re}from"./book.service-W6YhLd3O.js";import{b as Te}from"./bookmark.service-BUBrwai5.js";import"./index-DL4NZW23.js";import"./axios-BimPEqV4.js";function Co(e){return oe("MuiCollapse",e)}te("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Bo=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],So=e=>{const{orientation:o,classes:t}=e,a={root:["root",`${o}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${o}`],wrapperInner:["wrapperInner",`${o}`]};return ae(a,Co,t)},Io=r("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,o[t.orientation],t.state==="entered"&&o.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&o.hidden]}})(({theme:e,ownerState:o})=>y({height:0,overflow:"hidden",transition:e.transitions.create("height")},o.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},o.state==="entered"&&y({height:"auto",overflow:"visible"},o.orientation==="horizontal"&&{width:"auto"}),o.state==="exited"&&!o.in&&o.collapsedSize==="0px"&&{visibility:"hidden"})),wo=r("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,o)=>o.wrapper})(({ownerState:e})=>y({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),jo=r("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,o)=>o.wrapperInner})(({ownerState:e})=>y({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Ue=u.forwardRef(function(o,t){const a=ne({props:o,name:"MuiCollapse"}),{addEndListener:i,children:x,className:s,collapsedSize:l="0px",component:f,easing:m,in:B,onEnter:w,onEntered:j,onEntering:k,onExit:S,onExited:P,onExiting:E,orientation:v="vertical",style:_,timeout:A=no.standard,TransitionComponent:$=lo}=a,c=X(a,Bo),g=y({},a,{orientation:v,collapsedSize:l}),b=So(g),D=co(),p=uo(),d=u.useRef(null),R=u.useRef(),O=typeof l=="number"?`${l}px`:l,N=v==="horizontal",M=N?"width":"height",L=u.useRef(null),ge=po(t,L),J=C=>U=>{if(C){const W=L.current;U===void 0?C(W):C(W,U)}},fe=()=>d.current?d.current[N?"clientWidth":"clientHeight"]:0,qe=J((C,U)=>{d.current&&N&&(d.current.style.position="absolute"),C.style[M]=O,w&&w(C,U)}),Ye=J((C,U)=>{const W=fe();d.current&&N&&(d.current.style.position="");const{duration:re,easing:ce}=je({style:_,timeout:A,easing:m},{mode:"enter"});if(A==="auto"){const Se=D.transitions.getAutoHeightDuration(W);C.style.transitionDuration=`${Se}ms`,R.current=Se}else C.style.transitionDuration=typeof re=="string"?re:`${re}ms`;C.style[M]=`${W}px`,C.style.transitionTimingFunction=ce,k&&k(C,U)}),Xe=J((C,U)=>{C.style[M]="auto",j&&j(C,U)}),Je=J(C=>{C.style[M]=`${fe()}px`,S&&S(C)}),Qe=J(P),Ze=J(C=>{const U=fe(),{duration:W,easing:re}=je({style:_,timeout:A,easing:m},{mode:"exit"});if(A==="auto"){const ce=D.transitions.getAutoHeightDuration(U);C.style.transitionDuration=`${ce}ms`,R.current=ce}else C.style.transitionDuration=typeof W=="string"?W:`${W}ms`;C.style[M]=O,C.style.transitionTimingFunction=re,E&&E(C)}),eo=C=>{A==="auto"&&p.start(R.current||0,C),i&&i(L.current,C)};return n.jsx($,y({in:B,onEnter:qe,onEntered:Xe,onEntering:Ye,onExit:Je,onExited:Qe,onExiting:Ze,addEndListener:eo,nodeRef:L,timeout:A==="auto"?null:A},c,{children:(C,U)=>n.jsx(Io,y({as:f,className:q(b.root,s,{entered:b.entered,exited:!B&&O==="0px"&&b.hidden}[C]),style:y({[N?"minWidth":"minHeight"]:O},_),ref:ge},U,{ownerState:y({},g,{state:C}),children:n.jsx(wo,{ownerState:y({},g,{state:C}),className:b.wrapper,ref:d,children:n.jsx(jo,{ownerState:y({},g,{state:C}),className:b.wrapperInner,children:x})})}))}))});Ue.muiSupportAuto=!0;const He=u.createContext({});function Ao(e){return oe("MuiAccordion",e)}const de=te("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),Ro=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],To=e=>{const{classes:o,square:t,expanded:a,disabled:i,disableGutters:x}=e;return ae({root:["root",!t&&"rounded",a&&"expanded",i&&"disabled",!x&&"gutters"],region:["region"]},Ao,o)},Eo=r(go,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[{[`& .${de.region}`]:o.region},o.root,!t.square&&o.rounded,!t.disableGutters&&o.gutters]}})(({theme:e})=>{const o={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],o),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],o)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${de.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${de.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e})=>({variants:[{props:o=>!o.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:o=>!o.disableGutters,style:{[`&.${de.expanded}`]:{margin:"16px 0"}}}]})),_o=u.forwardRef(function(o,t){const a=ne({props:o,name:"MuiAccordion"}),{children:i,className:x,defaultExpanded:s=!1,disabled:l=!1,disableGutters:f=!1,expanded:m,onChange:B,square:w=!1,slots:j={},slotProps:k={},TransitionComponent:S,TransitionProps:P}=a,E=X(a,Ro),[v,_]=Fe({controlled:m,default:s,name:"Accordion",state:"expanded"}),A=u.useCallback(N=>{_(!v),B&&B(N,!v)},[v,B,_]),[$,...c]=u.Children.toArray(i),g=u.useMemo(()=>({expanded:v,disabled:l,disableGutters:f,toggle:A}),[v,l,f,A]),b=y({},a,{square:w,disabled:l,disableGutters:f,expanded:v}),D=To(b),p=y({transition:S},j),d=y({transition:P},k),[R,O]=fo("transition",{elementType:Ue,externalForwardedProps:{slots:p,slotProps:d},ownerState:b});return n.jsxs(Eo,y({className:q(D.root,x),ref:t,ownerState:b,square:w},E,{children:[n.jsx(He.Provider,{value:g,children:$}),n.jsx(R,y({in:v,timeout:"auto"},O,{children:n.jsx("div",{"aria-labelledby":$.props.id,id:$.props["aria-controls"],role:"region",className:D.region,children:c})}))]}))});function Po(e){return oe("MuiAccordionDetails",e)}te("MuiAccordionDetails",["root"]);const Do=["className"],$o=e=>{const{classes:o}=e;return ae({root:["root"]},Po,o)},Oo=r("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,o)=>o.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),No=u.forwardRef(function(o,t){const a=ne({props:o,name:"MuiAccordionDetails"}),{className:i}=a,x=X(a,Do),s=a,l=$o(s);return n.jsx(Oo,y({className:q(l.root,i),ref:t,ownerState:s},x))});function Mo(e){return oe("MuiAccordionSummary",e)}const Z=te("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Lo=["children","className","expandIcon","focusVisibleClassName","onClick"],Fo=e=>{const{classes:o,expanded:t,disabled:a,disableGutters:i}=e;return ae({root:["root",t&&"expanded",a&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",t&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",t&&"expanded"]},Mo,o)},zo=r(ze,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,o)=>o.root})(({theme:e})=>{const o={duration:e.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],o),[`&.${Z.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Z.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${Z.disabled})`]:{cursor:"pointer"},variants:[{props:t=>!t.disableGutters,style:{[`&.${Z.expanded}`]:{minHeight:64}}}]}}),Uo=r("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,o)=>o.content})(({theme:e})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:o=>!o.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${Z.expanded}`]:{margin:"20px 0"}}}]})),Ho=r("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,o)=>o.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${Z.expanded}`]:{transform:"rotate(180deg)"}})),Wo=u.forwardRef(function(o,t){const a=ne({props:o,name:"MuiAccordionSummary"}),{children:i,className:x,expandIcon:s,focusVisibleClassName:l,onClick:f}=a,m=X(a,Lo),{disabled:B=!1,disableGutters:w,expanded:j,toggle:k}=u.useContext(He),S=v=>{k&&k(v),f&&f(v)},P=y({},a,{expanded:j,disabled:B,disableGutters:w}),E=Fo(P);return n.jsxs(zo,y({focusRipple:!1,disableRipple:!0,disabled:B,component:"div","aria-expanded":j,className:q(E.root,x),focusVisibleClassName:q(E.focusVisible,l),onClick:S,ref:t,ownerState:P},m,{children:[n.jsx(Uo,{className:E.content,ownerState:P,children:i}),s&&n.jsx(Ho,{className:E.expandIconWrapper,ownerState:P,children:s})]}))});function Ko(e){return oe("MuiPagination",e)}te("MuiPagination",["root","ul","outlined","text"]);const Go=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function Vo(e={}){const{boundaryCount:o=1,componentName:t="usePagination",count:a=1,defaultPage:i=1,disabled:x=!1,hideNextButton:s=!1,hidePrevButton:l=!1,onChange:f,page:m,showFirstButton:B=!1,showLastButton:w=!1,siblingCount:j=1}=e,k=X(e,Go),[S,P]=Fe({controlled:m,default:i,name:t,state:"page"}),E=(p,d)=>{m||P(d),f&&f(p,d)},v=(p,d)=>{const R=d-p+1;return Array.from({length:R},(O,N)=>p+N)},_=v(1,Math.min(o,a)),A=v(Math.max(a-o+1,o+1),a),$=Math.max(Math.min(S-j,a-o-j*2-1),o+2),c=Math.min(Math.max(S+j,o+j*2+2),A.length>0?A[0]-2:a-1),g=[...B?["first"]:[],...l?[]:["previous"],..._,...$>o+2?["start-ellipsis"]:o+1<a-o?[o+1]:[],...v($,c),...c<a-o-1?["end-ellipsis"]:a-o>o?[a-o]:[],...A,...s?[]:["next"],...w?["last"]:[]],b=p=>{switch(p){case"first":return 1;case"previous":return S-1;case"next":return S+1;case"last":return a;default:return null}},D=g.map(p=>typeof p=="number"?{onClick:d=>{E(d,p)},type:"page",page:p,selected:p===S,disabled:x,"aria-current":p===S?"true":void 0}:{onClick:d=>{E(d,b(p))},type:p,page:b(p),selected:!1,disabled:x||p.indexOf("ellipsis")===-1&&(p==="next"||p==="last"?S>=a:S<=1)});return y({items:D},k)}function qo(e){return oe("MuiPaginationItem",e)}const H=te("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),Ee=pe(n.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),_e=pe(n.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Pe=pe(n.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),De=pe(n.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),Yo=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],We=(e,o)=>{const{ownerState:t}=e;return[o.root,o[t.variant],o[`size${ee(t.size)}`],t.variant==="text"&&o[`text${ee(t.color)}`],t.variant==="outlined"&&o[`outlined${ee(t.color)}`],t.shape==="rounded"&&o.rounded,t.type==="page"&&o.page,(t.type==="start-ellipsis"||t.type==="end-ellipsis")&&o.ellipsis,(t.type==="previous"||t.type==="next")&&o.previousNext,(t.type==="first"||t.type==="last")&&o.firstLast]},Xo=e=>{const{classes:o,color:t,disabled:a,selected:i,size:x,shape:s,type:l,variant:f}=e,m={root:["root",`size${ee(x)}`,f,s,t!=="standard"&&`color${ee(t)}`,t!=="standard"&&`${f}${ee(t)}`,a&&"disabled",i&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[l]],icon:["icon"]};return ae(m,qo,o)},Jo=r("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:We})(({theme:e,ownerState:o})=>y({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${H.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},o.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},o.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)})),Qo=r(ze,{name:"MuiPaginationItem",slot:"Root",overridesResolver:We})(({theme:e,ownerState:o})=>y({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${H.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${H.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${H.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Q(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${H.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Q(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${H.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},o.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},o.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)},o.shape==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius}),({theme:e,ownerState:o})=>y({},o.variant==="text"&&{[`&.${H.selected}`]:y({},o.color!=="standard"&&{color:(e.vars||e).palette[o.color].contrastText,backgroundColor:(e.vars||e).palette[o.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[o.color].main}},[`&.${H.focusVisible}`]:{backgroundColor:(e.vars||e).palette[o.color].dark}},{[`&.${H.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},o.variant==="outlined"&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${H.selected}`]:y({},o.color!=="standard"&&{color:(e.vars||e).palette[o.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[o.color].mainChannel} / 0.5)`:Q(e.palette[o.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[o.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:Q(e.palette[o.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[o.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Q(e.palette[o.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${H.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[o.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Q(e.palette[o.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${H.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})})),Zo=r("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,o)=>o.icon})(({theme:e,ownerState:o})=>y({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},o.size==="small"&&{fontSize:e.typography.pxToRem(18)},o.size==="large"&&{fontSize:e.typography.pxToRem(22)})),et=u.forwardRef(function(o,t){const a=ne({props:o,name:"MuiPaginationItem"}),{className:i,color:x="standard",component:s,components:l={},disabled:f=!1,page:m,selected:B=!1,shape:w="circular",size:j="medium",slots:k={},type:S="page",variant:P="text"}=a,E=X(a,Yo),v=y({},a,{color:x,disabled:f,selected:B,shape:w,size:j,type:S,variant:P}),_=ao(),A=Xo(v),c=(_?{previous:k.next||l.next||De,next:k.previous||l.previous||Pe,last:k.first||l.first||Ee,first:k.last||l.last||_e}:{previous:k.previous||l.previous||Pe,next:k.next||l.next||De,first:k.first||l.first||Ee,last:k.last||l.last||_e})[S];return S==="start-ellipsis"||S==="end-ellipsis"?n.jsx(Jo,{ref:t,ownerState:v,className:q(A.root,i),children:"…"}):n.jsxs(Qo,y({ref:t,ownerState:v,component:s,disabled:f,className:q(A.root,i)},E,{children:[S==="page"&&m,c?n.jsx(Zo,{as:c,ownerState:v,className:A.icon}):null]}))}),ot=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],tt=e=>{const{classes:o,variant:t}=e;return ae({root:["root",t],ul:["ul"]},Ko,o)},nt=r("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,o[t.variant]]}})({}),at=r("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,o)=>o.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function it(e,o,t){return e==="page"?`${t?"":"Go to "}page ${o}`:`Go to ${e} page`}const st=u.forwardRef(function(o,t){const a=ne({props:o,name:"MuiPagination"}),{boundaryCount:i=1,className:x,color:s="standard",count:l=1,defaultPage:f=1,disabled:m=!1,getItemAriaLabel:B=it,hideNextButton:w=!1,hidePrevButton:j=!1,renderItem:k=D=>n.jsx(et,y({},D)),shape:S="circular",showFirstButton:P=!1,showLastButton:E=!1,siblingCount:v=1,size:_="medium",variant:A="text"}=a,$=X(a,ot),{items:c}=Vo(y({},a,{componentName:"Pagination"})),g=y({},a,{boundaryCount:i,color:s,count:l,defaultPage:f,disabled:m,getItemAriaLabel:B,hideNextButton:w,hidePrevButton:j,renderItem:k,shape:S,showFirstButton:P,showLastButton:E,siblingCount:v,size:_,variant:A}),b=tt(g);return n.jsx(nt,y({"aria-label":"pagination navigation",className:q(b.root,x),ownerState:g,ref:t},$,{children:n.jsx(at,{className:b.ul,ownerState:g,children:c.map((D,p)=>n.jsx("li",{children:k(y({},D,{color:s,"aria-label":B(D.type,D.page,D.selected),shape:S,size:_,variant:A}))},p))})}))});var ve={},rt=he;Object.defineProperty(ve,"__esModule",{value:!0});var Ke=ve.default=void 0,lt=rt(ye()),ct=n;Ke=ve.default=(0,lt.default)((0,ct.jsx)("path",{d:"m10 17 5-5-5-5z"}),"ArrowRight");var Ce={},dt=he;Object.defineProperty(Ce,"__esModule",{value:!0});var Ge=Ce.default=void 0,ut=dt(ye()),pt=n;Ge=Ce.default=(0,ut.default)((0,pt.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");function gt(e){const[o,t]=u.useState(!1),{theme:a}=u.useContext(ie),{backgroundColor:i,topTextColor:x}=se(a),s=x;return n.jsx(xo,{iconcolor:s,children:n.jsxs(_o,{onChange:()=>t(l=>!l),style:{backgroundColor:i},children:[n.jsx(Wo,{expandIcon:o?n.jsx(Ge,{}):n.jsx(Ke,{}),children:n.jsx(z,{color:x,fontWeight:"700",children:e.label})}),n.jsx(No,{children:e.detail})]})})}function ft(e){return n.jsx(st,{count:e.count,hidePrevButton:e.hideNextButton,hideNextButton:e.hideNextButton,page:e.page,siblingCount:0,boundaryCount:1,onChange:e.onChange})}function $e(){const{innerWidth:e,innerHeight:o}=window;return{width:e,height:o}}function xt(){const[e,o]=u.useState($e());return u.useEffect(()=>{function t(){o($e())}return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),e}var Be={},bt=he;Object.defineProperty(Be,"__esModule",{value:!0});var Ve=Be.default=void 0,ht=bt(ye()),mt=n;Ve=Be.default=(0,ht.default)((0,mt.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");const kt=r(I)({display:"flex",position:"relative",width:"100%"}),yt=r("img")({width:"100%",marginTop:"57px"}),vt=r(I)({display:"flex",alignItems:"baseline",justifyContent:"space-between",position:"absolute",left:"30px",top:"30px",width:"calc(100% - 60px)"}),Ct=r(I)({display:"flex",alignItems:"baseline"}),Bt=r(I)({width:"70px",cursor:"pointer",position:"relative","& div":{position:"absolute",top:"28px",width:"100%",textAlign:"center",maxWidth:"65px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none"}}),St=r("img")({width:"100%",height:"100%"}),It=r(I)({margin:0,marginLeft:"12px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none"}),wt=r("img")({cursor:"pointer","&:active":{opacity:"0.8"}}),jt=r(I)({position:"absolute",top:"60px",left:"50%",transform:"translate(-50%, -50%)",cursor:"pointer"}),At=r("img")({width:"100%","&:active":{opacity:"0.8"}}),Rt=r("img")({position:"absolute",top:"18px",right:"30px",cursor:"pointer","&:active":{opacity:"0.8"}}),Tt=r(I)({height:"calc(100vh - 145px)",width:"100%",position:"absolute",top:"145px",padding:"0px 30px","@media screen and (orientation: landscape)":{height:"calc(100vh - 145px)"}}),Et=r(I)({backgroundColor:"#FFF",height:"calc(100vh - 145px)",position:"relative",zIndex:"1",display:"flex",flexDirection:"column",padding:"20px",overflowY:"scroll","@media screen and (orientation: landscape)":{height:"calc(100vh - 145px)"}}),_t=r(I)({width:"100%",display:"flex","& .MuiBox-root:nth-of-type(2)":{borderLeft:"none"}}),Oe=r(I)(({active:e,bordercolor:o})=>({width:"50%",height:"37.9px",border:`1px solid ${o}`,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e=="true"?"#FFAA5D":"#FFF",cursor:"pointer"})),Ne=r("img")({}),Me=r(I)(({active:e})=>({marginLeft:"5px"})),Pt=r(I)({width:"100%",display:"flex",flexDirection:"column"}),Dt=r(I)({width:"100%",display:"flex",justifyContent:"space-between",flexDirection:"column",padding:"0px",margin:"12px 0px","& .MuiAccordion-root":{width:"100%",backgroundColor:"#F0F5FB",padding:"0px"},"& .MuiTypography-root":{color:"#000",fontFamily:'"Baloo Da 2"',fontWeight:"700",fontSize:"16px",lineHeight:"24px"},"& .MuiAccordionSummary-root":{minHeight:"unset",padding:"8px"},"& .MuiAccordionSummary-content":{margin:"0px !important"},"& .css-o4b71y-MuiAccordionSummary-content.Mui-expand":{margin:"0px !important",minHeight:"unset"},"& .css-1tmu6hb-MuiButtonBase-root-MuiAccordionSummary-root.Mui-expanded":{minHeight:"unset"},"& .MuiAccordionDetails-root":{paddingBottom:"8px"}}),$t=r(I)({display:"flex",justifyContent:"space-between",alignItems:"center","& .css-1xgh7mm-MuiFormControl-root":{alignItems:"end"}});r("p")({fontSize:"16px",fontFamily:'"Baloo Da 2"',fontWeight:"400",lineHeight:"24px",color:"#000"});const Ot=r(I)({display:"flex",flexDirection:"column"}),Nt=r(I)({display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"}),Mt=r(I)({display:"flex",flexDirection:"column",width:"75%","& div:first-of-type":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}});r("p")({fontSize:"16px",fontFamily:'"Baloo Da 2"',fontWeight:"400",lineHeight:"24px",color:"#000",margin:"0px"});const Lt=r(I)({borderBottom:"1px solid #9C9C9C",marginTop:"3px"}),Ft=r("img")({cursor:"pointer",marginRight:"15px"}),zt=r(bo)(({buttoncolor:e})=>({display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10px",backgroundColor:"transparent","& nav":{justifyContent:"center"},"& ul":{justifyContent:"center","& li":{width:"25px"}},"& .MuiPaginationItem-root":{color:e,opacity:"0.5",width:"20px",cursor:"pointer",userSelect:"none",fontFamily:"Inter",fontWeight:"500",fontSize:"16px",textAlign:"center",backgroundColor:"transparent","&.Mui-selected":{color:e,opacity:"1",backgroundColor:"transparent"}}})),Ut=r(I)({width:"100%",padding:"12px",backgroundColor:"#F0F5FB",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"9px 0px","@media (max-height: 600px)":{padding:"8px"},"@media (min-width: 680px)":{justifyContent:"left"}}),Ht=r("img")({width:"63px"}),Wt=r(I)({margin:"0px",marginLeft:"24px",fontFamily:"Inter",fontWeight:"400",fontSize:"16px",lineHeight:"24px","@media (max-height: 600px)":{fontSize:"14px"}}),Kt=r(I)({width:"100%",justifyContent:"space-between",alignItems:"center",marginTop:"15px"}),Gt=r(I)({width:"100%",height:"30px",justifyContent:"space-between",alignItems:"center",display:"flex",padding:"0px 7px"});r(Ve)({marginLeft:"-33px",color:"#17637D",height:"30px"});const Vt=r(I)(({underline:e,progress:o,progresscolor:t})=>({width:"calc(100% - 60px)",height:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",cursor:"pointer","& div:first-of-type":{width:"80%",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},borderBottom:e=="true"?`1px solid ${t}80`:"none","::after":{content:'""',position:"absolute",bottom:0,left:0,width:`${o}%`,borderBottom:e=="true"?`2px solid ${t}`:"none"}})),qt=r(I)(({isdownloaded:e})=>({width:"45px",display:"flex",justifyContent:e=="true"?"space-between":"flex-end"})),Le=r("img")({marginLeft:"3px",cursor:"pointer"}),Yt=r(I)({width:"96%",padding:"17px 14px",backgroundColor:"#F0F5FB",marginTop:"5px !important",margin:"auto"}),Xt=r(I)({display:"flex",alignItems:"baseline","& .MuiBox-root:nth-of-type(2)":{marginLeft:"5px"}}),Jt=r(I)({display:"flex",flexWrap:"wrap",marginTop:"10px"}),Qt=r(I)(({style:e,disable:o,readalready:t,readbgcolor:a,readtextcolor:i})=>({opacity:o=="true"?.5:1,pointerEvents:o=="true"?"none":"initial",width:"40px",height:"40px",marginRight:"2px",marginBottom:"2px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:t=="true"?`${a} !important`:`${e.backgroundColor} !important`,borderWidth:"1px",borderStyle:"solid",borderColor:t=="true"?`${i} !important`:`${e.color} !important`,cursor:"pointer","& .MuiBox-root":{color:t=="true"?`${i} !important`:`${e.color} !important`}}));function Zt(e){var s,l;const{t:o}=le(),{theme:t}=u.useContext(ie),{buttonTextColor:a,logoTextColor:i}=se(t),x=localStorage.getItem(me)||ke;return n.jsxs(kt,{children:[n.jsx(yt,{src:t==T.DEFAULT||t==T.DARK?h.book_subtract:t==T.BLACK_AND_WHITE?h.book_subtract_BAW:t==T.SAPPHIRE?h.book_subtract_sapphire:h.book_subtract_easyocean}),n.jsxs(vt,{children:[n.jsxs(Ct,{children:[n.jsxs(Bt,{onClick:e.onLogoClick,children:[n.jsx(St,{src:e.isLoading?h.default_cover:e.markImg||h.default_cover}),n.jsx(z,{fontFamily:"Kapakana",fontSize:25,lineHeight:24,fontWeight:"400",color:a,children:(s=e.markTitle)==null?void 0:s[x]})]}),n.jsx(It,{children:n.jsx(z,{fontFamily:"Buenard",fontWeight:"700",fontSize:36,lineHeight:47,textAlign:"center",color:i,children:e.isLoading?o("Book Title"):(l=e.markTitle)==null?void 0:l[x]})})]}),n.jsx(wt,{src:t==T.EASY_OCEAN?h.search_easyocean:h.search,onClick:e.onSearchClick})]}),n.jsx(jt,{children:n.jsx(At,{src:t==T.DEFAULT||t==T.DARK?h.close2:t==T.BLACK_AND_WHITE?h.close2_BAW:t==T.SAPPHIRE?h.close2_sapphire:h.close2_easyocean,onClick:e.onCloseClick})}),n.jsx(Rt,{src:t==T.DEFAULT||t==T.EASY_OCEAN?h.setting:h.setting_white,onClick:e.onSettingClick})]})}function en(e){var p;const[o,t]=u.useState([]),[a,i]=u.useState(),[x,s]=u.useState(!1),[l,f]=u.useState(!1),[m,B]=u.useState(0),{theme:w}=u.useContext(ie),{mainBGColor:j,altTextColor:k,backgroundColor:S,topTextColor:P,highlightColor:E,buttonColor:v,buttonTextColor:_}=se(w),{t:A}=le(),$=localStorage.getItem(me)||ke,c=u.useMemo(()=>{if(e.userHistory&&e.userHistory.length>0){const d=e.userHistory.filter(R=>R.bookId==e.bookId);if(d&&d.length>0)return d[0].readChapterIds}return[]},[e.userHistory]),g=e.subBookId;u.useEffect(()=>{e.openedSubBook==e.subBookId?s(!0):s(!1)},[e.openedSubBook]),u.useEffect(()=>{var O,N;const d=e.subBooks.filter(M=>M.subBookId===g);let R=0;if(d&&d.length>0&&(R=(O=d[0].chapterInfos)==null?void 0:O.length,i(d[0])),e.currentUser){const M=e.userHistory.filter(L=>L.bookId==e.bookId);if(M&&M.length>0){const L=M[0].subBooks.filter(ge=>ge.subBookId==g);L&&L.length>0&&B(Math.floor(((N=L[0])==null?void 0:N.readChapters)/R*100))}}if(e.subBooks&&e.subBooks.length>0){const M=e.subBooks.filter(L=>L.subBookId==g);if(M&&M.length>0){const L=M[0].chapterInfos;t(L)}}},[e.subBooks,e.userHistory]),u.useEffect(()=>{if(e.subBookInfos&&e.subBookInfos.length>0){const d=e.subBookInfos.filter(R=>R.subBookId==g);d&&d.length>0?f(!0):f(!1)}},[]);const b=u.useCallback(d=>{f(R=>!R),e.onDownload(d)},[]),D=()=>{s(!x),e.handleOpenedSubBook(e.subBookId)};return n.jsxs(Kt,{children:[n.jsxs(Gt,{children:[n.jsxs(Vt,{underline:m!=0?"true":"false",progress:m,progresscolor:v,onClick:D,children:[n.jsx(z,{fontFamily:'"Baloo Da 2"',color:k,children:(p=a==null?void 0:a.subBookTitle)==null?void 0:p[$]}),e.currentUser&&m!=0&&n.jsx(z,{fontFamily:'"Baloo Da 2"',color:v,children:m.toString()+"%"})]}),n.jsxs(qt,{isdownloaded:l?"true":"false",children:[n.jsx(Le,{src:l?w==T.DEFAULT||w==T.EASY_OCEAN?h.download_cancel:h.download_cancel_white:w==T.DEFAULT||w==T.EASY_OCEAN?h.download:h.download_white,onClick:()=>b(g)}),l&&n.jsx(Le,{src:w==T.DEFAULT||w==T.EASY_OCEAN?h.download_refresh:h.download_refresh_white,onClick:()=>e.onDownloadRefresh(g)})]})]}),x&&n.jsxs(Yt,{style:{backgroundColor:S},children:[n.jsxs(Xt,{children:[n.jsx(z,{fontFamily:"Inter",color:P,children:A("Surah")}),n.jsx(z,{fontFamily:"Inter",color:E,children:A("Chapter")})]}),n.jsx(Jt,{children:o==null?void 0:o.map((d,R)=>n.jsx(Qt,{disable:d.isTranslated?"false":"true",readalready:c&&c.length>0&&c.includes(d.chapterId)?"true":"false",style:{backgroundColor:j,color:k},readbgcolor:v,readtextcolor:_,onClick:()=>{var O,N;e.moveToReading(d.chapterId,(O=e.bookTitle)==null?void 0:O[$],(N=a.subBookTitle)==null?void 0:N[$],a.subBookId)},children:n.jsx(z,{fontFamily:"Inter",fontWeight:"500",textAlign:"center",children:d.chapterNumber})},R))})]})]})}function on(e){return n.jsx(n.Fragment,{children:e.subBooks&&e.subBooks.length>0&&e.subBooks.map((o,t)=>n.jsx(en,{bookId:e.bookId,bookTitle:e.bookTitle,subBooks:e.subBooks,subBookId:o.subBookId,subBookInfos:e.subBookInfos,currentUser:e.currentUser,userHistory:e.userHistory,openedSubBook:e.openedSubBook,moveToReading:e.moveToReading,onDownload:e.onDownload,onDownloadRefresh:e.onDownloadRefresh,handleOpenedSubBook:e.handleOpenedSubBook},t))})}function tn(e){const[o,t]=u.useState(""),[a,i]=u.useState([]),[x,s]=u.useState(1),[l,f]=u.useState([]),{t:m}=le(),{theme:B}=u.useContext(ie),{backgroundColor:w,topTextColor:j,mainTextColor:k}=se(B),S=localStorage.getItem(me)||ke,P=ko(e.deviceHeight),E=x*P,v=E-P,_=e.currentUser&&a.slice(v,E);u.useEffect(()=>{if(e.subBooks&&e.subBooks.length>0){const p=e.subBooks.map(d=>{var R;return{label:(R=d.subBookTitle)==null?void 0:R[S],value:d.subBookId}});p.unshift({label:m("All Books"),value:"all"}),f(p)}},[e.subBooks]),u.useEffect(()=>{l.length>0&&t(l[0].value)},[l]),u.useEffect(()=>{if(e.bookmark&&e.bookmark.length>0){const p=e.bookmark.filter(d=>d.subBookId===o);i(o==="all"||o===""?e.bookmark:p)}else i([]),s(0);x>1&&_.length==1&&s(p=>p-1)},[e.bookmark]);const A=(p,d)=>{s(d)},$=u.useCallback(p=>{const d=p.target.value;t(d);const R=e.bookmark.filter(O=>O.subBookId===d);i(d==="all"?e.bookmark:R)},[e.bookmark]),c=()=>n.jsx(Dt,{style:{backgroundColor:w},children:n.jsx(gt,{label:m("Filter"),detail:n.jsxs($t,{children:[n.jsx(z,{color:j,children:m("Show")}),n.jsx(yo,{label:"",options:l,value:o,backgroundColor:w,textColor:j,onChange:$})]})})}),g=()=>n.jsx(Ot,{children:(_==null?void 0:_.length)>0&&_.map((p,d)=>{var R;return n.jsxs(I,{children:[n.jsxs(Nt,{children:[n.jsxs(Mt,{onClick:()=>e.moveToReadingFromBookmark(p._id),children:[n.jsx(z,{color:k,children:(R=p.subBookTitle)==null?void 0:R[S]}),n.jsx(z,{color:k,children:m("Surah Bookmark")+" "+p.chapterNumber+", "+m("Aya")+" "+p.verseNumber})]}),n.jsx(Ft,{src:B==T.DEFAULT||B==T.EASY_OCEAN||B==T.EASY_SUNRISE?h.black_bookmark:h.white_bookmark,onClick:()=>e.removeBookmark(p._id)})]}),n.jsx(Lt,{})]},d)})}),b=()=>n.jsx(zt,{buttoncolor:k,children:n.jsx(ft,{count:e.currentUser?Math.ceil(a.length/P):0,page:x,hidePrevButton:!0,hideNextButton:!0,onChange:A})}),D=()=>n.jsxs(Ut,{style:{backgroundColor:w},children:[n.jsx(Ht,{src:B==T.DEFAULT||B==T.BLACK_AND_WHITE?h.swipe:B==T.EASY_OCEAN?h.swipe_easyocean:h.swipe_white}),n.jsx(Wt,{style:{color:j},children:m("Bookmark Help")})]});return n.jsxs(Pt,{children:[c(),g(),b(),D()]})}function nn(e){const[o,t]=u.useState(F),{t:a}=le(),{theme:i}=u.useContext(ie),{mainBGColor:x,headerBGColor:s,buttonColor:l,buttonTextColor:f,mainTextColor:m}=se(i),B=w=>{e.currentUser?t(w):K.custom(j=>n.jsx(G,{text:a("Setting Alert Description"),visible:j.visible}))};return n.jsx(Tt,{style:{backgroundColor:s},children:n.jsxs(Et,{style:{backgroundColor:x},children:[n.jsxs(_t,{children:[n.jsxs(Oe,{active:o==F?"true":"false",style:{backgroundColor:o==F?l:x},bordercolor:m,onClick:()=>B(F),children:[n.jsx(Ne,{src:i==T.DEFAULT?h.index:i==T.EASY_OCEAN?o==F?h.index_active:h.index:o==F?h.index:h.index_active}),n.jsx(Me,{active:o==F?"true":"false",children:n.jsx(z,{fontSize:16,fontWeight:"500",lineHeight:24,color:o==F?f:m,children:a("Index")})})]}),n.jsxs(Oe,{active:o==F?"false":"true",style:{backgroundColor:o==xe?l:x},bordercolor:m,onClick:()=>B(xe),children:[n.jsx(Ne,{src:i==T.DEFAULT?h.bookmark2_default:i==T.EASY_OCEAN?o==F?h.bookmark2_default:h.bookmark2_white:o==F?h.bookmark2_white:h.bookmark2_default}),n.jsx(Me,{active:o==F?"false":"true",children:n.jsx(z,{fontSize:16,fontWeight:"500",lineHeight:24,color:o==xe?f:m,children:a("Bookmarks")})})]})]}),o==F?n.jsx(on,{bookId:e.bookId,bookTitle:e.bookTitle,subBooks:e.subBooks,subBookInfos:e.subBookInfos,currentUser:e.currentUser,userHistory:e.userHistory,openedSubBook:e.openedSubBook,moveToReading:e.moveToReading,onDownload:e.onDownload,onDownloadRefresh:e.onDownloadRefresh,handleOpenedSubBook:e.handleOpenedSubBook}):n.jsx(tn,{subBooks:e.subBooks,currentUser:e.currentUser,bookmark:e.bookmark,deviceHeight:e.deviceHeight,moveToReadingFromBookmark:e.moveToReadingFromBookmark,removeBookmark:e.removeBookmark})]})})}const an=io,Y=so,sn=1;class rn{constructor(){Ie(this,"db",null)}async initDB(){return new Promise((o,t)=>{const a=indexedDB.open(an,sn);a.onerror=()=>t(a.error),a.onsuccess=()=>{this.db=a.result,o()},a.onupgradeneeded=i=>{i.target.result.createObjectStore(Y,{keyPath:"subBookId"})}})}async saveSubBookInfo(o){return this.db||await this.initDB(),new Promise((t,a)=>{const s=this.db.transaction([Y],"readwrite").objectStore(Y).put(o);s.onerror=()=>a(s.error),s.onsuccess=()=>t()})}async getSubBookInfo(o){return this.db||await this.initDB(),new Promise((t,a)=>{const s=this.db.transaction([Y],"readonly").objectStore(Y).get(o);s.onerror=()=>a(s.error),s.onsuccess=()=>t(s.result)})}async removeSubBookInfo(o){return this.db||await this.initDB(),new Promise((t,a)=>{const s=this.db.transaction([Y],"readwrite").objectStore(Y).delete(o);s.onerror=()=>a(s.error),s.onsuccess=()=>t()})}}const ue=new rn,ln=r(I)({display:"flex",flexDirection:"column",margin:"auto",position:"relative",height:"100vh"});function cn(e){const[o,t]=u.useState(),[a,i]=u.useState(!1),s=new URLSearchParams(window.location.search).get("id")||"",l=mo(),{t:f}=le(),{height:m}=xt(),{theme:B}=u.useContext(ie),{mainBGColor:w}=se(B),j=u.useCallback(()=>{Re.fetchBookInfo(s).then(c=>{e.dispatch({type:V.ADD_BOOKINFO,payload:{bookInfo:c}}),i(!1),t(c)}).catch(c=>{K.custom(g=>n.jsx(G,{text:f(c),type:be.BOOKMARK,visible:g.visible})),i(!1)})},[s,e.dispatch,f]),k=u.useCallback(async c=>{try{const g=await Re.fetchSubBookInfo(c);e.dispatch({type:V.ADD_SUBBOOKINFO,payload:{subBookInfo:g}}),await ue.saveSubBookInfo(g),i(!1)}catch(g){K.custom(b=>n.jsx(G,{text:f(g),visible:b.visible})),i(!1)}},[e.dispatch,f]);u.useEffect(()=>{if(i(!0),!e.bookInfos||e.bookInfos.length===0)j();else{const c=e.bookInfos.filter(g=>g.bookId===s);c.length>0?(t(c[0]),i(!1)):j()}e.currentUser&&Te.fetchBookmarks().then(c=>{e.dispatch({type:V.SET_BOOKMARKS,payload:{bookmark:c}})}).catch(c=>{K.custom(g=>n.jsx(G,{text:f(c),visible:g.visible}))})},[s,j,e.bookInfos,e.currentUser,e.dispatch,f]);const S=()=>{K.custom(c=>n.jsx(G,{text:f("Not Built Yet"),visible:c.visible}))},P=(c,g,b,D)=>{l(`/reading?chapterId=${c}&book=${g}&subBook=${b}&subBookId=${D}&bookId=${s}`)},E=u.useCallback(async c=>{i(!0),Ae()<we?await ue.getSubBookInfo(c)?(await ue.removeSubBookInfo(c),e.dispatch({type:V.REMOVE_SUBBOOKINFO,payload:{subBookId:c}})):await k(c):K.custom(b=>n.jsx(G,{text:f("Not Enough Space"),visible:b.visible})),i(!1)},[k,e.dispatch,f]),v=u.useCallback(async c=>{i(!0),await ue.removeSubBookInfo(c),e.dispatch({type:V.REMOVE_SUBBOOKINFO,payload:{subBookId:c}}),Ae()<we?await k(c):K.custom(b=>n.jsx(G,{text:f("Not Enough Space"),visible:b.visible})),i(!1)},[k,e.dispatch,f]),_=u.useCallback(c=>{if(i(!0),e.bookmark&&e.bookmark.length>0){const g=e.bookmark.filter(b=>b._id===c);if(g&&g.length>0){const{chapterId:b,bookTitle:D,subBookId:p,subBookTitle:d,verseId:R}=g[0];l(`/reading?chapterId=${b}&book=${D.en}&subBook=${d.en}&subBookId=${p}&verseId=${R}&bookId=${s}`),i(!1)}}},[s,l,e.bookmark]),A=u.useCallback(c=>{i(!0),Te.deleteBookmark(c).then(g=>{e.dispatch({type:V.REMOVE_BOOKMARK,payload:{bookmarkId:c}}),K.custom(b=>n.jsx(G,{text:f(g.message),type:be.BOOKMARK,visible:b.visible})),i(!1)}).catch(g=>{K.custom(b=>n.jsx(G,{text:f(g),type:be.BOOKMARK,visible:b.visible})),i(!1)})},[e.dispatch,f]),$=u.useCallback(c=>{e.openedSubBook&&e.openedSubBook==c?e.dispatch({type:V.SET_OPENED_SUBBOOK,payload:{openedSubBook:""}}):e.dispatch({type:V.SET_OPENED_SUBBOOK,payload:{openedSubBook:c}})},[e.openedSubBook,e.dispatch]);return n.jsxs(ln,{style:{backgroundColor:w},children:[n.jsx(Zt,{markImg:ro+(o==null?void 0:o.bookImage),markTitle:o==null?void 0:o.bookTitle,isLoading:a,onLogoClick:()=>l("/"),onCloseClick:()=>l("/library"),onSettingClick:()=>l("/settings"),onSearchClick:S}),n.jsx(nn,{bookId:s,bookTitle:o==null?void 0:o.bookTitle,subBooks:o==null?void 0:o.subBooks,deviceHeight:m,subBookInfos:e.subBookInfos,userHistory:e.userHistory,currentUser:e.currentUser,bookmark:e.bookmark,openedSubBook:e.openedSubBook,moveToReading:P,moveToReadingFromBookmark:_,onDownload:E,onDownloadRefresh:v,removeBookmark:A,moveToLogin:()=>l("/auth/login"),handleOpenedSubBook:$}),a&&n.jsx(vo,{})]})}function dn(e){return{userHistory:e.books.userHistory,bookmark:e.books.bookmark,subBookInfos:e.books.subBookInfos,bookInfos:e.books.bookInfos,currentBookPageOpenTab:e.pageStatus.currentBookPageOpenTab,openedSubBook:e.pageStatus.openedSubBook,currentUser:e.user.currentUser,activeChapterId:e.books.activeChapterId}}const vn=ho(dn)(cn);export{vn as default};
