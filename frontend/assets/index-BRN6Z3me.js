var B=Object.defineProperty;var E=(t,e,a)=>e in t?B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var j=(t,e,a)=>E(t,typeof e!="symbol"?e+"":e,a);import{ap as I,b as x,j as o,au as T,a3 as f,ay as k}from"./index-BlVR3GtE.js";import{s as n,B as l,S,g as C,c as L,u as P,k as R,aD as M,d as G}from"./App-BVc3Io-i.js";import{L as v}from"./index--cXTmVPe.js";import{C as F}from"./index-CfJdu7Np.js";import{a as z}from"./axios-upsvKRUO.js";import{A as D}from"./index-DsvgggYH.js";import{T as b,I as y}from"./index-CP0EpG0K.js";import{d as W}from"./ArrowBack-Dsdtz1H5.js";import"./index-DW-2L3us.js";class H{constructor(){j(this,"fetchArticle",e=>new Promise((a,c)=>{const d=I+`/article/${e}/article`;z.get(d).then(s=>{s.data?a(s.data):c(s.data.error)}).catch(s=>{c(this.getErrorMessage(s))})}))}getErrorMessage(e){let a=e.message;return e.response&&e.response.data&&e.response.data.message&&(a=e.response.data.message),a}}const J=new H;n(l)({width:"100%",display:"flex",flexDirection:"column"});const N=n(l)({width:"100%",height:"calc(100dvh - 100px)",display:"flex",boxSizing:"border-box",padding:"20px"}),U=n(l)({width:"100%",display:"flex",boxSizing:"border-box"}),_=n("img")({width:"100%",marginTop:"20px"}),K=n(l)({width:"100%",height:"100%",padding:"0px 6px",position:"relative",overflowX:"hidden",scrollbarGutter:"stable both-edges"}),O=n(l)({width:"100%",marginTop:"20px","& .MuiAccordion-gutters":{width:"100%"},"& .MuiAccordion-root .MuiAccordionSummary-root .Mui-expanded":{margin:"12px 0px !important"}}),$=n(l)({width:"100%","& .MuiBox-root":{padding:"0px "}}),X=n(l)({width:"100%",margin:"20px 0px","& .MuiBox-root":{textWrap:"wrap"}}),q=n(l)({position:"fixed",zIndex:"3",bottom:"0px",width:"100%",height:"85px",overflow:"hidden"}),Q=n("img")({width:"100%",position:"absolute",bottom:"0px","@media (min-width: 750px)":{top:"0px"},"@media (min-width: 1050px)":{top:"-10px"},"@media (min-width: 1450px)":{top:"-20px"}}),Y=n(l)(({backgroundcolor:t})=>({display:"flex",width:"110px",justifyContent:"space-between",alignItems:"center",position:"relative",bottom:"-23px",left:"25px",boxSizing:"border-box",padding:"10px 20px",borderRadius:"30px",backgroundColor:t})),Z=n(l)(({textcolor:t})=>({display:"flex",alignItems:"center","& svg":{fill:t}}));function V(t){var m;const{theme:e,textSize:a}=x.useContext(S),{mainBGColor:c,textColor:d}=C(e),s=(r,u)=>{var p,h;return r.image?o.jsx(_,{src:r.image.url,alt:r.image.alt},u):r.isCollapse?o.jsx(O,{children:o.jsx(D,{label:(p=r.title)==null?void 0:p[t.currentLanguage],outArrow:!0,detail:o.jsx($,{children:r.content.map((i,g)=>!i.url&&!i.isTitle?o.jsx(b,{children:i==null?void 0:i[t.currentLanguage]},g):!i.url&&i.isTitle?o.jsx(b,{fontWeight:"bold",isTitle:!0,children:i==null?void 0:i[t.currentLanguage]},g):o.jsx(_,{src:i.url,alt:i.alt},g))})})},u):o.jsx(b,{fontFamily:"Inter",lineHeight:a+20,direction:t.currentLanguage===T?"rtl":"ltr",fontSize:r.title?a+2:a,fontWeight:r.title?"bold":"500",textAlign:r.title?"center":"left",children:(h=r.text)==null?void 0:h[t.currentLanguage]},u)};return o.jsx(X,{style:{backgroundColor:c,color:d},children:o.jsx(K,{children:(m=t.verses)==null?void 0:m.map((r,u)=>s(r,u))})})}function tt(t){const{theme:e}=x.useContext(S),{mainBGColor:a,altTextColor:c}=C(e),d=()=>o.jsx(Q,{src:e==f.DEFAULT||e==f.DARK?y.bar_reading_subtract:e==f.BLACK_AND_WHITE?y.bar_reading_subtract_BAW:e==f.SAPPHIRE?y.bar_reading_subtract_sapphire:y.bar_reading_subtract_easyocean}),s=()=>o.jsxs(Y,{backgroundcolor:a,onClick:t.goBack,children:[o.jsx(Z,{textcolor:c,children:o.jsx(W,{})}),o.jsx(b,{color:"#17637D",fontFamily:"Inter",fontWeight:"400",fontSize:16,lineHeight:24,children:"Back"})]});return o.jsxs(q,{children:[d(),s()]})}function et(t){const[e,a]=x.useState(!1),[c,d]=x.useState([]),s=P(),{theme:m,readingLanguage:r}=x.useContext(S),{mainBGColor:u}=C(m),p=()=>{t.dispatch({type:G.SET_PREVIOUS_PAGE,payload:{prevPage:k.READING}}),s("/journey")},h=x.useCallback(()=>{a(!0),J.fetchArticle(t.currentArticle).then(A=>{d(A),a(!1)}).catch(A=>{R.custom(w=>o.jsx(F,{text:A,offset:70,visible:w.visible})),a(!1)})},[]);x.useEffect(()=>{h()},[]);const i=()=>o.jsx(N,{children:o.jsx(V,{currentLanguage:r,verses:c})}),g=()=>o.jsx(U,{children:o.jsx(tt,{goBack:p})});return o.jsxs(M,{style:{backgroundColor:u},children:[i(),g(),e&&o.jsx(v,{})]})}const ot=t=>({terms:t.terms.terms,currentArticle:t.journeys.currentArticle}),gt=L(ot)(et);export{gt as default};
