import{b as L,$ as f,j as t,Q as u,a0 as y,ap as tt}from"./index-DDg5x1vp.js";import{s as a,B as l,c as et,u as at,S as nt,d as ot,g as it,e as h,_ as A}from"./App-DWu5D7sc.js";import{I as s,T as st}from"./images-CZpM3h6f.js";import{H as lt}from"./index-CSiwam1t.js";import{L as rt,C as _}from"./index-Bd4cPui1.js";import{N as ut,b as ct,c as dt,d as gt,S as pt,a as xt}from"./index-C4sLzl8C.js";import{S as ht}from"./index-BRzTbm4V.js";import{a as b}from"./auth.service-Dnuse4UM.js";import"./index-BLzIgmnZ.js";import"./axios-BimPEqV4.js";const mt=a(l)({backgroundColor:"#1B7695",width:"100%",height:"100%",padding:"20px 30px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center","@media screen and (orientation: landscape)":{width:"100vw",height:"auto",minHeight:"100dvh",display:"block"}});a(l)({display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"});const St=a(l)(({hamburgercolor:e,itembgcolor:m})=>({position:"absolute",top:"12px",right:"15px",width:"46px","& .hamburger-react":{width:"46px !important",color:e},"& .hamburger-react ~ .MuiBox-root ":{backgroundColor:m,border:`1px solid ${e}`,zIndex:"2","& .MuiBox-root":{border:`1px solid ${e}`,color:e}},"@media (max-height: 639px)":{top:"8px",right:"10px"},"@media screen and (orientation: landscape)":{right:"15px"}}));a(l)({margin:"0px"});const ft=a(l)({backgroundColor:"#FFF",height:"calc(100dvh - 80px)",padding:"24px",width:"100%","@media (min-width: 430px)":{width:"375px"},"@media screen and (orientation: landscape)":{margin:"auto",height:"calc(100dvh + 150px)"}}),yt=a(l)({display:"flex",justifyContent:"space-between"}),bt=a(l)({display:"flex",justifyContent:"space-between"}),Ct=a(l)({marginBottom:"30px","& .MuiFormControlLabel-root":{marginRight:"0px",width:"85%",alignSelf:"end"},"& .css-h145cq-MuiInputBase-root-MuiOutlinedInput-root-MuiSelect-root":{height:"28px"},"& .css-cw5clm-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input.css-cw5clm-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input.css-cw5clm-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input":{paddingRight:"0px"}}),wt=a(l)({margin:"12px 0px"});a(l)({width:"100vw",display:"flex"});a("img")({width:"100vw",position:"fixed",bottom:"0px",objectFit:"cover","@media (min-width: 412px)":{height:"150px",width:"100vw"},"@media (min-width: 719px)":{height:"170px",width:"100vw"},"@media (min-width: 949px)":{height:"200px"}});a(l)({display:"flex",justifyContent:"space-between",width:"100px",position:"fixed",left:"0",right:"0",bottom:"30px",margin:"auto","@media (min-width: 599px)":{width:"140px"}});a("img")({width:"40px",cursor:"pointer","&:active":{opacity:"0.8"},"@media (min-width: 599px)":{width:"50px"}});function vt(e){const[m,S]=L.useState(!1),{t:r}=at(),{textSize:I,theme:o,startAyasOnNewLine:B,showAyasNumbers:O,ayasNumberDisplayFormat:N,showQuranReferences:M,displayType:R,referenceLanguage:C,readingLanguage:w,readingControls:D,pageControl:k,volume:d,setVolume:F,autoScrollText:g,setAutoScrollText:U,audioLanguage:p,setAudioLanguage:H,audioOtherLanguage:x,setAudioOtherLanguage:P}=L.useContext(nt),{headerBGColor:v,mainBGColor:T,altTextColor:j,logoTextColor:G}=it(o),c=ot(),K=i=>{const n=i.target.value;P(n)},V=()=>{c("/login")},W=()=>{e.dispatch({type:h.RESET_USER}),e.dispatch({type:h.RESET_BOOK}),e.dispatch({type:h.RESET_PAGE_STATUS}),b.logout()},J=[{value:"en",label:r("English")},{value:"dutch",label:r("Dutch")}],$=[{value:C,label:r("Original Language")},{value:w,label:r("Translation")},{value:f.OTHER,disable:!0,label:t.jsx(ht,{label:"",value:x||f.TRANSLATION,disabled:!0,options:J,backgroundColor:T,textColor:j,onChange:K})}],z=()=>t.jsxs(ft,{style:{backgroundColor:T},children:[t.jsx(yt,{children:t.jsx(ct,{label:r("Volume"),defaultValue:d,step:5,labelValue:!0,onChange:F})}),t.jsx(bt,{children:t.jsx(dt,{label:r("Auto Scroll"),value:g,labelValue:!0,onChange:U})}),t.jsxs(Ct,{children:[t.jsx(wt,{children:t.jsx(st,{fontFamily:"Inter",color:j,children:r("Language")})}),t.jsx(gt,{value:p||f.TRANSLATION,options:$,onChange:H})]}),t.jsx(pt,{})]}),Q=()=>{c(-1)},q=()=>{if(e.currentUser)X();else{const i=localStorage.getItem(y);if(i){const n=JSON.parse(i);n.volume=d,n.autoScrollText=g,n.audioLanguage=p,n.audioOtherLanguage=x,localStorage.setItem(y,JSON.stringify(n))}else{const Z=JSON.stringify({textSize:I,theme:o,startAyasOnNewLine:B,showAyasNumbers:O,ayasNumberDisplayFormat:N,showQuranReferences:M,displayType:R,referenceLanguage:C,readingLanguage:w,readingControls:D,pageControl:k,volume:d,autoScrollText:g,audioLanguage:p,audioOtherLanguage:x});localStorage.setItem(y,Z)}A.custom(n=>t.jsx(_,{text:r("Setting Alert Description"),offset:70,visible:n.visible})),E()}},E=()=>{c(-1)},X=()=>{S(!0),b.updateSettings({soundSettings:{volume:d,autoScrollText:g,language:p,other:x}}).then(i=>{S(!1),i&&e.dispatch({type:h.SET_CURRENT_USER,payload:{user:i}}),E()}).catch(i=>{S(!1),i.status==401&&i.response.data.message==tt&&(A.custom(n=>t.jsx(_,{text:r(i.response.data.message),visible:n.visible})),b.logout(),c("/login"))})},Y=()=>t.jsx(xt,{footerImg:s.sound_setting_subtract,closeImg:o==u.DEFAULT||o==u.DARK?s.close2:o==u.BLACK_AND_WHITE?s.close2_BAW:o==u.SAPPHIRE?s.close2_sapphire:s.close2_easyocean,tickImg:o==u.DEFAULT||o==u.DARK?s.tickBtn:o==u.BLACK_AND_WHITE?s.tickBtn_BWA:o==u.SAPPHIRE?s.tickBtn_sapphire:s.tickBtn_easyocean,onClose:Q,onSave:q});return t.jsxs(t.Fragment,{children:[t.jsxs(mt,{style:{backgroundColor:v},children:[t.jsx(ut,{title:r("Sound Settings"),icon:o==u.EASY_OCEAN?s.sound_setting_easyocean:s.sound_setting}),t.jsx(St,{hamburgercolor:G,itembgcolor:v,children:t.jsx(lt,{isLogin:!!e.currentUser,onLogin:e.currentUser?W:V,onSettings:()=>c("/settings")})}),z()]}),Y(),m&&t.jsx(rt,{})]})}function Tt(e){return{currentUser:e.user.currentUser}}const Rt=et(Tt)(vt);export{Rt as default};
