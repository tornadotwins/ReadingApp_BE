import{b as i,j as r,a3 as U,aw as Qn,a5 as ce,ay as We,aK as it,aL as qe,aM as In,X as Rn,a8 as Zn,au as ct,ab as Gt,as as Tt,aN as Ke,aO as Pe,a9 as Ge,aP as $t,aQ as Jn,aR as er,aS as Qt,aT as tr,aC as rt,aB as dt,aA as $e}from"./index-CRP-wFOv.js";import{S as Ee,g as Le,aL as nr,aM as rr,aN as ir,aO as ar,s as p,B as w,aP as st,r as An,aQ as or,V as ie,c as sr,u as lr,j as Q}from"./App-pXEb52xN.js";import{I as q,T as J,c as Zt}from"./index-b-BRRS9h.js";import{p as ur}from"./index-CDKH7z_j.js";import{d as Jt,A as cr}from"./index-CTCTw2yi.js";import{C as ae}from"./index-CnNSK2xH.js";import{L as dr}from"./index-BJd1TRd7.js";import{a as ht}from"./auth.service-dVhR_m7x.js";import{b as Qe}from"./book.service-wpWcFISR.js";import{b as en}from"./bookmark.service-BTZzFokN.js";import"./index-DZlAYHcD.js";import"./index-C88pvD_q.js";function hr(e){const{theme:a}=i.useContext(Ee),{buttonColor:o,buttonTextColor:d}=Le(a);return r.jsx(nr,{ref:e.refer,"data-id":e.dataId,backgroundColor:o,children:r.jsxs(rr,{progresscolor:d,children:[r.jsx(ir,{variant:"determinate",value:e.progress,thickness:2}),r.jsx(ar,{src:a==U.EASY_OCEAN?q.bookmark2_white:q.bookmark2_default})]})})}var Pn={};function fr(e){if(e&&e.__esModule)return e;var a={};if(e!=null){for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};d.get||d.set?Object.defineProperty(a,o,d):a[o]=e[o]}}return a.default=e,a}var Nn=fr,pe={},ft,tn;function gr(){if(tn)return ft;tn=1;function e(a){return a&&a.__esModule?a:{default:a}}return ft=e,ft}var Ze,nn;function xr(){if(nn)return Ze;nn=1;function e(){return Ze=e=Object.assign||function(a){for(var o=1;o<arguments.length;o++){var d=arguments[o];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])}return a},e.apply(this,arguments)}return Ze=e,Ze}var gt,rn;function vr(){if(rn)return gt;rn=1;function e(a,o){if(a==null)return{};var d={},h=Object.keys(a),g,R;for(R=0;R<h.length;R++)g=h[R],!(o.indexOf(g)>=0)&&(d[g]=a[g]);return d}return gt=e,gt}var xt,an;function mr(){if(an)return xt;an=1;var e=vr();function a(o,d){if(o==null)return{};var h=e(o,d),g,R;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(o);for(R=0;R<y.length;R++)g=y[R],!(d.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(o,g)&&(h[g]=o[g])}return h}return xt=a,xt}var vt,on;function br(){if(on)return vt;on=1;function e(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}return vt=e,vt}var mt,sn;function Sr(){if(sn)return mt;sn=1;function e(o,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}function a(o,d,h){return d&&e(o.prototype,d),h&&e(o,h),o}return mt=a,mt}var Oe,ln;function yr(){if(ln)return Oe;ln=1;function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(h){return typeof h}:e=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e(o)}function a(o){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?Oe=a=function(h){return e(h)}:Oe=a=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":e(h)},a(o)}return Oe=a,Oe}var bt,un;function pr(){if(un)return bt;un=1;function e(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}return bt=e,bt}var St,cn;function Cr(){if(cn)return St;cn=1;var e=yr(),a=pr();function o(d,h){return h&&(e(h)==="object"||typeof h=="function")?h:a(d)}return St=o,St}var Je,dn;function _r(){if(dn)return Je;dn=1;function e(a){return Je=e=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},e(a)}return Je=e,Je}var et,hn;function Tr(){if(hn)return et;hn=1;function e(a,o){return et=e=Object.setPrototypeOf||function(h,g){return h.__proto__=g,h},e(a,o)}return et=e,et}var yt,fn;function wr(){if(fn)return yt;fn=1;var e=Tr();function a(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),d&&e(o,d)}return yt=a,yt}var pt,gn;function jn(){if(gn)return pt;gn=1;var e=function(){};return pt=e,pt}var Ct={},_t,xn;function lt(){if(xn)return _t;xn=1;function e(a){return a&&a.__esModule?a:{default:a}}return _t=e,_t}var Me={},vn;function Er(){if(vn)return Me;vn=1;var e=lt();Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var a=e(i);e(jn());var o=function(g){g.index;var R=g.children;a.default.Children.count(R)},d=o;return Me.default=d,Me}var tt={},De={},mn;function Bn(){if(mn)return De;mn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var e={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3};return De.default=e,De}var bn;function kr(){if(bn)return tt;bn=1;var e=lt();Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=d;var a=e(i),o=e(Bn());function d(h){var g=h.children,R=h.startIndex,y=h.startX,V=h.pageX,A=h.viewLength,T=h.resistance,P=a.default.Children.count(g)-1,v=R+(y-V)/A,D;return T?v<0?v=Math.exp(v*o.default.RESISTANCE_COEF)-1:v>P&&(v=P+1-Math.exp((P-v)*o.default.RESISTANCE_COEF)):v<0?(v=0,D=(v-R)*A+V):v>P&&(v=P,D=(v-R)*A+V),{index:v,startX:D}}return tt}var He={},Sn;function Lr(){if(Sn)return He;Sn=1;var e=lt();Object.defineProperty(He,"__esModule",{value:!0}),He.default=void 0;var a=e(i),o=function(g,R){var y=!1,V=function(E){return E?E.key:"empty"};if(g.children.length&&R.children.length){var A=a.default.Children.map(g.children,V),T=A[g.index];if(T!=null){var P=a.default.Children.map(R.children,V),v=P[R.index];T===v&&(y=!0)}}return y},d=o;return He.default=d,He}var Ve={},yn;function Ir(){if(yn)return Ve;yn=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=void 0;function e(o,d){var h=o%d;return h<0?h+d:h}var a=e;return Ve.default=a,Ve}var pn;function Rr(){return pn||(pn=1,function(e){var a=lt();Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"checkIndexBounds",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"computeIndex",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"constant",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"getDisplaySameSlide",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return R.default}});var o=a(Er()),d=a(kr()),h=a(Bn()),g=a(Lr()),R=a(Ir())}(Ct)),Ct}var Cn;function Ar(){if(Cn)return pe;Cn=1;var e=Nn,a=gr();Object.defineProperty(pe,"__esModule",{value:!0}),pe.getDomTreeShapes=k,pe.findNativeHandler=oe,pe.default=pe.SwipeableViewsContext=void 0;var o=a(xr()),d=a(mr()),h=a(br()),g=a(Sr()),R=a(Cr()),y=a(_r()),V=a(wr()),A=e(i);a(ur),a(jn());var T=Rr();function P(b,l,L,t){return b.addEventListener(l,L,t),{remove:function(){b.removeEventListener(l,L,t)}}}var v={container:{direction:"ltr",display:"flex",willChange:"transform"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},D={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(l){return"translate(".concat(-l,"%, 0)")},"x-reverse":function(l){return"translate(".concat(l,"%, 0)")},y:function(l){return"translate(0, ".concat(-l,"%)")},"y-reverse":function(l){return"translate(0, ".concat(l,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function E(b,l){var L=l.duration,t=l.easeFunction,n=l.delay;return"".concat(b," ").concat(L," ").concat(t," ").concat(n)}function Y(b,l){var L=D.rotationMatrix[l];return{pageX:L.x[0]*b.pageX+L.x[1]*b.pageY,pageY:L.y[0]*b.pageX+L.y[1]*b.pageY}}function M(b){return b.touches=[{pageX:b.pageX,pageY:b.pageY}],b}function k(b,l){for(var L=[];b&&b!==l&&b!==document.body&&!b.hasAttribute("data-swipeable");){var t=window.getComputedStyle(b);t.getPropertyValue("position")==="absolute"||t.getPropertyValue("overflow-x")==="hidden"?L=[]:(b.clientWidth>0&&b.scrollWidth>b.clientWidth||b.clientHeight>0&&b.scrollHeight>b.clientHeight)&&L.push({element:b,scrollWidth:b.scrollWidth,scrollHeight:b.scrollHeight,clientWidth:b.clientWidth,clientHeight:b.clientHeight,scrollLeft:b.scrollLeft,scrollTop:b.scrollTop}),b=b.parentNode}return L}var $=null;function oe(b){var l=b.domTreeShapes,L=b.pageX,t=b.startX,n=b.axis;return l.some(function(m){var c=L>=t;(n==="x"||n==="y")&&(c=!c);var x=Math.round(m[D.scrollPosition[n]]),H=x>0,K=x+m[D.clientLength[n]]<m[D.scrollLength[n]];return c&&K||!c&&H?($=m.element,!0):!1})}var N=A.createContext();pe.SwipeableViewsContext=N;var I=function(b){(0,V.default)(l,b);function l(L){var t;return(0,h.default)(this,l),t=(0,R.default)(this,(0,y.default)(l).call(this,L)),t.rootNode=null,t.containerNode=null,t.ignoreNextScrollEvents=!1,t.viewLength=0,t.startX=0,t.lastX=0,t.vx=0,t.startY=0,t.isSwiping=void 0,t.started=!1,t.startIndex=0,t.transitionListener=null,t.touchMoveListener=null,t.activeSlide=null,t.indexCurrent=null,t.firstRenderTimeout=null,t.setRootNode=function(n){t.rootNode=n},t.setContainerNode=function(n){t.containerNode=n},t.setActiveSlide=function(n){t.activeSlide=n,t.updateHeight()},t.handleSwipeStart=function(n){var m=t.props.axis,c=Y(n.touches[0],m);t.viewLength=t.rootNode.getBoundingClientRect()[D.length[m]],t.startX=c.pageX,t.lastX=c.pageX,t.vx=0,t.startY=c.pageY,t.isSwiping=void 0,t.started=!0;var x=window.getComputedStyle(t.containerNode),H=x.getPropertyValue("-webkit-transform")||x.getPropertyValue("transform");if(H&&H!=="none"){var K=H.split("(")[1].split(")")[0].split(","),te=window.getComputedStyle(t.rootNode),_=Y({pageX:parseInt(K[4],10),pageY:parseInt(K[5],10)},m);t.startIndex=-_.pageX/(t.viewLength-parseInt(te.paddingLeft,10)-parseInt(te.paddingRight,10))||0}},t.handleSwipeMove=function(n){if(!t.started){t.handleTouchStart(n);return}if(!($!==null&&$!==t.rootNode)){var m=t.props,c=m.axis,x=m.children,H=m.ignoreNativeScroll,K=m.onSwitching,te=m.resistance,_=Y(n.touches[0],c);if(t.isSwiping===void 0){var O=Math.abs(_.pageX-t.startX),j=Math.abs(_.pageY-t.startY),F=O>j&&O>T.constant.UNCERTAINTY_THRESHOLD;if(!te&&(c==="y"||c==="y-reverse")&&(t.indexCurrent===0&&t.startX<_.pageX||t.indexCurrent===A.Children.count(t.props.children)-1&&t.startX>_.pageX)){t.isSwiping=!1;return}if(O>j&&n.preventDefault(),F===!0||j>T.constant.UNCERTAINTY_THRESHOLD){t.isSwiping=F,t.startX=_.pageX;return}}if(t.isSwiping===!0){n.preventDefault(),t.vx=t.vx*.5+(_.pageX-t.lastX)*.5,t.lastX=_.pageX;var se=(0,T.computeIndex)({children:x,resistance:te,pageX:_.pageX,startIndex:t.startIndex,startX:t.startX,viewLength:t.viewLength}),fe=se.index,ee=se.startX;if($===null&&!H){var le=k(n.target,t.rootNode),be=oe({domTreeShapes:le,startX:t.startX,pageX:_.pageX,axis:c});if(be)return}ee?t.startX=ee:$===null&&($=t.rootNode),t.setIndexCurrent(fe);var xe=function(){K&&K(fe,"move")};(t.state.displaySameSlide||!t.state.isDragging)&&t.setState({displaySameSlide:!1,isDragging:!0},xe),xe()}}},t.handleSwipeEnd=function(){if($=null,!!t.started&&(t.started=!1,t.isSwiping===!0)){var n=t.state.indexLatest,m=t.indexCurrent,c=n-m,x;Math.abs(t.vx)>t.props.threshold?t.vx>0?x=Math.floor(m):x=Math.ceil(m):Math.abs(c)>t.props.hysteresis?x=c>0?Math.floor(m):Math.ceil(m):x=n;var H=A.Children.count(t.props.children)-1;x<0?x=0:x>H&&(x=H),t.setIndexCurrent(x),t.setState({indexLatest:x,isDragging:!1},function(){t.props.onSwitching&&t.props.onSwitching(x,"end"),t.props.onChangeIndex&&x!==n&&t.props.onChangeIndex(x,n,{reason:"swipe"}),m===n&&t.handleTransitionEnd()})}},t.handleTouchStart=function(n){t.props.onTouchStart&&t.props.onTouchStart(n),t.handleSwipeStart(n)},t.handleTouchEnd=function(n){t.props.onTouchEnd&&t.props.onTouchEnd(n),t.handleSwipeEnd(n)},t.handleMouseDown=function(n){t.props.onMouseDown&&t.props.onMouseDown(n),n.persist(),t.handleSwipeStart(M(n))},t.handleMouseUp=function(n){t.props.onMouseUp&&t.props.onMouseUp(n),t.handleSwipeEnd(M(n))},t.handleMouseLeave=function(n){t.props.onMouseLeave&&t.props.onMouseLeave(n),t.started&&t.handleSwipeEnd(M(n))},t.handleMouseMove=function(n){t.props.onMouseMove&&t.props.onMouseMove(n),t.started&&t.handleSwipeMove(M(n))},t.handleScroll=function(n){if(t.props.onScroll&&t.props.onScroll(n),n.target===t.rootNode){if(t.ignoreNextScrollEvents){t.ignoreNextScrollEvents=!1;return}var m=t.state.indexLatest,c=Math.ceil(n.target.scrollLeft/n.target.clientWidth)+m;t.ignoreNextScrollEvents=!0,n.target.scrollLeft=0,t.props.onChangeIndex&&c!==m&&t.props.onChangeIndex(c,m,{reason:"focus"})}},t.updateHeight=function(){if(t.activeSlide!==null){var n=t.activeSlide.children[0];n!==void 0&&n.offsetHeight!==void 0&&t.state.heightLatest!==n.offsetHeight&&t.setState({heightLatest:n.offsetHeight})}},t.state={indexLatest:L.index,isDragging:!1,renderOnlyActive:!L.disableLazyLoading,heightLatest:0,displaySameSlide:!0},t.setIndexCurrent(L.index),t}return(0,g.default)(l,[{key:"componentDidMount",value:function(){var t=this;this.transitionListener=P(this.containerNode,"transitionend",function(n){n.target===t.containerNode&&t.handleTransitionEnd()}),this.touchMoveListener=P(this.rootNode,"touchmove",function(n){t.props.disabled||t.handleSwipeMove(n)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){t.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var n=t.index;typeof n=="number"&&n!==this.props.index&&(this.setIndexCurrent(n),this.setState({displaySameSlide:(0,T.getDisplaySameSlide)(this.props,t),indexLatest:n}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var t=this;return{slideUpdateHeight:function(){t.updateHeight()}}}},{key:"setIndexCurrent",value:function(t){if(!this.props.animateTransitions&&this.indexCurrent!==t&&this.handleTransitionEnd(),this.indexCurrent=t,this.containerNode){var n=this.props.axis,m=D.transform[n](t*100);this.containerNode.style.WebkitTransform=m,this.containerNode.style.transform=m}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var t=this,n=this.props;n.action;var m=n.animateHeight,c=n.animateTransitions,x=n.axis,H=n.children,K=n.containerStyle,te=n.disabled;n.disableLazyLoading;var _=n.enableMouseEvents;n.hysteresis,n.ignoreNativeScroll,n.index,n.onChangeIndex,n.onSwitching,n.onTransitionEnd,n.resistance;var O=n.slideStyle,j=n.slideClassName,F=n.springConfig,se=n.style;n.threshold;var fe=(0,d.default)(n,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"]),ee=this.state,le=ee.displaySameSlide,be=ee.heightLatest,xe=ee.indexLatest,ge=ee.isDragging,Ie=ee.renderOnlyActive,Ue=te?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},Ce=!te&&_?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},Xe=(0,o.default)({},v.slide,O),ke,ve;if(ge||!c||le)ke="all 0s ease 0s",ve="all 0s ease 0s";else if(ke=E("transform",F),ve=E("-webkit-transform",F),be!==0){var Ne=", ".concat(E("height",F));ke+=Ne,ve+=Ne}var Se={height:null,WebkitFlexDirection:D.flexDirection[x],flexDirection:D.flexDirection[x],WebkitTransition:ve,transition:ke};if(!Ie){var je=D.transform[x](this.indexCurrent*100);Se.WebkitTransform=je,Se.transform=je}return m&&(Se.height=be),A.createElement(N.Provider,{value:this.getSwipeableViewsContext()},A.createElement("div",(0,o.default)({ref:this.setRootNode,style:(0,o.default)({},D.root[x],se)},fe,Ue,Ce,{onScroll:this.handleScroll}),A.createElement("div",{ref:this.setContainerNode,style:(0,o.default)({},Se,v.container,K),className:"react-swipeable-view-container"},A.Children.map(H,function(ut,ze){if(Ie&&ze!==xe)return null;var Ye,Re=!0;return ze===xe&&(Re=!1,m&&(Ye=t.setActiveSlide,Xe.overflowY="hidden")),A.createElement("div",{ref:Ye,style:Xe,className:j,"aria-hidden":Re,"data-swipeable":"true"},ut)}))))}}]),l}(A.Component);I.displayName="ReactSwipableView",I.propTypes={},I.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var he=I;return pe.default=he,pe}(function(e){var a=Nn;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"SwipeableViewsContext",{enumerable:!0,get:function(){return o.SwipeableViewsContext}});var o=a(Ar())})(Pn);const Pr=Qn(Pn),Nr=p(w)({width:"100%",margin:"0px"}),jr=p(w)({margin:"0px",padding:"0px",position:"relative"}),Br=p(w)({width:"100%",height:"100%",margin:"0px",padding:"0px",position:"relative"}),On=p(Pr)(({scrollcolor:e})=>({width:"100%",height:"100%",marginBottom:"8px",padding:"14px 0px 20px 0px","::-webkit-scrollbar-thumb":{background:"red"},"::-webkit-scrollbar-thumb: hover":{backgroundColor:e,opacity:"1"},"& .react-swipeable-view-container":{height:"100%"}})),at=p(w)({width:"100%",padding:"0px 14px","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),Mn=p(w)({height:"10px",width:"100%",position:"absolute",bottom:"0",display:"flex",justifyContent:"center","& :last-child":{marginRight:"0px"}}),ot=p(w)(({active:e,linecolor:a})=>({borderTop:`1px solid ${a}`,width:e=="true"?"20px":e=="false"?"10px":"0px",color:"black",marginRight:"5px",marginTop:"5px"})),Or=p(w)(({scrollbarcolor:e})=>({width:"100%",height:"100%","::-webkit-scrollbar-thumb":{backgroundColor:"red"},"::-webkit-scrollbar-track":{backgroundColor:"transparent"},scrollbarWidth:"auto",scrollbarColor:`${e} transparent`})),_n=p(w)({width:"100%",padding:"0px",margin:"0px"}),Mr=p(w)({width:"100%",margin:"auto",padding:"20px 0px","& .MuiBox-root":{textWrap:"wrap"}}),Dr=p(w)({width:"100%",height:"100%",position:"relative",overflowX:"hidden",padding:"0px 15px",scrollbarGutter:"stable both-edges"}),Hr=p(w)({}),Tn=p("img")({width:"100%",marginTop:"20px"}),Vr=p(w)({width:"100%",marginTop:"20px","& .MuiAccordion-gutters":{width:"100%"},"& .MuiAccordion-root .MuiAccordionSummary-root .Mui-expanded":{margin:"12px 0px !important"}}),Fr=p(w)({width:"100%","& .MuiBox-root":{padding:"0px "}}),Wr=p(w)({width:"100%",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"}),qr=p(w)({width:"100%",padding:"20px 0px",position:"relative",display:"flex",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),Ur=p(w)({width:"100%",margin:"0px",position:"relative",display:"flex",flexDirection:"column",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}});p(w)({width:"40px",height:"100%",backgroundColor:"#FFAA5D",justifyContent:"center",alignItems:"center"});p(w)({width:"20px",height:"50%",position:"relative"});function wt(e){var T,P,v,D;const[a,o]=i.useState(0),{theme:d,textSize:h,showQuranReferences:g,displayType:R}=i.useContext(Ee),{topTextColor:y,backgroundColor:V}=Le(d),A=(P=(T=e==null?void 0:e.verse)==null?void 0:T.verseReference)==null?void 0:P.ref;return R==ce.VERSE_BY_VERSE?r.jsxs(jr,{children:[r.jsxs(On,{style:{backgroundColor:V},scrollcolor:y,enableMouseEvents:!0,disabled:!g,onSwitching:E=>o(E),children:[r.jsx(at,{children:r.jsx(_n,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,children:r.jsx(J,{fontFamily:"Inter",fontSize:h,lineHeight:h+20,fontWeight:"700",color:y,dataIndex:e.index.toString(),language:e.referenceLanguage,direction:e.referenceLanguage==We?"rtl":"ltr",children:(v=e.verse.verseText)==null?void 0:v[e.referenceLanguage]})})}),r.jsx(at,{children:A&&A.map((E,Y)=>r.jsx(J,{fontFamily:"Inter",fontWeight:"700",fontSize:h,lineHeight:h+20,color:y,children:E},Y))})]}),A&&A.length>0&&g&&r.jsxs(Mn,{children:[r.jsx(ot,{active:a==0?"true":"false",linecolor:y}),r.jsx(ot,{active:a==1?"true":"false",linecolor:y})]})]}):r.jsx(_n,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,style:{backgroundColor:V},children:r.jsx(J,{fontFamily:"Inter",fontSize:h,lineHeight:h+20,fontWeight:"700",color:y,dataIndex:e.index.toString(),language:e.referenceLanguage,direction:e.referenceLanguage==We?"rtl":"ltr",onTouchStart:()=>e.onTouchStart&&e.onTouchStart(e.verse.verseReference.ref),onMouseDown:()=>e.onMouseDown&&e.onMouseDown(e.verse.verseReference.ref),children:(D=e.verse.verseText)==null?void 0:D[e.referenceLanguage]})})}function Xr(e){var $,oe;const[a,o]=i.useState([]),[d,h]=i.useState(0),{scrollTopVerseIndex:g,setScrollTopVerseIndex:R,setHiddenTopVersePercentage:y,activeScroll:V,setActiveScroll:A}=i.useContext(st),T=i.useRef([]);T.current=($=e.verses)==null?void 0:$.map((N,I)=>T.current[I]??i.createRef());const{theme:P,textSize:v,showQuranReferences:D,displayType:E}=i.useContext(Ee),{backgroundColor:Y,topTextColor:M}=Le(P);i.useEffect(()=>{var N;if(((N=e.verses)==null?void 0:N.length)>0){const I=T.current[g-1];I!=null&&I.current&&I.current.scrollIntoView(),R(0),y(0)}},[e.verses]),i.useEffect(()=>{var N;if(E==ce.SPLIT_PANEL&&g>=0&&(V==it||V==qe)){const I=T.current[Number(g)];(N=I==null?void 0:I.current)==null||N.scrollIntoView()}},[g,E]),i.useEffect(()=>{var N,I;T.current[0]&&!g&&((I=(N=T.current[0])==null?void 0:N.current)==null||I.scrollIntoView())},[g]);const k=N=>{if(E==ce.SPLIT_PANEL){A(In);const I=N.currentTarget.getBoundingClientRect().top,he=N.currentTarget.clientHeight;let b=-1,l=1/0;if(T.current.forEach((L,t)=>{if(L.current){const n=L.current.getBoundingClientRect().top,m=L.current.getBoundingClientRect().bottom,c=n-I;m>I&&n<I+he&&Math.abs(c)<l&&(l=Math.abs(c),b=t)}}),b!==-1){R(b);const L=T.current[b];if(L.current){const t=L.current.getBoundingClientRect().top,n=L.current.clientHeight,m=Math.max(0,Math.min(100,(I-t)/n*100));y(m)}}}};return r.jsx(Nr,{style:{height:e.height},children:E===ce.SPLIT_PANEL?r.jsxs(Br,{children:[r.jsxs(On,{style:{backgroundColor:Y},scrollcolor:M,enableMouseEvents:!0,disabled:!D,onScrollCapture:V!=it?N=>k(N):()=>{},onSwitching:N=>h(N),children:[r.jsx(at,{children:(oe=e.verses)==null?void 0:oe.map((N,I)=>r.jsx(wt,{refer:T.current[I],verse:N,index:I,referenceLanguage:e.referenceLanguage,onMouseDown:o,onTouchStart:o},I))}),r.jsx(at,{children:a&&a.map((N,I)=>r.jsx(J,{fontFamily:"Inter",fontWeight:"700",fontSize:v-2,color:M,children:N},I))})]}),D&&r.jsxs(Mn,{style:{background:Y,bottom:"5px"},children:[r.jsx(ot,{active:d===0?"true":"false",linecolor:M}),r.jsx(ot,{active:d===1?"true":"false",linecolor:M})]})]}):r.jsx(Or,{style:{backgroundColor:Y},scrollbarcolor:M,children:e.verses.map((N,I)=>r.jsx(wt,{refer:T.current[I],verse:N,index:I,referenceLanguage:e.referenceLanguage},I))})})}var Lt={},zr=Rn;Object.defineProperty(Lt,"__esModule",{value:!0});var Et=Lt.default=void 0,Yr=zr(An()),Kr=r;Et=Lt.default=(0,Yr.default)((0,Kr.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft");var It={},Gr=Rn;Object.defineProperty(It,"__esModule",{value:!0});var Dn=It.default=void 0,$r=Gr(An()),Qr=r;Dn=It.default=(0,$r.default)((0,Qr.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"SettingsOutlined");const Zr=p(w)({position:"fixed",zIndex:"3",bottom:"0px",width:"100%",height:"150px",overflow:"hidden"}),Jr=p(w)({position:"relative",display:"flex",justifyContent:"center","& .MuiBox-root":{alignContent:"center"}}),ei=p("img")({width:"100%",position:"absolute",top:"20px"}),ti=p(w)({width:"100%",maxWidth:"700px",padding:"0px 20px",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:"1",paddingTop:"20px",alignContent:"center","@media (min-width: 600px)":{paddingTop:"25px"}}),ni=p(w)({position:"relative",bottom:"-75px",height:"100px",display:"flex",alignItems:"center",justifyContent:"space-between"}),ri=p("img")({width:"100%",position:"absolute","@media (min-width: 750px)":{top:"0px"},"@media (min-width: 1050px)":{top:"-10px"},"@media (min-width: 1450px)":{top:"-20px"}});p(w)(({readingcontrol:e})=>({height:"100px",width:"100%",maxWidth:"700px",margin:"auto",display:"flex",flexDirection:e==Zn.LEFT_HANDED?"row":"row-reverse",justifyContent:"space-between",alignItems:"center",padding:"0px 15px","@media (min-width: 1075px)":{width:"80%",margin:"auto"}}));const ii=p(w)(({isintro:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer",marginLeft:e=="true"?"10px":"0px"})),ai=p(w)({backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 10px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2,height:"40px","& .MuiBox-root":{width:"70px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),wn=p("img")({width:"15px",marginRight:"10px"}),oi=p(w)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer"}),si=p(w)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px",height:"40px"}),nt=p(w)({width:"24px",height:"24px",cursor:"pointer"}),li=p(w)({width:"25px"}),ui=p(w)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",minWidth:"200px",maxWidth:"350px",boxSizing:"border-box",cursor:"pointer","@media (max-width: 360px)":{width:"220px"}}),ci=p(w)({display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",boxSizing:"border-box",borderRadius:"20px",padding:"5px",height:"40px",width:"100%","@media (max-width: 360px)":{width:"200px"}}),di=p(w)({minWidth:"170px",maxWidth:"320px",display:"flex",justifyContent:"space-between",alignItems:"center","@media (max-width: 360px)":{width:"150px",minWidth:"140px"}}),hi=p(w)({display:"flex",alignItems:"center",width:"150px",marginLeft:"10px","& .MuiBox-root":{width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","@media (max-width: 360px)":{width:"90px"}},"@media (max-width: 360px)":{width:"110px"}}),fi=p(w)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer","& :nth-of-type(2)":{marginRight:"10px"}}),gi=p(w)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 20px",width:"50px",height:"40px"}),xi=p(w)({width:"40px",height:"40px",marginRight:"10px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"50%",cursor:"pointer","& svg":{fill:"#093C54 !important"}});p(w)({width:"90px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px","@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}});const vi=p(w)({display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"10px",marginBottom:"20px",cursor:"pointer"}),Fe=p("img")({width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",zIndex:"1"});p(w)(({underlinecolor:e})=>({width:"90px",textDecoration:"underline",textDecorationColor:e,textUnderlineOffset:"3px",zIndex:"1",cursor:"pointer",marginBottom:"20px","& .MuiBox-root":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}}));const mi=p(w)({width:"100%",height:"60px",overflow:"hidden",padding:"0 10px"}),bi=p(or)(({barcolor:e})=>({color:e,opacity:"1",height:"5px","& .MuiSlider-thumb":{width:"13.25px",height:"14px",color:e,transition:"0.3s cubic-bezier(.47,1.64,.41,.8)","&::before":{boxShadow:"0 2px 12px 0 rgba(0,0,0,0.4)"},"&:hover, &.Mui-focusVisible":{boxShadow:"0px 0px 0px 8px rgb(0 0 0 / 16%)"},"&.Mui-active":{width:20,height:20}}})),Si=p(w)({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-20px"});function yi(e){const{duration:a,currentTime:o,onTimeChange:d}=e,[h,g]=i.useState(o),{theme:R}=i.useContext(Ee),{buttonTextColor:y}=Le(R);i.useEffect(()=>{g(o)},[o]);const V=(A,T)=>{g(T),d(T)};return r.jsxs(mi,{children:[r.jsx(bi,{"aria-label":"time-indicator",value:h,min:0,max:Math.floor(a),step:1,barcolor:y,onChange:V}),r.jsxs(Si,{children:[r.jsx(J,{color:y,children:En(h)}),r.jsx(J,{color:y,children:"-"+En(Math.floor(a-h))})]})]})}function En(e){const a=Math.floor(e/60),o=Math.floor(e%60);return`${a}:${o<10?`0${o}`:o}`}function pi(e){const[a,o]=i.useState(!1),[d,h]=i.useState(0),[g,R]=i.useState(0),[y,V]=i.useState(0),A=i.useRef(new Audio),{scrollTopVerseIndex:T,setScrollTopVerseIndex:P,setActiveScroll:v}=i.useContext(st),{autoScrollText:D,volume:E,audioLanguage:Y,pageControl:M,theme:k,readingLanguage:$}=i.useContext(Ee);i.useEffect(()=>{const _=A.current;e.src&&(_.src=ct+e.src);const O=()=>{R(_.duration)},j=()=>{h(Math.floor(_.currentTime))};return _.addEventListener("loadedmetadata",O),_.addEventListener("timeupdate",j),()=>{_.removeEventListener("loadedmetadata",O),_.removeEventListener("timeupdate",j)}},[e.src]),i.useEffect(()=>{var _;if(A.current.ended)l();else if(D){const O=(_=e.verses)==null?void 0:_.findIndex((j,F)=>{var ee,le,be;const se=(ee=j.verseAudioStart)==null?void 0:ee[Y||Gt.TRANSLATION],fe=(be=(le=e.verses[F+1])==null?void 0:le.verseAudioStart)==null?void 0:be[Y||Gt.TRANSLATION];return d>=se&&d<fe});O!==-1&&(O!==y||O==0)&&(P(O),V(O),v(qe))}},[d,e.verses,Y,D,a]),i.useEffect(()=>{A.current.volume=E/100},[E]);const oe=()=>{const _=A.current;v(qe),_.readyState>=2?(o(!0),_.play().catch(O=>ie.custom(j=>{var F,se;return r.jsx(ae,{text:((se=(F=e.terms.texts.find(fe=>fe.variable=="Audio Play Error"))==null?void 0:F.text)==null?void 0:se[$])||"",offset:125,visible:j.visible})}))):ie.custom(O=>{var j,F;return r.jsx(ae,{text:((F=(j=e.terms.texts.find(se=>se.variable=="Audio Not Ready"))==null?void 0:j.text)==null?void 0:F[$])||"",offset:125,visible:O.visible})})},N=()=>{o(!1),A.current.pause(),v(Tt)},I=()=>{N(),e.moveToSoundSettingPage()},he=()=>{N(),e.setAudioSeekBarStatus(!1)},b=_=>{A.current.currentTime=_,h(_)},l=()=>{h(0),o(!1),P(0),v(Tt)},L=()=>r.jsxs(Jr,{children:[r.jsx(ei,{src:k==U.DEFAULT||k==U.DARK?q.bar_reading_audio_subtract:k==U.BLACK_AND_WHITE?q.bar_reading_audio_subtract_BAW:k==U.SAPPHIRE?q.bar_reading_audio_subtract_sapphire:q.bar_reading_audio_subtract_easyocean}),r.jsxs(ti,{children:[r.jsx(Fe,{src:k==U.DEFAULT||k==U.DARK?q.btn_sound_setting:k==U.BLACK_AND_WHITE?q.btn_sound_setting_BAW:k==U.SAPPHIRE?q.btn_sound_setting_sapphire:q.btn_sound_setting_easyocean,onClick:I}),r.jsx(yi,{duration:g,currentTime:d,onTimeChange:b}),r.jsx(Fe,{src:k==U.DEFAULT||k==U.DARK?q.btn_close:k==U.BLACK_AND_WHITE?q.btn_close_BAW:k==U.SAPPHIRE?q.btn_close_sapphire:q.btn_close_easyocean,onClick:he})]})]}),t=()=>r.jsx(ri,{src:k==U.DEFAULT||k==U.DARK?q.bar_reading_subtract:k==U.BLACK_AND_WHITE?q.bar_reading_subtract_BAW:k==U.SAPPHIRE?q.bar_reading_subtract_sapphire:q.bar_reading_subtract_easyocean}),n=()=>!e.isIntro&&r.jsx(vi,{children:e.showAudioSeekBar?a?r.jsx(Fe,{src:k==U.DEFAULT||k==U.DARK?q.btn_pause:k==U.BLACK_AND_WHITE?q.btn_pause_BAW:k==U.SAPPHIRE?q.btn_pause_sapphire:q.btn_pause_easyocean,onClick:N}):r.jsx(Fe,{src:k==U.DEFAULT||k==U.DARK?q.btn_play:k==U.BLACK_AND_WHITE?q.btn_play_BAW:k==U.SAPPHIRE?q.btn_play_sapphire:q.btn_play_easyocean,onClick:oe}):r.jsx(Fe,{src:k==U.DEFAULT||k==U.DARK?q.btn_sound:k==U.BLACK_AND_WHITE?q.btn_sound_BAW:k==U.SAPPHIRE?q.btn_sound_sapphire:q.btn_sound_easyocean,onClick:()=>e.setAudioSeekBarStatus(!0)})}),m=()=>{var _,O,j,F,se,fe;return e.bookTitle!="Qur'an"&&r.jsxs(ii,{isintro:e.isIntro?"true":"false",children:[r.jsxs(ai,{onClick:e.moveToIndexPage,children:[r.jsx(wn,{src:ct+e.bookImage}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:(F=(j=(O=(_=e.subBookTerms)==null?void 0:_.texts)==null?void 0:O.find(ee=>ee.variable===e.subBookTitle))==null?void 0:j.text)==null?void 0:F[e.readingLanguage]})]}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((fe=(se=e.terms.texts.find(ee=>ee.variable=="Sub Book"))==null?void 0:se.text)==null?void 0:fe[$])||"Sub Book"})]})},c=()=>{var _,O;return e.bookTitle!="Qur'an"&&r.jsxs(oi,{children:[r.jsxs(si,{children:[r.jsx(nt,{onClick:()=>e.handleNavigateBtn(M==Ge.LEFT_TO_RIGHT?Ke:Pe),children:r.jsx(Et,{})}),r.jsx(li,{onClick:e.moveToIndexPage,children:r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",textAlign:"center",children:e.isIntro?"In":e.bookTitle=="Zabur"?e.subBookNumber.toString():e.chapterNumber.toString()})}),r.jsx(nt,{onClick:()=>e.handleNavigateBtn(M==Ge.LEFT_TO_RIGHT?Pe:Ke),children:r.jsx(Jt,{})})]}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((O=(_=e.terms.texts.find(j=>j.variable=="Chapter"))==null?void 0:_.text)==null?void 0:O[$])||"Chapter"})]})},x=()=>{var _,O;return e.bookTitle=="Qur'an"&&r.jsxs(ui,{children:[r.jsxs(ci,{children:[r.jsx(nt,{onClick:()=>e.handleNavigateBtn(M==Ge.LEFT_TO_RIGHT?Ke:Pe),children:r.jsx(Et,{})}),r.jsxs(di,{onClick:e.moveToIndexPage,children:[r.jsxs(hi,{children:[r.jsx(wn,{src:ct+e.bookImage}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookTitle})]}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookNumber.toString()})]}),r.jsx(nt,{onClick:()=>e.handleNavigateBtn(M==Ge.LEFT_TO_RIGHT?Pe:Ke),children:r.jsx(Jt,{})})]}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((O=(_=e.terms.texts.find(j=>j.variable=="Surah"))==null?void 0:_.text)==null?void 0:O[$])||"Surah"})]})},H=()=>{var _,O;return!e.isIntro&&r.jsxs(fi,{children:[r.jsx(gi,{onClick:e.moveToSubBookExplorer,children:r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:(T<=0?1:T+1).toString()})}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((O=(_=e.terms.texts.find(j=>j.variable=="Aya"))==null?void 0:_.text)==null?void 0:O[$])||"Aya"})]})},K=()=>r.jsx(xi,{onClick:e.moveToSettingsPage,children:r.jsx(Dn,{})}),te=()=>r.jsxs(ni,{children:[t(),n(),m(),c(),x(),H(),K()]});return r.jsxs(Zr,{children:[e.showAudioSeekBar&&L(),te()]})}function kt(e){var L,t,n,m;const[a,o]=i.useState(e.isExistingInBookmark?100:0),[d,h]=i.useState(null),[g,R]=i.useState(!1),[y,V]=i.useState(0),[A,T]=i.useState(0),{textSize:P,theme:v}=i.useContext(Ee),{mainBGColor:D}=Le(v),E=i.useRef(null),Y=i.useRef(a),M=e.refer,k=i.useRef(0),$=window.matchMedia("(orientation: portrait)").matches;i.useEffect(()=>{Y.current=a},[a]),i.useEffect(()=>{if(E.current&&M.current&&("verseHeader"in e.verse&&(E.current.style.height=`${M.current.getBoundingClientRect().height-4}px`,E.current.style.bottom="2px",E.current.style.alignSelf="self-end"),M.current.offsetHeight>0&&M.current.offsetHeight<=24)){const c=E.current.children[0];c.style.width="20px",c.style.height="20px",c.children[1].style.width="10px",c.children[1].style.height="10px"}},[e.verse,e.translatePanelHeight,$]);const oe=i.useCallback(c=>{if(c>0&&c<$t){const x=c/$t*100,H=e.isExistingInBookmark?100-x:x;o(H),Y.current=H}else if(c>0){const x=e.isExistingInBookmark?0:100;o(x),Y.current=x}else{const x=e.isExistingInBookmark?100:0;o(x),Y.current=x}},[e.isExistingInBookmark]),N=i.useCallback(()=>{if(M.current){const c=Math.max(0,Math.min(A,er));M.current.style.transform=`translateX(${c}px)`,oe(c-Jn)}g&&(k.current=requestAnimationFrame(N))},[g,A,oe]);i.useEffect(()=>(g?k.current=requestAnimationFrame(N):cancelAnimationFrame(k.current),()=>cancelAnimationFrame(k.current)),[g,N]);const I=c=>{var H;!e.language&&R(!0),V(c);const x=(H=M.current)==null?void 0:H.getAttribute("data-id");x&&h(x)},he=c=>{if(!g)return;const x=Math.max(0,c-y);e.isLoggedIn&&x>Qt&&T(x-Qt)},b=()=>{R(!1),M.current&&(!e.isExistingInBookmark&&Y.current==100||e.isExistingInBookmark&&Y.current==0?d&&e.handleBookmark(d):e.isExistingInBookmark?(o(100),Y.current=100):(o(0),Y.current=0),M.current.style.transition="transform 0.3s ease-out",M.current.style.transform="translateX(0)",setTimeout(()=>{M.current&&(M.current.style.transition="")},300)),T(0)};i.useEffect(()=>{const c=M.current;if(c){const x=j=>{j.preventDefault(),I(j.clientX)},H=j=>{j.preventDefault(),he(j.clientX)},K=j=>{j.preventDefault(),b()},te=j=>{I(j.touches[0].clientX)},_=j=>{he(j.touches[0].clientX)},O=j=>{b()};return c.addEventListener("mousedown",x),document.addEventListener("mousemove",H),document.addEventListener("mouseup",K),c.addEventListener("touchstart",te),c.addEventListener("touchmove",_),c.addEventListener("touchend",O),()=>{c.removeEventListener("mousedown",x),document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",K),c.removeEventListener("touchstart",te),c.removeEventListener("touchmove",_),c.removeEventListener("touchend",O)}}},[M,oe,e.handleBookmark,y]);const l=c=>{for(var x in c)if(c[x]!==null&&c[x]!=="")return!0;return!1};return r.jsxs(Wr,{children:["verseHeader"in e.verse&&l(e.verse.verseHeader)&&r.jsx(qr,{"data-id":e.verse.verseId,"data-index":e.index,style:{backgroundColor:D},children:r.jsx(J,{fontFamily:"Inter",fontWeight:"700",backgroundColor:D,fontSize:P,lineHeight:P+15,direction:e.language||e.readingLanguage===We?"rtl":"ltr",children:e.verse.verseHeader[e.language||e.readingLanguage]})}),!e.language&&r.jsx(hr,{progress:a,refer:E,backgroundColor:D}),r.jsx(Ur,{"data-id":"verseId"in e.verse?e.verse.verseId:e.verse.id,"data-index":e.index,ref:e.refer,children:e.isIntro?r.jsx(J,{fontFamily:"Inter",backgroundColor:D,dataIndex:e.language?"":e.index.toString(),lineHeight:P+20,direction:e.readingLanguage===We?"rtl":"ltr",fontSize:e.verse.title?P+2:P,fontWeight:e.verse.title?"bold":"500",textAlign:e.verse.title?"center":"left",children:((L=e.verse.title)==null?void 0:L[e.language||e.readingLanguage])||((t=e.verse.text)==null?void 0:t[e.language||e.readingLanguage])}):r.jsx(J,{fontFamily:"Inter",fontSize:P,backgroundColor:D,dataIndex:e.language?"":e.index.toString(),lineHeight:P+20,direction:e.readingLanguage===We?"rtl":"ltr",children:"verseText"in e.verse?(n=e.verse.verseText)==null?void 0:n[e.language||e.readingLanguage]:(m=e.verse.text)==null?void 0:m[e.language||e.readingLanguage]})})]})}function kn(e){var I,he,b,l,L;const[a,o]=i.useState([]),[d,h]=i.useState([]),{scrollTopVerseIndex:g,setScrollTopVerseIndex:R,setHiddenTopVersePercentage:y,activeScroll:V,setActiveScroll:A}=i.useContext(st),T=i.useRef(null),P=i.useRef(null),v=i.useRef([]);v.current=(I=e.verses)==null?void 0:I.map((t,n)=>v.current[n]??i.createRef());const{theme:D,displayType:E}=i.useContext(Ee),{mainBGColor:Y,textColor:M}=Le(D),k=e.readingLanguage||tr,$=i.useCallback(()=>{var n;let t=[];return(n=v.current)==null||n.forEach(m=>{m.current&&m.current.children[0]&&t.push(m.current.children[0].offsetHeight)}),t},[v]);i.useEffect(()=>{var t;if(((t=e.verses)==null?void 0:t.length)>0){const n=v.current[g-1];n!=null&&n.current&&n.current.scrollIntoView(),R(0),y(0)}},[e.verses]),i.useEffect(()=>{const t=$();o(t);const n=t.reduce((m,c,x)=>(m[x]=(m[x-1]||0)+c,m),[]);h(n)},[e.verses,$]);const oe=i.useCallback(()=>{if(!T.current)return;const t=T.current.scrollTop;A(it);let n=0,m=d.length-1;for(;n<=m;){const O=Math.floor((n+m)/2);d[O]>t?m=O-1:n=O+1}const c=n-1;R(c);const x=c>0?d[c-1]:0,H=a[c],te=(t-x)/H*100,_=Math.min(Math.max(te,0),100);y(_)},[d,a,R]);i.useEffect(()=>{const t=T.current;if(t)return t.addEventListener("scroll",oe),t.addEventListener("scrollend",()=>A(Tt)),()=>{t.removeEventListener("scroll",oe)}}),i.useEffect(()=>{var t;if((E===ce.SPLIT_PANEL||E===ce.ONLY_TRNSLATION)&&g>=2&&(V==In||V==qe)){const n=v.current[Number(g)];(t=n==null?void 0:n.current)==null||t.scrollIntoView()}},[g,E]);const N=(t,n)=>{var m;return t.image?r.jsx(Tn,{src:t.image.url,alt:t.image.alt},n):t.isCollapse?r.jsx(Vr,{children:r.jsx(cr,{label:(m=t.title)==null?void 0:m[k],outArrow:!0,detail:r.jsx(Fr,{children:t.content.map((c,x)=>!c.url&&!c.isTitle?r.jsx(J,{children:c==null?void 0:c[k]},x):!c.url&&c.isTitle?r.jsx(J,{fontWeight:"bold",isTitle:!0,children:c==null?void 0:c[k]},x):r.jsx(Tn,{src:c.url,alt:c.alt},x))})})},n):r.jsx(kt,{refer:v.current[n],verse:t,index:n,language:k,isExistingInBookmark:e.bookmarks.some(c=>c.id===t.id),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,isIntro:!0,readingLanguage:e.readingLanguage,handleBookmark:e.handleBookmark},n)};return i.useEffect(()=>{var t;V!=it&&(!g||g===-1)&&e.prevPage!=rt.SUBBOOKEXPLORER&&((t=P==null?void 0:P.current)==null||t.scrollIntoView())},[g]),r.jsx(Mr,{style:{backgroundColor:Y,color:M,height:e.height},children:r.jsxs(Dr,{ref:T,children:[!e.isIntro&&r.jsxs(Hr,{ref:P,children:[r.jsx(J,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(b=(he=e.subBookInfo)==null?void 0:he.subBookTitle)==null?void 0:b.ar}),r.jsx(J,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:e==null?void 0:e.originTitle}),r.jsx(J,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`${e.ordinary} ${e.bookUnit}`})]}),!e.isIntro&&((l=e.verses)==null?void 0:l.map((t,n)=>r.jsx(kt,{refer:v.current[n],verse:t,index:n,isExistingInBookmark:e.bookmarks.some(m=>m.verseId===t.verseId),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,readingLanguage:e.readingLanguage,handleBookmark:e.handleBookmark},n))),e.isIntro&&((L=e.verses)==null?void 0:L.map((t,n)=>N(t,n)))]})})}const Ci=p(w)({margin:"0px",height:"100dvh"}),Ln=p(w)(({showaudioseekbar:e})=>({width:"100%",padding:"20px",height:e=="true"?"calc(100dvh - 150px)":"calc(100dvh - 100px)"})),_i=p(w)({width:"45px",height:"8px",margin:"auto",marginTop:"-4px",position:"relative",zIndex:"2",cursor:"grab","&:active":{cursor:"grabbing"}}),Ti=p(w)({width:"100%",height:"100%",overflowX:"hidden",overflowY:"auto",margin:"0px",paddingBottom:"0px"}),wi=p(w)({width:"100%",padding:"15px"});function Ei(e){const a=window.matchMedia("(orientation: portrait)").matches,[o,d]=i.useState([]),[h,g]=i.useState(null),[R,y]=i.useState(!1),[V,A]=i.useState(a?200:120),[T,P]=i.useState(!1),[v,D]=i.useState(),[E,Y]=i.useState(),[M,k]=i.useState(),[$,oe]=i.useState(),[N,I]=i.useState(),[he,b]=i.useState(),[l,L]=i.useState(),[t,n]=i.useState(),[m,c]=i.useState(),[x,H]=i.useState(0),[K,te]=i.useState(0),[_,O]=i.useState(!0),{theme:j,displayType:F}=i.useContext(Ee),{mainBGColor:se,topTextColor:fe}=Le(j),{scrollTopVerseIndex:ee,setScrollTopVerseIndex:le,setActiveScroll:be}=i.useContext(st),xe=i.useRef([]),ge=i.useRef([]);xe.current=o==null?void 0:o.map((s,u)=>(xe==null?void 0:xe.current[u])??i.createRef()),ge.current=o==null?void 0:o.map((s,u)=>(ge==null?void 0:ge.current[u])??i.createRef());const Ie=100,Ue=100;window.matchMedia("(orientation: portrait)").addEventListener("change",s=>{const u=s.matches;A(u?200:120)});const[Ce,Xe]=i.useState(typeof window<"u"?window.innerHeight:1e3),ke=e.showAudioSeekBar?Ce-150-V:Ce-100-V,ve=lr(),Ne=i.useCallback(s=>{Qe.fetchVerses(s).then(u=>{var S;if(d(u.verses),u&&u.length>0){const C=(S=u.chapteraudio)==null?void 0:S.find(f=>f.language==e.readingLanguage);g(C)}e.dispatch({type:Q.ADD_CHAPTERINFO,payload:{chapterInfo:u}}),y(!1)}).catch(u=>{y(!1),ie.custom(S=>r.jsx(ae,{text:u,offset:70,visible:S.visible}))})},[e.currentChapter]),Se=i.useCallback((s,u)=>{var S,C;if(P(u),(S=e.chapterInfos)!=null&&S.length){const f=e.chapterInfos.find(B=>B.chapterId===s);if(f){P(f.chapterNumber==0),d(f.verses);const B=(C=f.chapterAudio)==null?void 0:C.find(G=>G.language==e.readingLanguage);g(B==null?void 0:B.audio)}else u?je(s):Ne(s);y(!1)}else u?je(s):Ne(s)},[e.currentChapter]),je=i.useCallback(s=>{Qe.fetchIntroVerses(s).then(u=>{d(u.verses),e.dispatch({type:Q.ADD_CHAPTERINFO,payload:{chapterInfo:u}})}).catch(u=>{ie.custom(S=>r.jsx(ae,{text:u,offset:70,visible:S.visible}))}).finally(()=>{y(!1)})},[]),ut=i.useCallback(async s=>{try{const u=await Qe.fetchSubBookInfo(s);e.dispatch({type:Q.ADD_SUBBOOK,payload:{subBook:u}}),n(u)}catch(u){ie.custom(S=>r.jsx(ae,{text:u,visible:S.visible}))}finally{y(!1)}},[e.subBooks,e.currentSubBook]),ze=i.useCallback(s=>{for(const u of e.bookInfos)for(const S of u.subBooks){const C=S.chapterInfos.find(f=>f.chapterId==s);if(C)return C}},[]),Ye=i.useCallback(s=>{for(const u of e.subBooks){const S=u.chapterInfos.find(C=>C.chapterId==s);if(S)return S}},[]);i.useEffect(()=>{const s=e.bookInfos.find(u=>u.bookId==e.currentBook);L(s)},[]),i.useEffect(()=>{var S;const s=(S=e.chapterInfos)==null?void 0:S.find(C=>C.chapterId==e.currentChapter),u=(s==null?void 0:s.chapterNumber)||0;te(u)},[e.chapterInfos]),i.useEffect(()=>{var G,ne,de,_e,Te,we;const s=e.terms.find(X=>X.pageTitle=="Reading Page"),u=e.terms.find(X=>X.pageTitle==="Chapter Headings"),S=e.terms.find(X=>X.pageTitle==="Origin Injil Sub-book Names"),C=e.terms.find(X=>X.pageTitle==="Origin Qur'an Surah Names"),f=e.terms.find(X=>X.pageTitle==="Origin Tawrat Sub-book Names"),B=e.terms.find(X=>X.pageTitle==="Origin Zabur Sub-book Names");(G=s==null?void 0:s.isPublished)!=null&&G[e.appLanguage]&&D(s),(ne=u==null?void 0:u.isPublished)!=null&&ne[e.readingLanguage]&&Y(u),(de=S==null?void 0:S.isPublished)!=null&&de[e.readingLanguage]&&k(S),(_e=C==null?void 0:C.isPublished)!=null&&_e[e.readingLanguage]&&oe(C),(Te=f==null?void 0:f.isPublished)!=null&&Te[e.readingLanguage]&&I(f),(we=B==null?void 0:B.isPublished)!=null&&we[e.readingLanguage]&&b(B)},[e.terms,e.readingLanguage]),i.useEffect(()=>{const s=e.subBooks.find(u=>u.subBookId==e.currentSubBook);!s&&e.currentSubBook?ut(e.currentSubBook):s&&e.currentSubBook&&n(s)},[e.subBooks,e.currentSubBook]),i.useEffect(()=>{var s,u,S,C;if(y(!0),e.currentVerse){const f=o.find(B=>B.verseId==e.currentVerse);f&&(le(((s=f[0])==null?void 0:s.verseNumber)-1),F==ce.VERSE_BY_VERSE&&((u=ge.current[f[0].verseNumber-1].current)==null||u.scrollIntoView()))}if(e.currentChapter){const f=ze(e.currentChapter);if(((S=e.subBookInfos)==null?void 0:S.length)>=0){const B=e.subBookInfos.find(G=>G.subBookId===e.currentSubBook);if(B){const G=B.chapterInfos.find(ne=>ne.chapterId===e.currentChapter);if(G){P(G.chapterNumber==0),d(G.verses);const ne=(C=G.chapterAudio)==null?void 0:C.find(de=>de.language==e.readingLanguage);g(ne)}else P(!!f),Se(e.currentChapter,(f==null?void 0:f.chapterNumber)==0)}else P(!!f),Se(e.currentChapter,(f==null?void 0:f.chapterNumber)==0)}else P(!!f),Se(e.currentChapter,(f==null?void 0:f.chapterNumber)==0)}y(!1)},[T,e.currentVerse,e.currentChapter,F]),i.useEffect(()=>{const s=()=>Xe(window.innerHeight);return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),i.useEffect(()=>{var u,S,C;const s=(u=t==null?void 0:t.chapterInfos)==null?void 0:u.find(f=>(f==null?void 0:f.chapterId)===e.currentChapter);(!((S=s==null?void 0:s.chapterIsPublished)!=null&&S[e.readingLanguage])||!((C=s==null?void 0:s.chapterIsPublished)!=null&&C[e.referenceLanguage]))&&ie.custom(f=>r.jsx(ae,{text:"Only one language is translated.",visible:f.visible})),c(s)},[e.readingLanguage,e.referenceLanguage,t]),i.useEffect(()=>{y(!0);let s=!1;if(e.userHistory&&e.userHistory.length>0&&e.userHistory.forEach(u=>{if(u.readChapterIds.includes(e.currentChapter)){s=!0,y(!1);return}}),!s){const u={chapterId:e.currentChapter};Qe.saveHistory(u).then(S=>{e.dispatch({type:Q.SET_USER_HISTORY,payload:{userHistories:S}}),y(!1)}).catch(S=>{S.status==401&&S.response.data.message==dt&&(ie.custom(C=>r.jsx(ae,{text:S.response.data.message,visible:C.visible})),ht.logout(),ve("/login")),y(!1)})}},[]),i.useEffect(()=>{var S,C;const s=(S=t==null?void 0:t.chapterInfos)==null?void 0:S.find(f=>f.chapterId==e.currentChapter),u=(C=s==null?void 0:s.verses)==null?void 0:C.find(f=>f.verseId==e.currentVerse);u!=null&&u.verseNumber?H((u==null?void 0:u.verseNumber)-1):H(1)},[e.currentVerse,t]),i.useEffect(()=>{be(qe),le(x)},[x]),i.useEffect(()=>{x<=1&&O(!0)},[x]),i.useEffect(()=>{(F==ce.ONLY_TRNSLATION||T)&&A(0),F!=ce.ONLY_TRNSLATION&&!T&&A(a?200:120)},[F,T]),i.useEffect(()=>{var s,u;F==ce.VERSE_BY_VERSE&&ee>=0&&((u=(s=ge.current[ee])==null?void 0:s.current)==null||u.scrollIntoView())},[ee,F,ge,o]),i.useEffect(()=>{var s,u;F==ce.VERSE_BY_VERSE&&ee>=0&&((u=(s=ge.current[0])==null?void 0:s.current)==null||u.scrollIntoView(),le(0))},[F,o,ge]);const Re=i.useCallback(s=>{var C;y(!0);const u=(C=e.bookmark)==null?void 0:C.find(f=>f.verseId===s),S={verseId:s};try{if(!u)en.saveBookmark(S).then(f=>{e.dispatch({type:Q.ADD_BOOKMARK,payload:{bookmark:f.bookmark}}),y(!1),ie.custom(B=>{var G,ne;return r.jsx(ae,{text:((ne=(G=v==null?void 0:v.texts.find(de=>de.variable=="Bookmark Saved"))==null?void 0:G.text)==null?void 0:ne[e.appLanguage])||"Bookmark saved",type:$e.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:B.visible})})}).catch(f=>{y(!1),f.status==401&&f.response.data.message==dt&&(ie.custom(B=>r.jsx(ae,{text:f.response.data.message,offset:e.showAudioSeekBar?125:70,visible:B.visible})),ht.logout(),ve("/login"))});else{const f=e.bookmark.filter(B=>B.verseId==s);f&&f.length>0&&en.deleteBookmark(f[0]._id).then(()=>{e.dispatch({type:Q.REMOVE_BOOKMARK,payload:{bookmarkId:u._id}}),y(!1),ie.custom(B=>{var G,ne;return r.jsx(ae,{text:((ne=(G=v==null?void 0:v.texts.find(de=>de.variable=="Bookmark Deleted"))==null?void 0:G.text)==null?void 0:ne[e.appLanguage])||"Bookmark deleted",type:$e.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:B.visible})})}).catch(B=>{y(!1),B.status==401&&B.response.data.message==dt&&(ie.custom(G=>r.jsx(ae,{text:B.response.data.message,type:$e.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:G.visible})),ht.logout(),ve("/login"))})}}catch(f){y(!1),ie.custom(B=>r.jsx(ae,{text:f,type:$e.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:B.visible}))}},[e]),Rt=i.useCallback((s,u,S)=>{let C=u+(S-s),f=Ce-150-C;C<Ie?(C=Ie,f=Ce-150-Ie):f<Ue&&(C=Ce-150-Ue),A(C)},[Ce]),Hn=s=>{const u=s.clientY,S=V,C=B=>Rt(u,S,B.clientY),f=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",f)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",f)},Vn=s=>{const u=s.touches[0].clientY,S=V,C=B=>Rt(u,S,B.touches[0].clientY),f=()=>{document.removeEventListener("touchmove",C),document.removeEventListener("touchend",f)};document.addEventListener("touchmove",C),document.addEventListener("touchend",f)},Fn=s=>{e.dispatch({type:Q.SET_AUDIO_SEEK_BAR_STATUS,payload:{showAudioSeekBar:s}})},Wn=()=>{ve("/settings")},qn=()=>{ve("/sound-settings")},Un=()=>{e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:""}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:rt.READING}}),ve("/book")},Xn=()=>{var S,C;const s=(S=t==null?void 0:t.chapterInfos)==null?void 0:S.find(f=>f.chapterNumber==K),u=(C=s==null?void 0:s.verses)==null?void 0:C.find(f=>f.verseNumber==ee+1);e.dispatch({type:Q.SET_CURRENT_SUBBOOK,payload:{currentSubBook:t==null?void 0:t.subBookId}}),e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:s==null?void 0:s.chapterId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:u==null?void 0:u.verseId}}),ve("/subbookexplorer")},zn=i.useCallback(s=>{var f,B,G,ne,de,_e,Te,we;const u=X=>{var W;const Z=(W=t==null?void 0:t.chapterInfos)==null?void 0:W.find(z=>z.chapterNumber==X);Z&&(e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:Z.chapterId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:rt.READING}}),H(0),le(0),Z.chapterNumber==0?P(!0):P(!1),te(Z.chapterNumber),d(Z.verses),y(!1))},S=(X,Z)=>{if(X&&X.chapterInfos&&X.chapterInfos.length>0){const W=X.chapterInfos[0].chapterId;e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:W}}),e.dispatch({type:Q.SET_CURRENT_SUBBOOK,payload:{currentSubBook:X.subBookId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:rt.READING}}),H(1),le(1);const z=Ye(W);n(X),Se(W,(z==null?void 0:z.chapterNumber)==0)}else ie.custom(W=>{var z,ue,ye,Be;return r.jsx(ae,{text:Z?((ue=(z=v==null?void 0:v.texts.find(Ae=>Ae.variable=="Last Chapter"))==null?void 0:z.text)==null?void 0:ue[e.appLanguage])||"Last Chapter":((Be=(ye=v==null?void 0:v.texts.find(Ae=>Ae.variable=="First Chapter"))==null?void 0:ye.text)==null?void 0:Be[e.appLanguage])||"First Chapter",offset:e.showAudioSeekBar?125:70,visible:W.visible})}),y(!1)};if(((f=l==null?void 0:l.bookTitle)==null?void 0:f.en)=="Qur'an"||((B=l==null?void 0:l.bookTitle)==null?void 0:B.en)=="Zabur"){const X=((G=l==null?void 0:l.subBooks)==null?void 0:G.length)||1,Z=(t==null?void 0:t.subBookNumber)||1;if(s==Pe)if(Z+1<X){const W=l.subBooks.find(z=>z.subBookNumber==Z+1);e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),H(0),le(0),W&&S(W,!0)}else ie.custom(W=>{var z,ue;return r.jsx(ae,{text:((ue=(z=v==null?void 0:v.texts.find(ye=>ye.variable=="Last Chapter"))==null?void 0:z.text)==null?void 0:ue[e.appLanguage])||"",offset:70,visible:W.visible})});else if(Z-1>0){const W=l.subBooks.find(z=>z.subBookNumber==Z-1);e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),H(0),le(0),W&&S(W,!1)}else ie.custom(W=>{var z,ue;return r.jsx(ae,{text:((ue=(z=v==null?void 0:v.texts.find(ye=>ye.variable=="First Chapter"))==null?void 0:z.text)==null?void 0:ue[e.appLanguage])||"",offset:70,visible:W.visible})})}else{const X=((ne=t==null?void 0:t.chapterInfos)==null?void 0:ne.length)||1;if(s==Pe)if(K+1<=X-1){const Z=((_e=(de=t==null?void 0:t.chapterInfos)==null?void 0:de.find(W=>W.chapterNumber==K+1))==null?void 0:_e.chapterNumber)||2;e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),H(0),le(0),u(Z)}else ie.custom(Z=>{var W,z;return r.jsx(ae,{text:((z=(W=v==null?void 0:v.texts.find(ue=>ue.variable=="Last Chapter"))==null?void 0:W.text)==null?void 0:z[e.appLanguage])||"Last Chapter",offset:70,visible:Z.visible})});else if(K-1>0){const Z=((we=(Te=t==null?void 0:t.chapterInfos)==null?void 0:Te.find(W=>W.chapterNumber==K-1))==null?void 0:we.chapterNumber)||1;e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),H(0),le(0),u(Z)}else ie.custom(Z=>{var W,z;return r.jsx(ae,{text:((z=(W=v==null?void 0:v.texts.find(ue=>ue.variable=="First Chapter"))==null?void 0:W.text)==null?void 0:z[e.appLanguage])||"First Chapter",offset:70,visible:Z.visible})})}},[e.subBooks,t,K]),Yn=()=>T&&r.jsx(Ln,{showaudioseekbar:"false",children:r.jsx(kn,{verses:o,topVerseNumber:x,showTitle:_,prevPage:e.prevPage,height:ke,originPanelHeight:V,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:T,readingLanguage:e.readingLanguage,handleBookmark:Re})}),Kn=()=>{var s,u,S,C,f,B,G,ne,de,_e,Te,we,X,Z,W,z,ue,ye,Be,Ae,At,Pt,Nt,jt,Bt,Ot,Mt,Dt,Ht,Vt,Ft,Wt,qt,Ut,Xt,zt,Yt;return!T&&r.jsxs(Ln,{showaudioseekbar:e.showAudioSeekBar?"true":"false",children:[F==ce.SPLIT_PANEL&&!!((s=m==null?void 0:m.chapterIsPublished)!=null&&s[e.referenceLanguage])&&r.jsxs(r.Fragment,{children:[r.jsx(Xr,{verses:o,topVerseNumber:x,prevPage:e.prevPage,height:V,referenceLanguage:e.referenceLanguage}),r.jsx(_i,{style:{backgroundColor:fe},onMouseDown:Hn,onTouchStart:Vn})]}),(F==ce.ONLY_TRNSLATION||F==ce.SPLIT_PANEL)&&((u=m==null?void 0:m.chapterIsPublished)==null?void 0:u[e.readingLanguage])&&r.jsx(kn,{subBookInfo:t,chapterNumber:K,verses:o,topVerseNumber:x,showTitle:_,prevPage:e.prevPage,height:ke,originPanelHeight:V,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:T,readingLanguage:e.readingLanguage,isSpecialBook:((S=l==null?void 0:l.bookTitle)==null?void 0:S.en)=="Qur'an"||((C=l==null?void 0:l.bookTitle)==null?void 0:C.en)=="Zabur",originTitle:((f=l==null?void 0:l.bookTitle)==null?void 0:f.en)=="Injil"?((ne=(G=(B=M==null?void 0:M.texts)==null?void 0:B.find(re=>{var me;return re.variable===((me=t==null?void 0:t.subBookTitle)==null?void 0:me.origin)}))==null?void 0:G.text)==null?void 0:ne[e.readingLanguage])||((de=t==null?void 0:t.subBookTitle)==null?void 0:de.en):((_e=l==null?void 0:l.bookTitle)==null?void 0:_e.en)=="Qur'an"?((Te=t==null?void 0:t.subBookTitle)==null?void 0:Te.transliteration)||((we=t==null?void 0:t.subBookTitle)==null?void 0:we.en):((X=l==null?void 0:l.bookTitle)==null?void 0:X.en)=="Tawrat"?((z=(W=(Z=N==null?void 0:N.texts)==null?void 0:Z.find(re=>{var me;return re.variable===((me=t==null?void 0:t.subBookTitle)==null?void 0:me.en)}))==null?void 0:W.text)==null?void 0:z[e.readingLanguage])||((ue=t==null?void 0:t.subBookTitle)==null?void 0:ue.en):((ye=t==null?void 0:t.subBookTitle)==null?void 0:ye.transliteration)||((Be=t==null?void 0:t.subBookTitle)==null?void 0:Be.en),ordinary:((Pt=(At=(Ae=E==null?void 0:E.texts)==null?void 0:Ae.find(re=>re.variable==`The ${Zt(K||1)}`))==null?void 0:At.text)==null?void 0:Pt[e.readingLanguage])||((Bt=(jt=(Nt=E==null?void 0:E.texts)==null?void 0:Nt.find(re=>re.variable==`The ${Zt(K||1)}`))==null?void 0:jt.text)==null?void 0:Bt.en)||"The 1st",bookUnit:((Ot=l==null?void 0:l.bookTitle)==null?void 0:Ot.en)=="Injil"||((Mt=l==null?void 0:l.bookTitle)==null?void 0:Mt.en)=="Tawrat"?((Vt=(Ht=(Dt=E==null?void 0:E.texts)==null?void 0:Dt.find(re=>re.variable==="Chapter"))==null?void 0:Ht.text)==null?void 0:Vt[e.readingLanguage])||"Chapter":((Ft=l==null?void 0:l.bookTitle)==null?void 0:Ft.en)=="Qur'an"?((Ut=(qt=(Wt=E==null?void 0:E.texts)==null?void 0:Wt.find(re=>re.variable==="Surah"))==null?void 0:qt.text)==null?void 0:Ut[e.readingLanguage])||"Surah":((Yt=(zt=(Xt=E==null?void 0:E.texts)==null?void 0:Xt.find(re=>re.variable==="Psalm"))==null?void 0:zt.text)==null?void 0:Yt[e.readingLanguage])||"Psalm",handleBookmark:Re}),F==ce.VERSE_BY_VERSE&&r.jsx(Ti,{children:o.map((re,me)=>{var Kt;return r.jsxs(wi,{ref:ge.current[me],children:[r.jsx(wt,{verse:re,refer:xe.current[me],index:me,referenceLanguage:e.referenceLanguage}),r.jsx(kt,{refer:xe.current[me],verse:re,index:me,readingLanguage:e.readingLanguage,isLoggedIn:!!e.currentUser,handleBookmark:Re,isExistingInBookmark:((Kt=e.bookmark.filter($n=>$n.verseId==re.verseId))==null?void 0:Kt.length)>0})]},me)})})]})},Gn=()=>{var s,u,S,C;return r.jsx(pi,{src:h,bookTitle:(l==null?void 0:l.bookTitle.en)||"",bookImage:(l==null?void 0:l.bookImage)||"",subBookTitle:((s=t==null?void 0:t.subBookTitle)==null?void 0:s.en)||"",subBookNumber:(t==null?void 0:t.subBookNumber)||0,chapterNumber:K,showAudioSeekBar:e.showAudioSeekBar,readingLanguage:e.readingLanguage,verses:o,isIntro:T,terms:v||{pageId:"",pageNumber:0,pageTitle:"",isCompleted:{},isPublished:{},texts:[]},subBookTerms:(((u=l==null?void 0:l.bookTitle)==null?void 0:u.en)==="Injil"?M:((S=l==null?void 0:l.bookTitle)==null?void 0:S.en)==="Qur'an"?$:((C=l==null?void 0:l.bookTitle)==null?void 0:C.en)==="Zabur"?he:N)||{pageId:"",pageNumber:0,pageTitle:"",isCompleted:{},isPublished:{},texts:[]},setAudioSeekBarStatus:Fn,moveToSettingsPage:Wn,moveToSoundSettingPage:qn,moveToIndexPage:Un,moveToSubBookExplorer:Xn,handleNavigateBtn:zn})};return r.jsxs(Ci,{style:{backgroundColor:se},children:[Yn(),Kn(),Gn(),R&&r.jsx(dr,{})]})}const ki=e=>({bookmark:e.books.bookmark,bookInfos:e.books.bookInfos,currentBook:e.pageStatus.currentBook,appLanguage:e.user.appLanguage,readingLanguage:e.user.readingLanguage,referenceLanguage:e.user.referenceLanguage,prevPage:e.pageStatus.prevPage,subBooks:e.books.subBooks,subBookInfos:e.books.subBookInfos,chapterInfos:e.books.chapterInfos,currentSubBook:e.pageStatus.currentSubBook,currentChapter:e.pageStatus.currentChapter,currentVerse:e.pageStatus.currentVerse,userHistory:e.books.userHistory,currentUser:e.user.currentUser,showAudioSeekBar:e.pageStatus.showAudioSeekBar,terms:e.terms.terms}),Vi=sr(ki)(Ei);export{Vi as default};
