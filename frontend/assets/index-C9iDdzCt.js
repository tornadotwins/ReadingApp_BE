var Dt=Object.defineProperty;var Rt=(e,o,a)=>o in e?Dt(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a;var xt=(e,o,a)=>Rt(e,typeof o!="symbol"?o+"":o,a);import{c as je,_ as M,j as i,N as Z,b,a8 as $t,o as ee,J as Mt,ac as ve,ai as pe,Q as B,aj as Be,ak as Se,M as F,al as we,am as Lt,an as Ft,ao as ye,ap as bt,aq as ft,af as Ut}from"./index-BPBmJKVk.js";import{w as Pt,x as _t,y as zt,z as Ce,s as l,A as Ht,D as At,E as Te,F as Ot,G as Kt,B as m,J as Wt,u as ce,S as ue,g as ge,_ as H,c as Gt,d as Yt,e as V}from"./App-ZLEtB1WP.js";import{I as y,T as W,g as qt,a as mt}from"./images-DQ2B_4u_.js";import{H as Vt}from"./index-DMQ14hZy.js";import{C as K,L as Xt}from"./index-S4hK3Y2n.js";import{A as Jt,b as kt}from"./bookmark.service-Xuz7gtZF.js";import{S as Qt}from"./index-CbLrG4pH.js";import{b as yt}from"./book.service-B2LodF4F.js";import{a as Ie}from"./auth.service-D_94x3fL.js";import"./index-Cdxiuz7U.js";import"./axios-BimPEqV4.js";function Zt(e){return Pt("MuiPagination",e)}_t("MuiPagination",["root","ul","outlined","text"]);const eo=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function to(e={}){const{boundaryCount:o=1,componentName:a="usePagination",count:t=1,defaultPage:d=1,disabled:v=!1,hideNextButton:r=!1,hidePrevButton:f=!1,onChange:h,page:k,showFirstButton:S=!1,showLastButton:w=!1,siblingCount:u=1}=e,g=je(e,eo),[p,P]=zt({controlled:k,default:d,name:a,state:"page"}),$=(s,c)=>{k||P(c),h&&h(s,c)},N=(s,c)=>{const I=c-s+1;return Array.from({length:I},(U,G)=>s+G)},j=N(1,Math.min(o,t)),_=N(Math.max(t-o+1,o+1),t),L=Math.max(Math.min(p-u,t-o-u*2-1),o+2),A=Math.min(Math.max(p+u,o+u*2+2),_.length>0?_[0]-2:t-1),D=[...S?["first"]:[],...f?[]:["previous"],...j,...L>o+2?["start-ellipsis"]:o+1<t-o?[o+1]:[],...N(L,A),...A<t-o-1?["end-ellipsis"]:t-o>o?[t-o]:[],..._,...r?[]:["next"],...w?["last"]:[]],R=s=>{switch(s){case"first":return 1;case"previous":return p-1;case"next":return p+1;case"last":return t;default:return null}},x=D.map(s=>typeof s=="number"?{onClick:c=>{$(c,s)},type:"page",page:s,selected:s===p,disabled:v,"aria-current":s===p?"true":void 0}:{onClick:c=>{$(c,R(s))},type:s,page:R(s),selected:!1,disabled:v||s.indexOf("ellipsis")===-1&&(s==="next"||s==="last"?p>=t:p<=1)});return M({items:x},g)}function oo(e){return Pt("MuiPaginationItem",e)}const z=_t("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),ht=Ce(i.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),vt=Ce(i.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),pt=Ce(i.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),Ct=Ce(i.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),no=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],Et=(e,o)=>{const{ownerState:a}=e;return[o.root,o[a.variant],o[`size${ee(a.size)}`],a.variant==="text"&&o[`text${ee(a.color)}`],a.variant==="outlined"&&o[`outlined${ee(a.color)}`],a.shape==="rounded"&&o.rounded,a.type==="page"&&o.page,(a.type==="start-ellipsis"||a.type==="end-ellipsis")&&o.ellipsis,(a.type==="previous"||a.type==="next")&&o.previousNext,(a.type==="first"||a.type==="last")&&o.firstLast]},io=e=>{const{classes:o,color:a,disabled:t,selected:d,size:v,shape:r,type:f,variant:h}=e,k={root:["root",`size${ee(v)}`,h,r,a!=="standard"&&`color${ee(a)}`,a!=="standard"&&`${h}${ee(a)}`,t&&"disabled",d&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[f]],icon:["icon"]};return Ot(k,oo,o)},so=l("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:Et})(({theme:e,ownerState:o})=>M({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${z.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},o.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},o.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)})),ao=l(Ht,{name:"MuiPaginationItem",slot:"Root",overridesResolver:Et})(({theme:e,ownerState:o})=>M({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${z.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${z.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${z.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Z(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${z.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Z(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${z.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},o.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},o.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)},o.shape==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius}),({theme:e,ownerState:o})=>M({},o.variant==="text"&&{[`&.${z.selected}`]:M({},o.color!=="standard"&&{color:(e.vars||e).palette[o.color].contrastText,backgroundColor:(e.vars||e).palette[o.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[o.color].main}},[`&.${z.focusVisible}`]:{backgroundColor:(e.vars||e).palette[o.color].dark}},{[`&.${z.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},o.variant==="outlined"&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${z.selected}`]:M({},o.color!=="standard"&&{color:(e.vars||e).palette[o.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[o.color].mainChannel} / 0.5)`:Z(e.palette[o.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[o.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:Z(e.palette[o.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[o.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Z(e.palette[o.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${z.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[o.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Z(e.palette[o.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${z.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})})),ro=l("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,o)=>o.icon})(({theme:e,ownerState:o})=>M({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},o.size==="small"&&{fontSize:e.typography.pxToRem(18)},o.size==="large"&&{fontSize:e.typography.pxToRem(22)})),lo=b.forwardRef(function(o,a){const t=At({props:o,name:"MuiPaginationItem"}),{className:d,color:v="standard",component:r,components:f={},disabled:h=!1,page:k,selected:S=!1,shape:w="circular",size:u="medium",slots:g={},type:p="page",variant:P="text"}=t,$=je(t,no),N=M({},t,{color:v,disabled:h,selected:S,shape:w,size:u,type:p,variant:P}),j=$t(),_=io(N),A=(j?{previous:g.next||f.next||Ct,next:g.previous||f.previous||pt,last:g.first||f.first||ht,first:g.last||f.last||vt}:{previous:g.previous||f.previous||pt,next:g.next||f.next||Ct,first:g.first||f.first||ht,last:g.last||f.last||vt})[p];return p==="start-ellipsis"||p==="end-ellipsis"?i.jsx(so,{ref:a,ownerState:N,className:Te(_.root,d),children:"…"}):i.jsxs(ao,M({ref:a,ownerState:N,component:r,disabled:h,className:Te(_.root,d)},$,{children:[p==="page"&&k,A?i.jsx(ro,{as:A,ownerState:N,className:_.icon}):null]}))}),co=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],uo=e=>{const{classes:o,variant:a}=e;return Ot({root:["root",a],ul:["ul"]},Zt,o)},go=l("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,o[a.variant]]}})({}),xo=l("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,o)=>o.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function bo(e,o,a){return e==="page"?`${a?"":"Go to "}page ${o}`:`Go to ${e} page`}const fo=b.forwardRef(function(o,a){const t=At({props:o,name:"MuiPagination"}),{boundaryCount:d=1,className:v,color:r="standard",count:f=1,defaultPage:h=1,disabled:k=!1,getItemAriaLabel:S=bo,hideNextButton:w=!1,hidePrevButton:u=!1,renderItem:g=x=>i.jsx(lo,M({},x)),shape:p="circular",showFirstButton:P=!1,showLastButton:$=!1,siblingCount:N=1,size:j="medium",variant:_="text"}=t,L=je(t,co),{items:A}=to(M({},t,{componentName:"Pagination"})),D=M({},t,{boundaryCount:d,color:r,count:f,defaultPage:h,disabled:k,getItemAriaLabel:S,hideNextButton:w,hidePrevButton:u,renderItem:g,shape:p,showFirstButton:P,showLastButton:$,siblingCount:N,size:j,variant:_}),R=uo(D);return i.jsx(go,M({"aria-label":"pagination navigation",className:Te(R.root,v),ownerState:D,ref:a},L,{children:i.jsx(xo,{className:R.ul,ownerState:D,children:A.map((x,s)=>i.jsx("li",{children:g(M({},x,{color:r,"aria-label":S(x.type,x.page,x.selected),shape:p,size:j,variant:_}))},s))})}))});function mo(e){return i.jsx(fo,{count:e.count,hidePrevButton:e.hideNextButton,hideNextButton:e.hideNextButton,page:e.page,siblingCount:0,boundaryCount:1,onChange:e.onChange})}function Bt(){const{innerWidth:e,innerHeight:o}=window;return{width:e,height:o}}function ko(){const[e,o]=b.useState(Bt());return b.useEffect(()=>{function a(){o(Bt())}return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),e}var Pe={},yo=Mt;Object.defineProperty(Pe,"__esModule",{value:!0});var Nt=Pe.default=void 0,ho=yo(Kt()),vo=i;Nt=Pe.default=(0,ho.default)((0,vo.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");const po=l(m)({display:"flex",position:"relative",width:"100%"}),Co=l("img")({width:"100%",marginTop:"57px"}),Bo=l(m)({display:"flex",alignItems:"baseline",justifyContent:"space-between",position:"absolute",left:"30px",top:"30px",width:"calc(100% - 60px)"}),So=l(m)({display:"flex",alignItems:"baseline"}),wo=l(m)({width:"70px",cursor:"pointer",position:"relative","& div":{position:"absolute",top:"28px",width:"100%",textAlign:"center",maxWidth:"65px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none"}}),Io=l("img")({width:"100%",height:"100%"}),To=l(m)({margin:0,marginLeft:"12px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none"}),jo=l(m)(({hamburgercolor:e})=>({position:"absolute",top:"12px",right:"15px",width:"46px","& .hamburger-react":{width:"46px !important",color:e},"& .hamburger-react ~ .MuiBox-root ":{border:`1px solid ${e}`},"@media (max-height: 639px)":{top:"8px",right:"10px"},"@media screen and (orientation: landscape)":{right:"15px"}})),Po=l("img")({cursor:"pointer","&:active":{opacity:"0.8"}}),_o=l(m)({position:"absolute",top:"60px",left:"50%",transform:"translate(-50%, -50%)",cursor:"pointer"}),Ao=l("img")({width:"100%","&:active":{opacity:"0.8"}});l("img")({position:"absolute",top:"18px",right:"30px",cursor:"pointer","&:active":{opacity:"0.8"}});const Oo=l(m)({height:"calc(100dvh - 145px)",width:"100%",position:"absolute",top:"145px",padding:"0px 30px","@media screen and (orientation: landscape)":{height:"calc(100dvh - 145px)"}}),Eo=l(m)({backgroundColor:"#FFF",height:"calc(100dvh - 145px)",position:"relative",zIndex:"1",display:"flex",flexDirection:"column",padding:"20px",overflowY:"scroll","@media screen and (orientation: landscape)":{height:"calc(100dvh - 145px)"}}),No=l(m)({width:"100%",display:"flex","& .MuiBox-root:nth-of-type(2)":{borderLeft:"none"}}),St=l(m)(({active:e,bordercolor:o})=>({width:"50%",height:"37.9px",border:`1px solid ${o}`,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e=="true"?"#FFAA5D":"#FFF",cursor:"pointer",marginBottom:"20px"})),wt=l("img")({}),It=l(m)(({active:e})=>({marginLeft:"5px"})),Do=l(m)({width:"100%",display:"flex",flexDirection:"column"}),Ro=l(m)({width:"100%",display:"flex",justifyContent:"space-between",flexDirection:"column",padding:"0px",margin:"12px 0px","& .MuiAccordion-root":{width:"100%",backgroundColor:"#F0F5FB",padding:"0px"},"& .MuiTypography-root":{color:"#000",fontFamily:'"Baloo Da 2"',fontWeight:"700",fontSize:"16px",lineHeight:"24px"},"& .MuiAccordionSummary-root":{minHeight:"unset",padding:"8px"},"& .MuiAccordionSummary-content":{margin:"0px !important"},"& .css-o4b71y-MuiAccordionSummary-content.Mui-expand":{margin:"0px !important",minHeight:"unset"},"& .css-1tmu6hb-MuiButtonBase-root-MuiAccordionSummary-root.Mui-expanded":{minHeight:"unset"},"& .MuiAccordionDetails-root":{paddingBottom:"8px"}}),$o=l(m)({display:"flex",justifyContent:"space-between",alignItems:"center","& .css-1xgh7mm-MuiFormControl-root":{alignItems:"end"}});l(m)({fontSize:"16px",fontFamily:'"Baloo Da 2"',fontWeight:"400",lineHeight:"24px",color:"#000"});const Mo=l(m)({display:"flex",flexDirection:"column"}),Lo=l(m)({display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"}),Fo=l(m)({display:"flex",flexDirection:"column",width:"75%","& div:first-of-type":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}});l(m)({fontSize:"16px",fontFamily:'"Baloo Da 2"',fontWeight:"400",lineHeight:"24px",color:"#000",margin:"0px"});const Uo=l(m)({borderBottom:"1px solid #9C9C9C",marginTop:"3px"}),zo=l("img")({cursor:"pointer",marginRight:"15px"}),Ho=l(Wt)(({buttoncolor:e})=>({display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10px",backgroundColor:"transparent","& nav":{justifyContent:"center"},"& ul":{justifyContent:"center","& li":{width:"25px"}},"& .MuiPaginationItem-root":{color:e,opacity:"0.5",width:"20px",cursor:"pointer",userSelect:"none",fontFamily:"Inter",fontWeight:"500",fontSize:"16px",textAlign:"center",backgroundColor:"transparent","&.Mui-selected":{color:e,opacity:"1",backgroundColor:"transparent"}}})),Ko=l(m)({width:"100%",padding:"12px",backgroundColor:"#F0F5FB",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"9px 0px","@media (max-height: 600px)":{padding:"8px"},"@media (min-width: 680px)":{justifyContent:"left"}}),Wo=l("img")({width:"63px"}),Go=l(m)({margin:"0px",marginLeft:"24px","@media (max-height: 600px)":{"& .MuiBox-root":{fontSize:"14px !important"}}}),Yo=l(m)({width:"100%",justifyContent:"space-between",alignItems:"center",margin:"10px 0px"}),qo=l(m)({width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",alignContent:"center",padding:"0px 7px"});l(Nt)({marginLeft:"-33px",color:"#17637D",height:"30px"});const Vo=l(m)(({progress:e,progresscolor:o})=>({width:"calc(100% - 60px)",justifyContent:"space-between",alignItems:"center",position:"relative",cursor:"pointer",borderBottom:`1px solid ${o}`,"::after":{content:'""',position:"absolute",bottom:0,left:0,width:`${e}%`,borderBottom:e!=0?`2px solid ${o}`:"none"}})),Xo=l(m)(({istransliteration:e,translatestatus:o})=>({margin:"5px 0px 5px 0px",display:"flex",justifyContent:"space-between",opacity:o=="one"||o=="none"?"0.5":"1","& .MuiBox-root":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},"& .MuiBox-root:first-of-type":{width:"48%"},"& .MuiBox-root:last-child":{marginInlineEnd:"auto",width:e=="true"?"48%":"75%"}})),Jo=l(m)({display:"flex",justifyContent:"space-between"}),Qo=l(m)(({translatestatus:e})=>({width:"80%",display:"flex",opacity:e=="one"||e=="none"?"0.5":"1","& .MuiBox-root":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}})),Zo=l("img")({width:"20px",marginLeft:"10px"}),en=l(m)(({isdownloaded:e})=>({width:"45px",display:"flex",justifyContent:e=="true"?"space-between":"flex-end"})),Tt=l("img")({marginLeft:"3px",cursor:"pointer"}),tn=l(m)({width:"96%",padding:"17px 14px",backgroundColor:"#F0F5FB",marginTop:"5px !important",margin:"auto"}),on=l(m)({display:"flex",alignItems:"baseline","& .MuiBox-root:nth-of-type(2)":{marginLeft:"5px"}}),nn=l(m)({display:"flex",flexWrap:"wrap",marginTop:"10px"}),jt=l(m)(({style:e,translatestatus:o,readalready:a,readbgcolor:t,readtextcolor:d})=>({opacity:o=="one"||o=="none"?"0.5":"1",width:"40px",height:"40px",marginRight:"2px",marginBottom:"2px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:a=="true"?`${t} !important`:`${e.backgroundColor} !important`,borderWidth:"1px",borderStyle:"solid",borderColor:a=="true"?`${d} !important`:`${e.color} !important`,cursor:"pointer","& .MuiBox-root":{color:a=="true"?`${d} !important`:`${e.color} !important`}})),sn=l("img")({width:"50%",height:"50%"});function an(e){const[o,a]=b.useState(""),[t,d]=b.useState(""),{t:v}=ce(),{theme:r}=b.useContext(ue),{logoTextColor:f,headerBGColor:h}=ge(r),k=localStorage.getItem(ve)||pe;return b.useEffect(()=>{var S;e.markTitle?a((S=e.markTitle)==null?void 0:S[k]):a(v("Default Book Title")),e.markImg?d(e.markImg):d(y.default_cover)},[e.markTitle,e.markImg]),i.jsxs(po,{children:[i.jsx(Co,{src:r==B.DEFAULT||r==B.DARK?y.book_subtract:r==B.BLACK_AND_WHITE?y.book_subtract_BAW:r==B.SAPPHIRE?y.book_subtract_sapphire:y.book_subtract_easyocean}),i.jsxs(Bo,{children:[i.jsxs(So,{children:[i.jsx(wo,{onClick:e.onLogoClick,children:i.jsx(Io,{src:t})}),i.jsx(To,{children:i.jsx(W,{fontFamily:"Buenard",fontWeight:"700",fontSize:36,lineHeight:47,textAlign:"center",color:f,children:o})})]}),i.jsx(Po,{src:r==B.EASY_OCEAN?y.search_easyocean:y.search,onClick:e.onSearchClick})]}),i.jsx(_o,{children:i.jsx(Ao,{src:r==B.DEFAULT||r==B.DARK?y.close2:r==B.BLACK_AND_WHITE?y.close2_BAW:r==B.SAPPHIRE?y.close2_sapphire:y.close2_easyocean,onClick:e.onCloseClick})}),i.jsx(jo,{hamburgercolor:h,children:i.jsx(Vt,{isLogin:e.isLogIn,textColor:f,itemBgColor:h,toggleColor:h,onLogin:e.onLogin,onSettings:e.onSettings})})]})}function rn(e){var I,U,G,te,O,xe,be,fe,me,Q,_e,Ae,Oe,Ee,Ne,De,Re,$e,Me,Le,Fe,Ue,ze,He,Ke,We,Ge,Ye,qe,Ve,Xe,Je,Qe,Ze,et,tt,ot;const[o,a]=b.useState([]),[t,d]=b.useState(),[v,r]=b.useState(!1),[f,h]=b.useState(!1),[k,S]=b.useState(0),{theme:w,referenceLanguage:u,readingLanguage:g}=b.useContext(ue),{mainBGColor:p,altTextColor:P,backgroundColor:$,topTextColor:N,buttonColor:j,buttonTextColor:_}=ge(w),{t:L}=ce(),A=localStorage.getItem(ve)||pe,D=b.useMemo(()=>{if(e.userHistory&&e.userHistory.length>0){const n=e.userHistory.filter(E=>E.bookId==e.bookId);if(n&&n.length>0)return n[0].readChapterIds}return[]},[e.userHistory]),R=e.subBookId;b.useEffect(()=>{e.openedSubBook==e.subBookId?r(!0):r(!1)},[e.openedSubBook]),b.useEffect(()=>{var Y,q;const n=e.subBooks.filter(C=>C.subBookId===R);let E=0;if(n&&n.length>0&&(E=(Y=n[0].chapterInfos)==null?void 0:Y.length,d(n[0])),e.currentUser){const C=e.userHistory.filter(T=>T.bookId==e.bookId);if(C&&C.length>0){const T=C[0].subBooks.filter(X=>X.subBookId==R);T&&T.length>0&&S(Math.floor(((q=T[0])==null?void 0:q.readChapters)/E*100))}}if(e.subBooks&&e.subBooks.length>0){const C=e.subBooks.filter(T=>T.subBookId==R);if(C&&C.length>0){let T=C[0].chapterInfos;T.sort((X,ke)=>X.chapterNumber-ke.chapterNumber),a(T)}}},[e.subBooks,e.userHistory]),b.useEffect(()=>{if(e.subBookInfos&&e.subBookInfos.length>0){const n=e.subBookInfos.filter(E=>E.subBookId==R);n&&n.length>0?h(!0):h(!1)}},[]);const x=b.useCallback(n=>{h(E=>!E),e.onDownload(n)},[]),s=()=>{var n,E,Y,q;if(t!=null&&t.noChapter){const C=(n=t==null?void 0:t.chapterInfos[0])==null?void 0:n.isTranslated,T=(E=t==null?void 0:t.chapterInfos[0])==null?void 0:E.isPublished;!(C!=null&&C[u])&&!(C!=null&&C[g])||!(T!=null&&T[u])&&!(T!=null&&T[g])?H.custom(X=>i.jsx(K,{text:L("None Translated"),visible:X.visible})):e.moveToReading(t==null?void 0:t.chapterInfos[0].chapterId,(Y=e.bookTitle)==null?void 0:Y[A],(q=t.subBookTitle)==null?void 0:q[A],t.subBookId,!!(C!=null&&C[u]&&(C!=null&&C[g])))}else r(!v),e.handleOpenedSubBook(e.subBookId)},c=(n,E)=>{var Y,q;E=="none"?H.custom(C=>i.jsx(K,{text:L("None Translated"),visible:C.visible})):e.moveToReading(n,(Y=e.bookTitle)==null?void 0:Y[A],(q=t.subBookTitle)==null?void 0:q[A],t.subBookId,E=="both")};return i.jsxs(Yo,{children:[i.jsxs(qo,{children:[i.jsxs(Vo,{progress:k,progresscolor:j,onClick:s,children:[(t==null?void 0:t.subBookNumber)!=0&&i.jsxs(Xo,{istransliteration:((I=t==null?void 0:t.subBookTitle)==null?void 0:I[Be])!=null?"true":"false",translatestatus:(t==null?void 0:t.noChapter)&&(!((G=(U=t==null?void 0:t.chapterInfos[0])==null?void 0:U.isTranslated)!=null&&G[u])&&!((O=(te=t==null?void 0:t.chapterInfos[0])==null?void 0:te.isTranslated)!=null&&O[g])||!((be=(xe=t==null?void 0:t.chapterInfos[0])==null?void 0:xe.isPublished)!=null&&be[u])&&!((me=(fe=t==null?void 0:t.chapterInfos[0])==null?void 0:fe.isPublished)!=null&&me[g])?"none":(!((_e=(Q=t==null?void 0:t.chapterInfos[0])==null?void 0:Q.isTranslated)!=null&&_e[u])||!((Oe=(Ae=t==null?void 0:t.chapterInfos[0])==null?void 0:Ae.isTranslated)!=null&&Oe[g]))&&((Ne=(Ee=t==null?void 0:t.chapterInfos[0])==null?void 0:Ee.isPublished)!=null&&Ne[u]||!((Re=(De=t==null?void 0:t.chapterInfos[0])==null?void 0:De.isPublished)!=null&&Re[g]))?"one":"both"),children:[(($e=t==null?void 0:t.subBookTitle)==null?void 0:$e[Be])&&i.jsx(W,{fontFamily:'"Baloo Da 2"',fontWeight:"bold",color:P,language:Se,children:(t==null?void 0:t.subBookNumber)+". "+((Me=t==null?void 0:t.subBookTitle)==null?void 0:Me[Be])}),i.jsx(W,{fontFamily:'"Baloo Da 2"',fontWeight:"bold",color:P,language:Se,direction:"rtl",children:(Le=t==null?void 0:t.subBookTitle)==null?void 0:Le[Se]})]}),i.jsxs(Jo,{children:[i.jsxs(Qo,{translatestatus:(t==null?void 0:t.noChapter)&&(!((Ue=(Fe=t==null?void 0:t.chapterInfos[0])==null?void 0:Fe.isTranslated)!=null&&Ue[u])&&!((He=(ze=t==null?void 0:t.chapterInfos[0])==null?void 0:ze.isTranslated)!=null&&He[g])||!((We=(Ke=t==null?void 0:t.chapterInfos[0])==null?void 0:Ke.isPublished)!=null&&We[u])&&!((Ye=(Ge=t==null?void 0:t.chapterInfos[0])==null?void 0:Ge.isPublished)!=null&&Ye[g])?"none":(!((Ve=(qe=t==null?void 0:t.chapterInfos[0])==null?void 0:qe.isTranslated)!=null&&Ve[u])||!((Je=(Xe=t==null?void 0:t.chapterInfos[0])==null?void 0:Xe.isTranslated)!=null&&Je[g]))&&((Ze=(Qe=t==null?void 0:t.chapterInfos[0])==null?void 0:Qe.isPublished)!=null&&Ze[u]||!((tt=(et=t==null?void 0:t.chapterInfos[0])==null?void 0:et.isPublished)!=null&&tt[g]))?"one":"both"),children:[i.jsx(W,{fontFamily:'"Baloo Da 2"',color:P,children:(ot=t==null?void 0:t.subBookTitle)==null?void 0:ot[A]}),(t==null?void 0:t.subBookNumber)==0&&i.jsx(Zo,{src:y.icon_intro})]}),e.currentUser&&k!==0&&!(t!=null&&t.noChapter)&&i.jsx(W,{fontFamily:'"Baloo Da 2"',color:j,children:`${k}%`})]})]}),i.jsxs(en,{isdownloaded:f?"true":"false",children:[i.jsx(Tt,{src:f?w==B.DEFAULT||w==B.EASY_OCEAN?y.download_cancel:y.download_cancel_white:w==B.DEFAULT||w==B.EASY_OCEAN?y.download:y.download_white,onClick:()=>x(R)}),f&&i.jsx(Tt,{src:w==B.DEFAULT||w==B.EASY_OCEAN?y.download_refresh:y.download_refresh_white,onClick:()=>e.onDownloadRefresh(R)})]})]}),v&&i.jsxs(tn,{style:{backgroundColor:$},children:[i.jsx(on,{children:i.jsx(W,{fontFamily:"Inter",color:N,children:L("Chapter")})}),i.jsx(nn,{children:o==null?void 0:o.map((n,E)=>{var Y,q,C,T,X,ke,nt,it,st,at,rt,lt,dt,ct,ut,gt;return n.chapterNumber==0?i.jsx(jt,{translatestatus:!((Y=n==null?void 0:n.isTranslated)!=null&&Y[u])&&!((q=n==null?void 0:n.isTranslated)!=null&&q[g])||!((C=n==null?void 0:n.isPublished)!=null&&C[u])&&!((T=n==null?void 0:n.isPublished)!=null&&T[g])?"none":(!((X=n==null?void 0:n.isTranslated)!=null&&X[u])||!((ke=n==null?void 0:n.isTranslated)!=null&&ke[g]))&&((nt=n==null?void 0:n.isPublished)!=null&&nt[u]||!((it=n==null?void 0:n.isPublished)!=null&&it[g]))?"one":"both",readalready:D&&D.length>0&&D.includes(n.chapterId)?"true":"false",style:{backgroundColor:p,color:P},readbgcolor:j,readtextcolor:_,onClick:()=>{var oe,ne,ie,se,ae,re,le,de;return c(n.chapterId,!((oe=n==null?void 0:n.isTranslated)!=null&&oe[u])&&!((ne=n==null?void 0:n.isTranslated)!=null&&ne[g])||!((ie=n==null?void 0:n.isPublished)!=null&&ie[u])&&!((se=n==null?void 0:n.isPublished)!=null&&se[g])?"none":(!((ae=n.isTranslated)!=null&&ae[u])||!((re=n==null?void 0:n.isTranslated)!=null&&re[g]))&&((le=n==null?void 0:n.isPublished)!=null&&le[u]||!((de=n==null?void 0:n.isPublished)!=null&&de[g]))?"one":"both")},children:i.jsx(sn,{src:y.icon_intro})},E):i.jsx(jt,{translatestatus:!((st=n==null?void 0:n.isTranslated)!=null&&st[u])&&!((at=n==null?void 0:n.isTranslated)!=null&&at[g])||!((rt=n==null?void 0:n.isPublished)!=null&&rt[u])&&!((lt=n==null?void 0:n.isPublished)!=null&&lt[g])?"none":(!((dt=n==null?void 0:n.isTranslated)!=null&&dt[u])||!((ct=n==null?void 0:n.isTranslated)!=null&&ct[g]))&&((ut=n==null?void 0:n.isPublished)!=null&&ut[u]||!((gt=n==null?void 0:n.isPublished)!=null&&gt[g]))?"one":"both",readalready:D&&D.length>0&&D.includes(n.chapterId)?"true":"false",style:{backgroundColor:p,color:P},readbgcolor:j,readtextcolor:_,onClick:()=>{var oe,ne,ie,se,ae,re,le,de;return c(n.chapterId,!((oe=n==null?void 0:n.isTranslated)!=null&&oe[u])&&!((ne=n==null?void 0:n.isTranslated)!=null&&ne[g])||!((ie=n==null?void 0:n.isPublished)!=null&&ie[u])&&!((se=n==null?void 0:n.isPublished)!=null&&se[g])?"none":(!((ae=n.isTranslated)!=null&&ae[u])||!((re=n.isTranslated)!=null&&re[g]))&&(!((le=n==null?void 0:n.isPublished)!=null&&le[u])||!((de=n==null?void 0:n.isPublished)!=null&&de[g]))?"one":"both")},children:i.jsx(W,{fontFamily:"Inter",fontWeight:"500",textAlign:"center",children:n.chapterNumber})},E)})})]})]})}function ln(e){const[o,a]=b.useState([]);return b.useEffect(()=>{let t=e.subBooks;t&&t.sort((d,v)=>d.subBookNumber-v.subBookNumber),a(t)},[e.subBooks]),i.jsx(i.Fragment,{children:o&&o.length>0&&o.map((t,d)=>i.jsx(rn,{bookId:e.bookId,bookTitle:e.bookTitle,subBooks:o,subBookId:t.subBookId,subBookInfos:e.subBookInfos,currentUser:e.currentUser,userHistory:e.userHistory,openedSubBook:e.openedSubBook,moveToReading:e.moveToReading,onDownload:e.onDownload,onDownloadRefresh:e.onDownloadRefresh,handleOpenedSubBook:e.handleOpenedSubBook},d))})}function dn(e){const[o,a]=b.useState(""),[t,d]=b.useState([]),[v,r]=b.useState(1),[f,h]=b.useState([]),{t:k}=ce(),{theme:S}=b.useContext(ue),{backgroundColor:w,topTextColor:u,mainTextColor:g}=ge(S),p=localStorage.getItem(ve)||pe,P=qt(e.deviceHeight),$=v*P,N=$-P,j=e.currentUser&&t.slice(N,$);b.useEffect(()=>{if(e.subBooks&&e.subBooks.length>0){const s=e.subBooks.map(c=>{var I;return{label:(I=c.subBookTitle)==null?void 0:I[p],value:c.subBookId}});s.unshift({label:k("All Books"),value:"all"}),h(s)}},[e.subBooks]),b.useEffect(()=>{f.length>0&&a(f[0].value)},[f]),b.useEffect(()=>{if(e.bookmark&&e.bookmark.length>0){const s=e.bookmark.filter(c=>c.subBookId===o);d(o==="all"||o===""?e.bookmark:s)}else d([]),r(0);v>1&&j.length==1&&r(s=>s-1)},[e.bookmark]);const _=(s,c)=>{r(c)},L=b.useCallback(s=>{const c=s.target.value;a(c);const I=e.bookmark.filter(U=>U.subBookId===c);d(c==="all"?e.bookmark:I)},[e.bookmark]),A=()=>i.jsx(Ro,{style:{backgroundColor:w},children:i.jsx(Jt,{label:k("Filter"),detail:i.jsxs($o,{children:[i.jsx(W,{color:u,children:k("Show")}),i.jsx(Qt,{label:"",options:f,value:o,backgroundColor:w,textColor:u,onChange:L})]})})}),D=()=>i.jsx(Mo,{children:(j==null?void 0:j.length)>0&&j.map((s,c)=>{var I;return i.jsxs(m,{children:[i.jsxs(Lo,{children:[i.jsxs(Fo,{onClick:()=>e.moveToReadingFromBookmark(s._id),children:[i.jsx(W,{color:g,children:(I=s.subBookTitle)==null?void 0:I[p]}),i.jsx(W,{color:g,children:s.bookTitle.en=="Qur’an"||s.bookTitle.en=="Zabur"?s.chapterNumber>0?`${k("Surah Bookmark")} ${s.chapterNumber}, ${k("Aya")} ${s.verseNumber}`:`${k("Surah Bookmark")} _ , ${k("Aya")} ${s.verseNumber}`:s.chapterNumber>0?`${k("Chapter Bookmark")} ${s.chapterNumber}, ${k("Aya")} ${s.verseNumber}`:`${k("Chapter Bookmark")} _ , ${k("Aya")} ${s.verseNumber}`})]}),i.jsx(zo,{src:S==B.DEFAULT||S==B.EASY_OCEAN||S==B.EASY_SUNRISE?y.black_bookmark:y.white_bookmark,onClick:()=>e.removeBookmark(s._id)})]}),i.jsx(Uo,{})]},c)})}),R=()=>i.jsx(Ho,{buttoncolor:g,children:i.jsx(mo,{count:e.currentUser?Math.ceil(t.length/P):0,page:v,hidePrevButton:!0,hideNextButton:!0,onChange:_})}),x=()=>i.jsxs(Ko,{style:{backgroundColor:w},children:[i.jsx(Wo,{src:S==B.DEFAULT||S==B.BLACK_AND_WHITE?y.swipe:S==B.EASY_OCEAN?y.swipe_easyocean:y.swipe_white}),i.jsx(Go,{style:{color:u},children:k("Bookmark Help")})]});return i.jsxs(Do,{children:[A(),D(),R(),x()]})}function cn(e){const[o,a]=b.useState(F),{t}=ce(),{theme:d}=b.useContext(ue),{mainBGColor:v,headerBGColor:r,buttonColor:f,buttonTextColor:h,mainTextColor:k}=ge(d),S=w=>{e.currentUser?a(w):H.custom(u=>i.jsx(K,{text:t("Bookmark Read Description"),visible:u.visible}))};return i.jsx(Oo,{style:{backgroundColor:r},children:i.jsxs(Eo,{style:{backgroundColor:v},children:[i.jsxs(No,{children:[i.jsxs(St,{active:o==F?"true":"false",style:{backgroundColor:o==F?f:v},bordercolor:k,onClick:()=>S(F),children:[i.jsx(wt,{src:d==B.DEFAULT?y.index:d==B.EASY_OCEAN?o==F?y.index_active:y.index:o==F?y.index:y.index_active}),i.jsx(It,{active:o==F?"true":"false",children:i.jsx(W,{fontSize:16,fontWeight:"500",lineHeight:24,color:o==F?h:k,children:t("Index")})})]}),i.jsxs(St,{active:o==F?"false":"true",style:{backgroundColor:o==we?f:v},bordercolor:k,onClick:()=>S(we),children:[i.jsx(wt,{src:d==B.DEFAULT?y.bookmark2_default:d==B.EASY_OCEAN?o==F?y.bookmark2_default:y.bookmark2_white:o==F?y.bookmark2_white:y.bookmark2_default}),i.jsx(It,{active:o==F?"false":"true",children:i.jsx(W,{fontSize:16,fontWeight:"500",lineHeight:24,color:o==we?h:k,children:t("Bookmarks")})})]})]}),o==F?i.jsx(ln,{bookId:e.bookId,bookTitle:e.bookTitle,subBooks:e.subBooks,subBookInfos:e.subBookInfos,currentUser:e.currentUser,userHistory:e.userHistory,openedSubBook:e.openedSubBook,moveToReading:e.moveToReading,onDownload:e.onDownload,onDownloadRefresh:e.onDownloadRefresh,handleOpenedSubBook:e.handleOpenedSubBook}):i.jsx(dn,{subBooks:e.subBooks,currentUser:e.currentUser,bookmark:e.bookmark,deviceHeight:e.deviceHeight,moveToReadingFromBookmark:e.moveToReadingFromBookmark,removeBookmark:e.removeBookmark})]})})}const un=Lt,J=Ft,gn=1;class xn{constructor(){xt(this,"db",null)}async initDB(){return new Promise((o,a)=>{const t=indexedDB.open(un,gn);t.onerror=()=>a(t.error),t.onsuccess=()=>{this.db=t.result,o()},t.onupgradeneeded=d=>{d.target.result.createObjectStore(J,{keyPath:"subBookId"})}})}async saveSubBookInfo(o){return this.db||await this.initDB(),new Promise((a,t)=>{const r=this.db.transaction([J],"readwrite").objectStore(J).put(o);r.onerror=()=>t(r.error),r.onsuccess=()=>a()})}async getSubBookInfo(o){return this.db||await this.initDB(),new Promise((a,t)=>{const r=this.db.transaction([J],"readonly").objectStore(J).get(o);r.onerror=()=>t(r.error),r.onsuccess=()=>a(r.result)})}async removeSubBookInfo(o){return this.db||await this.initDB(),new Promise((a,t)=>{const r=this.db.transaction([J],"readwrite").objectStore(J).delete(o);r.onerror=()=>t(r.error),r.onsuccess=()=>a()})}}const he=new xn,bn=l(m)({display:"flex",flexDirection:"column",margin:"auto",position:"relative",height:"100dvh"});function fn(e){const[o,a]=b.useState(),[t,d]=b.useState(!1),r=new URLSearchParams(window.location.search).get("id")||"",f=Yt(),{t:h}=ce(),{height:k}=ko(),{theme:S}=b.useContext(ue),{mainBGColor:w}=ge(S),u=localStorage.getItem(ve)||pe,g=b.useCallback(()=>{r&&yt.fetchBookInfo(r).then(x=>{var s,c,I,U,G;if(e.dispatch({type:V.ADD_BOOKINFO,payload:{bookInfo:x}}),a(x),e.currentUser&&!e.userHistory.some(O=>O.bookId==r)&&x.subBooks){const O=x.subBooks.find(Q=>Q.subBookNumber==0),xe=(s=O==null?void 0:O.chapterInfos[0])==null?void 0:s.chapterId,be=(c=x.bookTitle)==null?void 0:c[u],fe=(I=O==null?void 0:O.subBookTitle)==null?void 0:I[u],me=O==null?void 0:O.subBookId;(G=(U=O==null?void 0:O.chapterInfos[0])==null?void 0:U.isTranslated)!=null&&G[u]?$(xe,be,fe,me,!0):H.custom(Q=>i.jsx(K,{text:h("None Translated"),type:ye.BOOKMARK,visible:Q.visible}))}}).catch(x=>{H.custom(s=>i.jsx(K,{text:h(x),type:ye.BOOKMARK,visible:s.visible}))}).finally(()=>{d(!1)})},[r,e.dispatch,e.userHistory,e.currentUser]),p=b.useCallback(async x=>{try{const s=await yt.fetchSubBookInfo(x);e.dispatch({type:V.ADD_SUBBOOKINFO,payload:{subBookInfo:s}}),e.dispatch({type:V.ADD_SUBBOOK,payload:{subBook:s}}),await he.saveSubBookInfo(s),d(!1)}catch(s){H.custom(c=>i.jsx(K,{text:h(s),visible:c.visible})),d(!1)}},[e.dispatch]);b.useEffect(()=>{(async()=>{var s;d(!0),!((s=e.bookInfos)!=null&&s.length)||!e.bookInfos.some(c=>c.bookId===r)?await g():(a(e.bookInfos.find(c=>c.bookId===r)),d(!1))})(),e.currentUser&&kt.fetchBookmarks().then(s=>{e.dispatch({type:V.SET_BOOKMARKS,payload:{bookmark:s}})}).catch(s=>{s.status===401&&s.response.data.message===bt&&(H.custom(c=>i.jsx(K,{text:h(s.response.data.message),visible:c.visible})),Ie.logout(),f("/login"))})},[r,e.bookInfos,e.currentUser,e.dispatch]);const P=()=>{H.custom(x=>i.jsx(K,{text:h("Not Built Yet"),visible:x.visible}))},$=(x,s,c,I,U)=>{f(`/reading?chapterId=${x}&book=${s}&subBook=${c}&subBookId=${I}&bookId=${r}&bothTranslated=${U}`)},N=b.useCallback(async x=>{d(!0),mt()<ft?await he.getSubBookInfo(x)?(await he.removeSubBookInfo(x),e.dispatch({type:V.REMOVE_SUBBOOKINFO,payload:{subBookId:x}})):await p(x):H.custom(c=>i.jsx(K,{text:h("Not Enough Space"),visible:c.visible})),d(!1)},[p,e.dispatch]),j=b.useCallback(async x=>{d(!0),await he.removeSubBookInfo(x),e.dispatch({type:V.REMOVE_SUBBOOKINFO,payload:{subBookId:x}}),mt()<ft?await p(x):H.custom(c=>i.jsx(K,{text:h("Not Enough Space"),visible:c.visible})),d(!1)},[p,e.dispatch]),_=b.useCallback(x=>{if(d(!0),e.bookmark&&e.bookmark.length>0){const s=e.bookmark.find(c=>c._id===x);if(s){const{chapterId:c,bookTitle:I,subBookId:U,subBookTitle:G,verseId:te}=s;f(`/reading?chapterId=${c}&book=${I==null?void 0:I[u]}&subBook=${G==null?void 0:G[u]}&subBookId=${U}&verseId=${te}&bookId=${r}`),d(!1)}}},[r,f,e.bookmark]),L=b.useCallback(x=>{d(!0),kt.deleteBookmark(x).then(s=>{e.dispatch({type:V.REMOVE_BOOKMARK,payload:{bookmarkId:x}}),H.custom(c=>i.jsx(K,{text:h(s.message),type:ye.BOOKMARK,visible:c.visible})),d(!1)}).catch(s=>{s.status==401&&s.response.data.message==bt&&(H.custom(c=>i.jsx(K,{text:h(s.response.data.message),type:ye.BOOKMARK,visible:c.visible})),Ie.logout(),f("/login")),d(!1)})},[e.dispatch]),A=b.useCallback(x=>{e.dispatch({type:V.SET_OPENED_SUBBOOK,payload:{openedSubBook:e.openedSubBook===x?"":x}})},[e.openedSubBook,e.dispatch]),D=()=>{e.dispatch({type:V.RESET_USER}),e.dispatch({type:V.RESET_BOOK}),e.dispatch({type:V.RESET_PAGE_STATUS}),Ie.logout()},R=()=>{f("/login")};return i.jsxs(bn,{style:{backgroundColor:w},children:[i.jsx(an,{markImg:o&&Ut+o.bookImage,markTitle:o==null?void 0:o.bookTitle,isLogIn:!!e.currentUser,onLogoClick:()=>f("/"),onCloseClick:()=>f("/library"),onLogin:e.currentUser?D:R,onSettings:()=>f("/settings"),onSearchClick:P}),i.jsx(cn,{bookId:r,bookTitle:o==null?void 0:o.bookTitle,subBooks:o==null?void 0:o.subBooks,deviceHeight:k,subBookInfos:e.subBookInfos,userHistory:e.userHistory,currentUser:e.currentUser,bookmark:e.bookmark,openedSubBook:e.openedSubBook,moveToReading:$,moveToReadingFromBookmark:_,onDownload:N,onDownloadRefresh:j,removeBookmark:L,handleOpenedSubBook:A}),t&&i.jsx(Xt,{})]})}function mn(e){return{userHistory:e.books.userHistory,bookmark:e.books.bookmark,subBookInfos:e.books.subBookInfos,bookInfos:e.books.bookInfos,currentBookPageOpenTab:e.pageStatus.currentBookPageOpenTab,openedSubBook:e.pageStatus.openedSubBook,currentUser:e.user.currentUser,activeChapterId:e.books.activeChapterId}}const Pn=Gt(mn)(fn);export{Pn as default};
