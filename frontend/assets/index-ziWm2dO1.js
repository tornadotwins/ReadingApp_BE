import{b as i,j as r,a3 as U,aw as Qn,a5 as ce,ay as We,aK as it,aL as qe,aM as In,X as Rn,a8 as Zn,au as ct,ab as Gt,as as Tt,aN as Ke,aO as Pe,a9 as Ge,aP as $t,aQ as Jn,aR as er,aS as Qt,aT as tr,aC as rt,aB as dt,aA as $e}from"./index-CRP-wFOv.js";import{S as Ee,g as Le,aL as nr,aM as rr,aN as ir,aO as ar,s as y,B as w,aP as st,r as An,aQ as or,V as ie,c as sr,u as lr,j as Q}from"./App-CQHI11oL.js";import{I as q,T as J,c as Zt}from"./index-00UpdAzu.js";import{p as ur}from"./index-CDKH7z_j.js";import{d as Jt,A as cr}from"./index-CkVImstu.js";import{C as ae}from"./index-BCD1gWOf.js";import{L as dr}from"./index-CUAImvvL.js";import{a as ht}from"./auth.service-dVhR_m7x.js";import{b as Qe}from"./book.service-wpWcFISR.js";import{b as en}from"./bookmark.service-BTZzFokN.js";import"./index-BXxuXzn6.js";import"./index-C88pvD_q.js";function hr(e){const{theme:a}=i.useContext(Ee),{buttonColor:o,buttonTextColor:d}=Le(a);return r.jsx(nr,{ref:e.refer,"data-id":e.dataId,backgroundColor:o,children:r.jsxs(rr,{progresscolor:d,children:[r.jsx(ir,{variant:"determinate",value:e.progress,thickness:2}),r.jsx(ar,{src:a==U.EASY_OCEAN?q.bookmark2_white:q.bookmark2_default})]})})}var Pn={};function fr(e){if(e&&e.__esModule)return e;var a={};if(e!=null){for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};d.get||d.set?Object.defineProperty(a,o,d):a[o]=e[o]}}return a.default=e,a}var Nn=fr,pe={},ft,tn;function gr(){if(tn)return ft;tn=1;function e(a){return a&&a.__esModule?a:{default:a}}return ft=e,ft}var Ze,nn;function xr(){if(nn)return Ze;nn=1;function e(){return Ze=e=Object.assign||function(a){for(var o=1;o<arguments.length;o++){var d=arguments[o];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])}return a},e.apply(this,arguments)}return Ze=e,Ze}var gt,rn;function vr(){if(rn)return gt;rn=1;function e(a,o){if(a==null)return{};var d={},h=Object.keys(a),v,R;for(R=0;R<h.length;R++)v=h[R],!(o.indexOf(v)>=0)&&(d[v]=a[v]);return d}return gt=e,gt}var xt,an;function mr(){if(an)return xt;an=1;var e=vr();function a(o,d){if(o==null)return{};var h=e(o,d),v,R;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(o);for(R=0;R<C.length;R++)v=C[R],!(d.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(o,v)&&(h[v]=o[v])}return h}return xt=a,xt}var vt,on;function br(){if(on)return vt;on=1;function e(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}return vt=e,vt}var mt,sn;function Sr(){if(sn)return mt;sn=1;function e(o,d){for(var h=0;h<d.length;h++){var v=d[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(o,v.key,v)}}function a(o,d,h){return d&&e(o.prototype,d),h&&e(o,h),o}return mt=a,mt}var Oe,ln;function yr(){if(ln)return Oe;ln=1;function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(h){return typeof h}:e=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e(o)}function a(o){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?Oe=a=function(h){return e(h)}:Oe=a=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":e(h)},a(o)}return Oe=a,Oe}var bt,un;function pr(){if(un)return bt;un=1;function e(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}return bt=e,bt}var St,cn;function Cr(){if(cn)return St;cn=1;var e=yr(),a=pr();function o(d,h){return h&&(e(h)==="object"||typeof h=="function")?h:a(d)}return St=o,St}var Je,dn;function _r(){if(dn)return Je;dn=1;function e(a){return Je=e=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},e(a)}return Je=e,Je}var et,hn;function Tr(){if(hn)return et;hn=1;function e(a,o){return et=e=Object.setPrototypeOf||function(h,v){return h.__proto__=v,h},e(a,o)}return et=e,et}var yt,fn;function wr(){if(fn)return yt;fn=1;var e=Tr();function a(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),d&&e(o,d)}return yt=a,yt}var pt,gn;function jn(){if(gn)return pt;gn=1;var e=function(){};return pt=e,pt}var Ct={},_t,xn;function lt(){if(xn)return _t;xn=1;function e(a){return a&&a.__esModule?a:{default:a}}return _t=e,_t}var Me={},vn;function Er(){if(vn)return Me;vn=1;var e=lt();Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var a=e(i);e(jn());var o=function(v){v.index;var R=v.children;a.default.Children.count(R)},d=o;return Me.default=d,Me}var tt={},De={},mn;function Bn(){if(mn)return De;mn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var e={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3};return De.default=e,De}var bn;function kr(){if(bn)return tt;bn=1;var e=lt();Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=d;var a=e(i),o=e(Bn());function d(h){var v=h.children,R=h.startIndex,C=h.startX,D=h.pageX,N=h.viewLength,_=h.resistance,A=a.default.Children.count(v)-1,x=R+(C-D)/N,H;return _?x<0?x=Math.exp(x*o.default.RESISTANCE_COEF)-1:x>A&&(x=A+1-Math.exp((A-x)*o.default.RESISTANCE_COEF)):x<0?(x=0,H=(x-R)*N+D):x>A&&(x=A,H=(x-R)*N+D),{index:x,startX:H}}return tt}var He={},Sn;function Lr(){if(Sn)return He;Sn=1;var e=lt();Object.defineProperty(He,"__esModule",{value:!0}),He.default=void 0;var a=e(i),o=function(v,R){var C=!1,D=function(L){return L?L.key:"empty"};if(v.children.length&&R.children.length){var N=a.default.Children.map(v.children,D),_=N[v.index];if(_!=null){var A=a.default.Children.map(R.children,D),x=A[R.index];_===x&&(C=!0)}}return C},d=o;return He.default=d,He}var Ve={},yn;function Ir(){if(yn)return Ve;yn=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=void 0;function e(o,d){var h=o%d;return h<0?h+d:h}var a=e;return Ve.default=a,Ve}var pn;function Rr(){return pn||(pn=1,function(e){var a=lt();Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"checkIndexBounds",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"computeIndex",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"constant",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"getDisplaySameSlide",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return R.default}});var o=a(Er()),d=a(kr()),h=a(Bn()),v=a(Lr()),R=a(Ir())}(Ct)),Ct}var Cn;function Ar(){if(Cn)return pe;Cn=1;var e=Nn,a=gr();Object.defineProperty(pe,"__esModule",{value:!0}),pe.getDomTreeShapes=E,pe.findNativeHandler=oe,pe.default=pe.SwipeableViewsContext=void 0;var o=a(xr()),d=a(mr()),h=a(br()),v=a(Sr()),R=a(Cr()),C=a(_r()),D=a(wr()),N=e(i);a(ur),a(jn());var _=Rr();function A(b,l,k,t){return b.addEventListener(l,k,t),{remove:function(){b.removeEventListener(l,k,t)}}}var x={container:{direction:"ltr",display:"flex",willChange:"transform"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},H={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(l){return"translate(".concat(-l,"%, 0)")},"x-reverse":function(l){return"translate(".concat(l,"%, 0)")},y:function(l){return"translate(0, ".concat(-l,"%)")},"y-reverse":function(l){return"translate(0, ".concat(l,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function L(b,l){var k=l.duration,t=l.easeFunction,n=l.delay;return"".concat(b," ").concat(k," ").concat(t," ").concat(n)}function X(b,l){var k=H.rotationMatrix[l];return{pageX:k.x[0]*b.pageX+k.x[1]*b.pageY,pageY:k.y[0]*b.pageX+k.y[1]*b.pageY}}function j(b){return b.touches=[{pageX:b.pageX,pageY:b.pageY}],b}function E(b,l){for(var k=[];b&&b!==l&&b!==document.body&&!b.hasAttribute("data-swipeable");){var t=window.getComputedStyle(b);t.getPropertyValue("position")==="absolute"||t.getPropertyValue("overflow-x")==="hidden"?k=[]:(b.clientWidth>0&&b.scrollWidth>b.clientWidth||b.clientHeight>0&&b.scrollHeight>b.clientHeight)&&k.push({element:b,scrollWidth:b.scrollWidth,scrollHeight:b.scrollHeight,clientWidth:b.clientWidth,clientHeight:b.clientHeight,scrollLeft:b.scrollLeft,scrollTop:b.scrollTop}),b=b.parentNode}return k}var $=null;function oe(b){var l=b.domTreeShapes,k=b.pageX,t=b.startX,n=b.axis;return l.some(function(m){var c=k>=t;(n==="x"||n==="y")&&(c=!c);var g=Math.round(m[H.scrollPosition[n]]),V=g>0,K=g+m[H.clientLength[n]]<m[H.scrollLength[n]];return c&&K||!c&&V?($=m.element,!0):!1})}var P=N.createContext();pe.SwipeableViewsContext=P;var I=function(b){(0,D.default)(l,b);function l(k){var t;return(0,h.default)(this,l),t=(0,R.default)(this,(0,C.default)(l).call(this,k)),t.rootNode=null,t.containerNode=null,t.ignoreNextScrollEvents=!1,t.viewLength=0,t.startX=0,t.lastX=0,t.vx=0,t.startY=0,t.isSwiping=void 0,t.started=!1,t.startIndex=0,t.transitionListener=null,t.touchMoveListener=null,t.activeSlide=null,t.indexCurrent=null,t.firstRenderTimeout=null,t.setRootNode=function(n){t.rootNode=n},t.setContainerNode=function(n){t.containerNode=n},t.setActiveSlide=function(n){t.activeSlide=n,t.updateHeight()},t.handleSwipeStart=function(n){var m=t.props.axis,c=X(n.touches[0],m);t.viewLength=t.rootNode.getBoundingClientRect()[H.length[m]],t.startX=c.pageX,t.lastX=c.pageX,t.vx=0,t.startY=c.pageY,t.isSwiping=void 0,t.started=!0;var g=window.getComputedStyle(t.containerNode),V=g.getPropertyValue("-webkit-transform")||g.getPropertyValue("transform");if(V&&V!=="none"){var K=V.split("(")[1].split(")")[0].split(","),te=window.getComputedStyle(t.rootNode),T=X({pageX:parseInt(K[4],10),pageY:parseInt(K[5],10)},m);t.startIndex=-T.pageX/(t.viewLength-parseInt(te.paddingLeft,10)-parseInt(te.paddingRight,10))||0}},t.handleSwipeMove=function(n){if(!t.started){t.handleTouchStart(n);return}if(!($!==null&&$!==t.rootNode)){var m=t.props,c=m.axis,g=m.children,V=m.ignoreNativeScroll,K=m.onSwitching,te=m.resistance,T=X(n.touches[0],c);if(t.isSwiping===void 0){var M=Math.abs(T.pageX-t.startX),B=Math.abs(T.pageY-t.startY),F=M>B&&M>_.constant.UNCERTAINTY_THRESHOLD;if(!te&&(c==="y"||c==="y-reverse")&&(t.indexCurrent===0&&t.startX<T.pageX||t.indexCurrent===N.Children.count(t.props.children)-1&&t.startX>T.pageX)){t.isSwiping=!1;return}if(M>B&&n.preventDefault(),F===!0||B>_.constant.UNCERTAINTY_THRESHOLD){t.isSwiping=F,t.startX=T.pageX;return}}if(t.isSwiping===!0){n.preventDefault(),t.vx=t.vx*.5+(T.pageX-t.lastX)*.5,t.lastX=T.pageX;var se=(0,_.computeIndex)({children:g,resistance:te,pageX:T.pageX,startIndex:t.startIndex,startX:t.startX,viewLength:t.viewLength}),fe=se.index,ee=se.startX;if($===null&&!V){var le=E(n.target,t.rootNode),be=oe({domTreeShapes:le,startX:t.startX,pageX:T.pageX,axis:c});if(be)return}ee?t.startX=ee:$===null&&($=t.rootNode),t.setIndexCurrent(fe);var xe=function(){K&&K(fe,"move")};(t.state.displaySameSlide||!t.state.isDragging)&&t.setState({displaySameSlide:!1,isDragging:!0},xe),xe()}}},t.handleSwipeEnd=function(){if($=null,!!t.started&&(t.started=!1,t.isSwiping===!0)){var n=t.state.indexLatest,m=t.indexCurrent,c=n-m,g;Math.abs(t.vx)>t.props.threshold?t.vx>0?g=Math.floor(m):g=Math.ceil(m):Math.abs(c)>t.props.hysteresis?g=c>0?Math.floor(m):Math.ceil(m):g=n;var V=N.Children.count(t.props.children)-1;g<0?g=0:g>V&&(g=V),t.setIndexCurrent(g),t.setState({indexLatest:g,isDragging:!1},function(){t.props.onSwitching&&t.props.onSwitching(g,"end"),t.props.onChangeIndex&&g!==n&&t.props.onChangeIndex(g,n,{reason:"swipe"}),m===n&&t.handleTransitionEnd()})}},t.handleTouchStart=function(n){t.props.onTouchStart&&t.props.onTouchStart(n),t.handleSwipeStart(n)},t.handleTouchEnd=function(n){t.props.onTouchEnd&&t.props.onTouchEnd(n),t.handleSwipeEnd(n)},t.handleMouseDown=function(n){t.props.onMouseDown&&t.props.onMouseDown(n),n.persist(),t.handleSwipeStart(j(n))},t.handleMouseUp=function(n){t.props.onMouseUp&&t.props.onMouseUp(n),t.handleSwipeEnd(j(n))},t.handleMouseLeave=function(n){t.props.onMouseLeave&&t.props.onMouseLeave(n),t.started&&t.handleSwipeEnd(j(n))},t.handleMouseMove=function(n){t.props.onMouseMove&&t.props.onMouseMove(n),t.started&&t.handleSwipeMove(j(n))},t.handleScroll=function(n){if(t.props.onScroll&&t.props.onScroll(n),n.target===t.rootNode){if(t.ignoreNextScrollEvents){t.ignoreNextScrollEvents=!1;return}var m=t.state.indexLatest,c=Math.ceil(n.target.scrollLeft/n.target.clientWidth)+m;t.ignoreNextScrollEvents=!0,n.target.scrollLeft=0,t.props.onChangeIndex&&c!==m&&t.props.onChangeIndex(c,m,{reason:"focus"})}},t.updateHeight=function(){if(t.activeSlide!==null){var n=t.activeSlide.children[0];n!==void 0&&n.offsetHeight!==void 0&&t.state.heightLatest!==n.offsetHeight&&t.setState({heightLatest:n.offsetHeight})}},t.state={indexLatest:k.index,isDragging:!1,renderOnlyActive:!k.disableLazyLoading,heightLatest:0,displaySameSlide:!0},t.setIndexCurrent(k.index),t}return(0,v.default)(l,[{key:"componentDidMount",value:function(){var t=this;this.transitionListener=A(this.containerNode,"transitionend",function(n){n.target===t.containerNode&&t.handleTransitionEnd()}),this.touchMoveListener=A(this.rootNode,"touchmove",function(n){t.props.disabled||t.handleSwipeMove(n)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){t.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var n=t.index;typeof n=="number"&&n!==this.props.index&&(this.setIndexCurrent(n),this.setState({displaySameSlide:(0,_.getDisplaySameSlide)(this.props,t),indexLatest:n}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var t=this;return{slideUpdateHeight:function(){t.updateHeight()}}}},{key:"setIndexCurrent",value:function(t){if(!this.props.animateTransitions&&this.indexCurrent!==t&&this.handleTransitionEnd(),this.indexCurrent=t,this.containerNode){var n=this.props.axis,m=H.transform[n](t*100);this.containerNode.style.WebkitTransform=m,this.containerNode.style.transform=m}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var t=this,n=this.props;n.action;var m=n.animateHeight,c=n.animateTransitions,g=n.axis,V=n.children,K=n.containerStyle,te=n.disabled;n.disableLazyLoading;var T=n.enableMouseEvents;n.hysteresis,n.ignoreNativeScroll,n.index,n.onChangeIndex,n.onSwitching,n.onTransitionEnd,n.resistance;var M=n.slideStyle,B=n.slideClassName,F=n.springConfig,se=n.style;n.threshold;var fe=(0,d.default)(n,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"]),ee=this.state,le=ee.displaySameSlide,be=ee.heightLatest,xe=ee.indexLatest,ge=ee.isDragging,Ie=ee.renderOnlyActive,Ue=te?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},Ce=!te&&T?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},Xe=(0,o.default)({},x.slide,M),ke,ve;if(ge||!c||le)ke="all 0s ease 0s",ve="all 0s ease 0s";else if(ke=L("transform",F),ve=L("-webkit-transform",F),be!==0){var Ne=", ".concat(L("height",F));ke+=Ne,ve+=Ne}var Se={height:null,WebkitFlexDirection:H.flexDirection[g],flexDirection:H.flexDirection[g],WebkitTransition:ve,transition:ke};if(!Ie){var je=H.transform[g](this.indexCurrent*100);Se.WebkitTransform=je,Se.transform=je}return m&&(Se.height=be),N.createElement(P.Provider,{value:this.getSwipeableViewsContext()},N.createElement("div",(0,o.default)({ref:this.setRootNode,style:(0,o.default)({},H.root[g],se)},fe,Ue,Ce,{onScroll:this.handleScroll}),N.createElement("div",{ref:this.setContainerNode,style:(0,o.default)({},Se,x.container,K),className:"react-swipeable-view-container"},N.Children.map(V,function(ut,ze){if(Ie&&ze!==xe)return null;var Ye,Re=!0;return ze===xe&&(Re=!1,m&&(Ye=t.setActiveSlide,Xe.overflowY="hidden")),N.createElement("div",{ref:Ye,style:Xe,className:B,"aria-hidden":Re,"data-swipeable":"true"},ut)}))))}}]),l}(N.Component);I.displayName="ReactSwipableView",I.propTypes={},I.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var he=I;return pe.default=he,pe}(function(e){var a=Nn;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"SwipeableViewsContext",{enumerable:!0,get:function(){return o.SwipeableViewsContext}});var o=a(Ar())})(Pn);const Pr=Qn(Pn),Nr=y(w)({width:"100%",margin:"0px"}),jr=y(w)({margin:"0px",padding:"0px",position:"relative"}),Br=y(w)({width:"100%",height:"100%",margin:"0px",padding:"0px",position:"relative"}),On=y(Pr)(({scrollcolor:e})=>({width:"100%",height:"100%",marginBottom:"8px",padding:"14px 0px 20px 0px","::-webkit-scrollbar-thumb":{background:"red"},"::-webkit-scrollbar-thumb: hover":{backgroundColor:e,opacity:"1"},"& .react-swipeable-view-container":{height:"100%"}})),at=y(w)({width:"100%",padding:"0px 14px","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),Mn=y(w)({height:"10px",width:"100%",position:"absolute",bottom:"0",display:"flex",justifyContent:"center","& :last-child":{marginRight:"0px"}}),ot=y(w)(({active:e,linecolor:a})=>({borderTop:`1px solid ${a}`,width:e=="true"?"20px":e=="false"?"10px":"0px",color:"black",marginRight:"5px",marginTop:"5px"})),Or=y(w)(({scrollbarcolor:e})=>({width:"100%",height:"100%","::-webkit-scrollbar-thumb":{backgroundColor:"red"},"::-webkit-scrollbar-track":{backgroundColor:"transparent"},scrollbarWidth:"auto",scrollbarColor:`${e} transparent`})),_n=y(w)({width:"100%",padding:"0px",margin:"0px"}),Mr=y(w)({width:"100%",margin:"auto",padding:"20px 0px","& .MuiBox-root":{textWrap:"wrap"}}),Dr=y(w)({width:"100%",height:"100%",position:"relative",overflowX:"hidden",padding:"0px 15px",scrollbarGutter:"stable both-edges"}),Hr=y(w)({}),Tn=y("img")({width:"100%",marginTop:"20px"}),Vr=y(w)({width:"100%",marginTop:"20px","& .MuiAccordion-gutters":{width:"100%"},"& .MuiAccordion-root .MuiAccordionSummary-root .Mui-expanded":{margin:"12px 0px !important"}}),Fr=y(w)({width:"100%","& .MuiBox-root":{padding:"0px "}}),Wr=y(w)({width:"100%",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"}),qr=y(w)({width:"100%",padding:"20px 0px",position:"relative",display:"flex",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),Ur=y(w)({width:"100%",margin:"0px",position:"relative",display:"flex",flexDirection:"column",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}});y(w)({width:"40px",height:"100%",backgroundColor:"#FFAA5D",justifyContent:"center",alignItems:"center"});y(w)({width:"20px",height:"50%",position:"relative"});function wt(e){var A,x,H,L;const[a,o]=i.useState(0),{theme:d,textSize:h,referenceLanguage:v,showQuranReferences:R,displayType:C}=i.useContext(Ee),{topTextColor:D,backgroundColor:N}=Le(d),_=(x=(A=e==null?void 0:e.verse)==null?void 0:A.verseReference)==null?void 0:x.ref;return C==ce.VERSE_BY_VERSE?r.jsxs(jr,{children:[r.jsxs(On,{style:{backgroundColor:N},scrollcolor:D,enableMouseEvents:!0,disabled:!R,onSwitching:X=>o(X),children:[r.jsx(at,{children:r.jsx(_n,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,children:r.jsx(J,{fontFamily:"Inter",fontSize:h,lineHeight:h+20,fontWeight:"700",color:D,dataIndex:e.index.toString(),language:e.referenceLanguage,direction:e.referenceLanguage==We?"rtl":"ltr",children:(H=e.verse.verseText)==null?void 0:H[e.referenceLanguage]})})}),r.jsx(at,{children:_&&_.map((X,j)=>r.jsx(J,{fontFamily:"Inter",fontWeight:"700",fontSize:h,lineHeight:h+20,color:D,children:X},j))})]}),_&&_.length>0&&R&&r.jsxs(Mn,{children:[r.jsx(ot,{active:a==0?"true":"false",linecolor:D}),r.jsx(ot,{active:a==1?"true":"false",linecolor:D})]})]}):r.jsx(_n,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,style:{backgroundColor:N},children:r.jsx(J,{fontFamily:"Inter",fontSize:h,lineHeight:h+20,fontWeight:"700",color:D,dataIndex:e.index.toString(),language:e.referenceLanguage,direction:e.referenceLanguage==We?"rtl":"ltr",onTouchStart:()=>e.onTouchStart&&e.onTouchStart(e.verse.verseReference.ref),onMouseDown:()=>e.onMouseDown&&e.onMouseDown(e.verse.verseReference.ref),children:(L=e.verse.verseText)==null?void 0:L[e.referenceLanguage]})})}function Xr(e){var $,oe;const[a,o]=i.useState([]),[d,h]=i.useState(0),{scrollTopVerseIndex:v,setScrollTopVerseIndex:R,setHiddenTopVersePercentage:C,activeScroll:D,setActiveScroll:N}=i.useContext(st),_=i.useRef([]);_.current=($=e.verses)==null?void 0:$.map((P,I)=>_.current[I]??i.createRef());const{theme:A,textSize:x,showQuranReferences:H,displayType:L}=i.useContext(Ee),{backgroundColor:X,topTextColor:j}=Le(A);i.useEffect(()=>{var P;if(((P=e.verses)==null?void 0:P.length)>0){const I=_.current[v-1];I!=null&&I.current&&I.current.scrollIntoView(),R(0),C(0)}},[e.verses]),i.useEffect(()=>{var P;if(L==ce.SPLIT_PANEL&&v>=0&&(D==it||D==qe)){const I=_.current[Number(v)];(P=I==null?void 0:I.current)==null||P.scrollIntoView()}},[v,L]),i.useEffect(()=>{var P,I;_.current[0]&&!v&&((I=(P=_.current[0])==null?void 0:P.current)==null||I.scrollIntoView())},[v]);const E=P=>{if(L==ce.SPLIT_PANEL){N(In);const I=P.currentTarget.getBoundingClientRect().top,he=P.currentTarget.clientHeight;let b=-1,l=1/0;if(_.current.forEach((k,t)=>{if(k.current){const n=k.current.getBoundingClientRect().top,m=k.current.getBoundingClientRect().bottom,c=n-I;m>I&&n<I+he&&Math.abs(c)<l&&(l=Math.abs(c),b=t)}}),b!==-1){R(b);const k=_.current[b];if(k.current){const t=k.current.getBoundingClientRect().top,n=k.current.clientHeight,m=Math.max(0,Math.min(100,(I-t)/n*100));C(m)}}}};return r.jsx(Nr,{style:{height:e.height},children:L===ce.SPLIT_PANEL?r.jsxs(Br,{children:[r.jsxs(On,{style:{backgroundColor:X},scrollcolor:j,enableMouseEvents:!0,disabled:!H,onScrollCapture:D!=it?P=>E(P):()=>{},onSwitching:P=>h(P),children:[r.jsx(at,{children:(oe=e.verses)==null?void 0:oe.map((P,I)=>r.jsx(wt,{refer:_.current[I],verse:P,index:I,referenceLanguage:e.referenceLanguage,onMouseDown:o,onTouchStart:o},I))}),r.jsx(at,{children:a&&a.map((P,I)=>r.jsx(J,{fontFamily:"Inter",fontWeight:"700",fontSize:x-2,color:j,children:P},I))})]}),H&&r.jsxs(Mn,{style:{background:X,bottom:"5px"},children:[r.jsx(ot,{active:d===0?"true":"false",linecolor:j}),r.jsx(ot,{active:d===1?"true":"false",linecolor:j})]})]}):r.jsx(Or,{style:{backgroundColor:X},scrollbarcolor:j,children:e.verses.map((P,I)=>r.jsx(wt,{refer:_.current[I],verse:P,index:I,referenceLanguage:e.referenceLanguage},I))})})}var Lt={},zr=Rn;Object.defineProperty(Lt,"__esModule",{value:!0});var Et=Lt.default=void 0,Yr=zr(An()),Kr=r;Et=Lt.default=(0,Yr.default)((0,Kr.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft");var It={},Gr=Rn;Object.defineProperty(It,"__esModule",{value:!0});var Dn=It.default=void 0,$r=Gr(An()),Qr=r;Dn=It.default=(0,$r.default)((0,Qr.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"SettingsOutlined");const Zr=y(w)({position:"fixed",zIndex:"3",bottom:"0px",width:"100%",height:"150px",overflow:"hidden"}),Jr=y(w)({position:"relative",display:"flex",justifyContent:"center","& .MuiBox-root":{alignContent:"center"}}),ei=y("img")({width:"100%",position:"absolute",top:"20px"}),ti=y(w)({width:"100%",maxWidth:"700px",padding:"0px 20px",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:"1",paddingTop:"20px",alignContent:"center","@media (min-width: 600px)":{paddingTop:"25px"}}),ni=y(w)({position:"relative",bottom:"-75px",height:"100px",display:"flex",alignItems:"center",justifyContent:"space-between"}),ri=y("img")({width:"100%",position:"absolute","@media (min-width: 750px)":{top:"0px"},"@media (min-width: 1050px)":{top:"-10px"},"@media (min-width: 1450px)":{top:"-20px"}});y(w)(({readingcontrol:e})=>({height:"100px",width:"100%",maxWidth:"700px",margin:"auto",display:"flex",flexDirection:e==Zn.LEFT_HANDED?"row":"row-reverse",justifyContent:"space-between",alignItems:"center",padding:"0px 15px","@media (min-width: 1075px)":{width:"80%",margin:"auto"}}));const ii=y(w)(({isintro:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer",marginLeft:e=="true"?"10px":"0px"})),ai=y(w)({backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 10px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2,height:"40px","& .MuiBox-root":{width:"70px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),wn=y("img")({width:"15px",marginRight:"10px"}),oi=y(w)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer"}),si=y(w)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px",height:"40px"}),nt=y(w)({width:"24px",height:"24px",cursor:"pointer"}),li=y(w)({width:"25px"}),ui=y(w)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",minWidth:"200px",maxWidth:"350px",boxSizing:"border-box",cursor:"pointer","@media (max-width: 360px)":{width:"220px"}}),ci=y(w)({display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",boxSizing:"border-box",borderRadius:"20px",padding:"5px",height:"40px",width:"100%","@media (max-width: 360px)":{width:"200px"}}),di=y(w)({minWidth:"170px",maxWidth:"320px",display:"flex",justifyContent:"space-between",alignItems:"center","@media (max-width: 360px)":{width:"150px",minWidth:"140px"}}),hi=y(w)({display:"flex",alignItems:"center",width:"150px",marginLeft:"10px","& .MuiBox-root":{width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","@media (max-width: 360px)":{width:"90px"}},"@media (max-width: 360px)":{width:"110px"}}),fi=y(w)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer","& :nth-of-type(2)":{marginRight:"10px"}}),gi=y(w)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 20px",width:"50px",height:"40px"}),xi=y(w)({width:"40px",height:"40px",marginRight:"10px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"50%",cursor:"pointer","& svg":{fill:"#093C54 !important"}});y(w)({width:"90px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px","@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}});const vi=y(w)({display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"10px",marginBottom:"20px",cursor:"pointer"}),Fe=y("img")({width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",zIndex:"1"});y(w)(({underlinecolor:e})=>({width:"90px",textDecoration:"underline",textDecorationColor:e,textUnderlineOffset:"3px",zIndex:"1",cursor:"pointer",marginBottom:"20px","& .MuiBox-root":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}}));const mi=y(w)({width:"100%",height:"60px",overflow:"hidden",padding:"0 10px"}),bi=y(or)(({barcolor:e})=>({color:e,opacity:"1",height:"5px","& .MuiSlider-thumb":{width:"13.25px",height:"14px",color:e,transition:"0.3s cubic-bezier(.47,1.64,.41,.8)","&::before":{boxShadow:"0 2px 12px 0 rgba(0,0,0,0.4)"},"&:hover, &.Mui-focusVisible":{boxShadow:"0px 0px 0px 8px rgb(0 0 0 / 16%)"},"&.Mui-active":{width:20,height:20}}})),Si=y(w)({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-20px"});function yi(e){const{duration:a,currentTime:o,onTimeChange:d}=e,[h,v]=i.useState(o),{theme:R}=i.useContext(Ee),{buttonTextColor:C}=Le(R);i.useEffect(()=>{v(o)},[o]);const D=(N,_)=>{v(_),d(_)};return r.jsxs(mi,{children:[r.jsx(bi,{"aria-label":"time-indicator",value:h,min:0,max:Math.floor(a),step:1,barcolor:C,onChange:D}),r.jsxs(Si,{children:[r.jsx(J,{color:C,children:En(h)}),r.jsx(J,{color:C,children:"-"+En(Math.floor(a-h))})]})]})}function En(e){const a=Math.floor(e/60),o=Math.floor(e%60);return`${a}:${o<10?`0${o}`:o}`}function pi(e){const[a,o]=i.useState(!1),[d,h]=i.useState(0),[v,R]=i.useState(0),[C,D]=i.useState(0),N=i.useRef(new Audio),{scrollTopVerseIndex:_,setScrollTopVerseIndex:A,setActiveScroll:x}=i.useContext(st),{autoScrollText:H,volume:L,audioLanguage:X,pageControl:j,theme:E,readingLanguage:$}=i.useContext(Ee);i.useEffect(()=>{const T=N.current;e.src&&(T.src=ct+e.src);const M=()=>{R(T.duration)},B=()=>{h(Math.floor(T.currentTime))};return T.addEventListener("loadedmetadata",M),T.addEventListener("timeupdate",B),()=>{T.removeEventListener("loadedmetadata",M),T.removeEventListener("timeupdate",B)}},[e.src]),i.useEffect(()=>{var T;if(N.current.ended)l();else if(H){const M=(T=e.verses)==null?void 0:T.findIndex((B,F)=>{var ee,le,be;const se=(ee=B.verseAudioStart)==null?void 0:ee[X||Gt.TRANSLATION],fe=(be=(le=e.verses[F+1])==null?void 0:le.verseAudioStart)==null?void 0:be[X||Gt.TRANSLATION];return d>=se&&d<fe});M!==-1&&(M!==C||M==0)&&(A(M),D(M),x(qe))}},[d,e.verses,X,H,a]),i.useEffect(()=>{N.current.volume=L/100},[L]);const oe=()=>{const T=N.current;x(qe),T.readyState>=2?(o(!0),T.play().catch(M=>ie.custom(B=>{var F,se;return r.jsx(ae,{text:((se=(F=e.terms.texts.find(fe=>fe.variable=="Audio Play Error"))==null?void 0:F.text)==null?void 0:se[$])||"",offset:125,visible:B.visible})}))):ie.custom(M=>{var B,F;return r.jsx(ae,{text:((F=(B=e.terms.texts.find(se=>se.variable=="Audio Not Ready"))==null?void 0:B.text)==null?void 0:F[$])||"",offset:125,visible:M.visible})})},P=()=>{o(!1),N.current.pause(),x(Tt)},I=()=>{P(),e.moveToSoundSettingPage()},he=()=>{P(),e.setAudioSeekBarStatus(!1)},b=T=>{N.current.currentTime=T,h(T)},l=()=>{h(0),o(!1),A(0),x(Tt)},k=()=>r.jsxs(Jr,{children:[r.jsx(ei,{src:E==U.DEFAULT||E==U.DARK?q.bar_reading_audio_subtract:E==U.BLACK_AND_WHITE?q.bar_reading_audio_subtract_BAW:E==U.SAPPHIRE?q.bar_reading_audio_subtract_sapphire:q.bar_reading_audio_subtract_easyocean}),r.jsxs(ti,{children:[r.jsx(Fe,{src:E==U.DEFAULT||E==U.DARK?q.btn_sound_setting:E==U.BLACK_AND_WHITE?q.btn_sound_setting_BAW:E==U.SAPPHIRE?q.btn_sound_setting_sapphire:q.btn_sound_setting_easyocean,onClick:I}),r.jsx(yi,{duration:v,currentTime:d,onTimeChange:b}),r.jsx(Fe,{src:E==U.DEFAULT||E==U.DARK?q.btn_close:E==U.BLACK_AND_WHITE?q.btn_close_BAW:E==U.SAPPHIRE?q.btn_close_sapphire:q.btn_close_easyocean,onClick:he})]})]}),t=()=>r.jsx(ri,{src:E==U.DEFAULT||E==U.DARK?q.bar_reading_subtract:E==U.BLACK_AND_WHITE?q.bar_reading_subtract_BAW:E==U.SAPPHIRE?q.bar_reading_subtract_sapphire:q.bar_reading_subtract_easyocean}),n=()=>!e.isIntro&&r.jsx(vi,{children:e.showAudioSeekBar?a?r.jsx(Fe,{src:E==U.DEFAULT||E==U.DARK?q.btn_pause:E==U.BLACK_AND_WHITE?q.btn_pause_BAW:E==U.SAPPHIRE?q.btn_pause_sapphire:q.btn_pause_easyocean,onClick:P}):r.jsx(Fe,{src:E==U.DEFAULT||E==U.DARK?q.btn_play:E==U.BLACK_AND_WHITE?q.btn_play_BAW:E==U.SAPPHIRE?q.btn_play_sapphire:q.btn_play_easyocean,onClick:oe}):r.jsx(Fe,{src:E==U.DEFAULT||E==U.DARK?q.btn_sound:E==U.BLACK_AND_WHITE?q.btn_sound_BAW:E==U.SAPPHIRE?q.btn_sound_sapphire:q.btn_sound_easyocean,onClick:()=>e.setAudioSeekBarStatus(!0)})}),m=()=>{var T,M,B,F,se,fe;return e.bookTitle!="Qur'an"&&r.jsxs(ii,{isintro:e.isIntro?"true":"false",children:[r.jsxs(ai,{onClick:e.moveToIndexPage,children:[r.jsx(wn,{src:ct+e.bookImage}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:(F=(B=(M=(T=e.subBookTerms)==null?void 0:T.texts)==null?void 0:M.find(ee=>ee.variable===e.subBookTitle))==null?void 0:B.text)==null?void 0:F[e.readingLanguage]})]}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((fe=(se=e.terms.texts.find(ee=>ee.variable=="Sub Book"))==null?void 0:se.text)==null?void 0:fe[$])||"Sub Book"})]})},c=()=>{var T,M;return e.bookTitle!="Qur'an"&&r.jsxs(oi,{children:[r.jsxs(si,{children:[r.jsx(nt,{onClick:()=>e.handleNavigateBtn(j==Ge.LEFT_TO_RIGHT?Ke:Pe),children:r.jsx(Et,{})}),r.jsx(li,{onClick:e.moveToIndexPage,children:r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",textAlign:"center",children:e.isIntro?"In":e.bookTitle=="Zabur"?e.subBookNumber.toString():e.chapterNumber.toString()})}),r.jsx(nt,{onClick:()=>e.handleNavigateBtn(j==Ge.LEFT_TO_RIGHT?Pe:Ke),children:r.jsx(Jt,{})})]}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((M=(T=e.terms.texts.find(B=>B.variable=="Chapter"))==null?void 0:T.text)==null?void 0:M[$])||"Chapter"})]})},g=()=>{var T,M;return e.bookTitle=="Qur'an"&&r.jsxs(ui,{children:[r.jsxs(ci,{children:[r.jsx(nt,{onClick:()=>e.handleNavigateBtn(j==Ge.LEFT_TO_RIGHT?Ke:Pe),children:r.jsx(Et,{})}),r.jsxs(di,{onClick:e.moveToIndexPage,children:[r.jsxs(hi,{children:[r.jsx(wn,{src:ct+e.bookImage}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookTitle})]}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookNumber.toString()})]}),r.jsx(nt,{onClick:()=>e.handleNavigateBtn(j==Ge.LEFT_TO_RIGHT?Pe:Ke),children:r.jsx(Jt,{})})]}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((M=(T=e.terms.texts.find(B=>B.variable=="Surah"))==null?void 0:T.text)==null?void 0:M[$])||"Surah"})]})},V=()=>{var T,M;return!e.isIntro&&r.jsxs(fi,{children:[r.jsx(gi,{onClick:e.moveToSubBookExplorer,children:r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:(_<=0?1:_+1).toString()})}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((M=(T=e.terms.texts.find(B=>B.variable=="Aya"))==null?void 0:T.text)==null?void 0:M[$])||"Aya"})]})},K=()=>r.jsx(xi,{onClick:e.moveToSettingsPage,children:r.jsx(Dn,{})}),te=()=>r.jsxs(ni,{children:[t(),n(),m(),c(),g(),V(),K()]});return r.jsxs(Zr,{children:[e.showAudioSeekBar&&k(),te()]})}function kt(e){var k,t,n,m;const[a,o]=i.useState(e.isExistingInBookmark?100:0),[d,h]=i.useState(null),[v,R]=i.useState(!1),[C,D]=i.useState(0),[N,_]=i.useState(0),{textSize:A,theme:x}=i.useContext(Ee),{mainBGColor:H}=Le(x),L=i.useRef(null),X=i.useRef(a),j=e.refer,E=i.useRef(0),$=window.matchMedia("(orientation: portrait)").matches;i.useEffect(()=>{X.current=a},[a]),i.useEffect(()=>{if(L.current&&j.current&&("verseHeader"in e.verse&&(L.current.style.height=`${j.current.getBoundingClientRect().height-4}px`,L.current.style.bottom="2px",L.current.style.alignSelf="self-end"),j.current.offsetHeight>0&&j.current.offsetHeight<=24)){const c=L.current.children[0];c.style.width="20px",c.style.height="20px",c.children[1].style.width="10px",c.children[1].style.height="10px"}},[e.verse,e.translatePanelHeight,$]);const oe=i.useCallback(c=>{if(c>0&&c<$t){const g=c/$t*100,V=e.isExistingInBookmark?100-g:g;o(V),X.current=V}else if(c>0){const g=e.isExistingInBookmark?0:100;o(g),X.current=g}else{const g=e.isExistingInBookmark?100:0;o(g),X.current=g}},[e.isExistingInBookmark]),P=i.useCallback(()=>{if(j.current){const c=Math.max(0,Math.min(N,er));j.current.style.transform=`translateX(${c}px)`,oe(c-Jn)}v&&(E.current=requestAnimationFrame(P))},[v,N,oe]);i.useEffect(()=>(v?E.current=requestAnimationFrame(P):cancelAnimationFrame(E.current),()=>cancelAnimationFrame(E.current)),[v,P]);const I=c=>{var V;!e.language&&R(!0),D(c);const g=(V=j.current)==null?void 0:V.getAttribute("data-id");g&&h(g)},he=c=>{if(!v)return;const g=Math.max(0,c-C);e.isLoggedIn&&g>Qt&&_(g-Qt)},b=()=>{R(!1),j.current&&(!e.isExistingInBookmark&&X.current==100||e.isExistingInBookmark&&X.current==0?d&&e.handleBookmark(d):e.isExistingInBookmark?(o(100),X.current=100):(o(0),X.current=0),j.current.style.transition="transform 0.3s ease-out",j.current.style.transform="translateX(0)",setTimeout(()=>{j.current&&(j.current.style.transition="")},300)),_(0)};i.useEffect(()=>{const c=j.current;if(c){const g=B=>{B.preventDefault(),I(B.clientX)},V=B=>{B.preventDefault(),he(B.clientX)},K=B=>{B.preventDefault(),b()},te=B=>{I(B.touches[0].clientX)},T=B=>{he(B.touches[0].clientX)},M=B=>{b()};return c.addEventListener("mousedown",g),document.addEventListener("mousemove",V),document.addEventListener("mouseup",K),c.addEventListener("touchstart",te),c.addEventListener("touchmove",T),c.addEventListener("touchend",M),()=>{c.removeEventListener("mousedown",g),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",K),c.removeEventListener("touchstart",te),c.removeEventListener("touchmove",T),c.removeEventListener("touchend",M)}}},[j,oe,e.handleBookmark,C]);const l=c=>{for(var g in c)if(c[g]!==null&&c[g]!=="")return!0;return!1};return r.jsxs(Wr,{children:["verseHeader"in e.verse&&l(e.verse.verseHeader)&&r.jsx(qr,{"data-id":e.verse.verseId,"data-index":e.index,style:{backgroundColor:H},children:r.jsx(J,{fontFamily:"Inter",fontWeight:"700",backgroundColor:H,fontSize:A,lineHeight:A+15,direction:e.language||e.readingLanguage===We?"rtl":"ltr",children:e.verse.verseHeader[e.language||e.readingLanguage]})}),!e.language&&r.jsx(hr,{progress:a,refer:L,backgroundColor:H}),r.jsx(Ur,{"data-id":"verseId"in e.verse?e.verse.verseId:e.verse.id,"data-index":e.index,ref:e.refer,children:e.isIntro?r.jsx(J,{fontFamily:"Inter",backgroundColor:H,dataIndex:e.language?"":e.index.toString(),lineHeight:A+20,direction:e.readingLanguage===We?"rtl":"ltr",fontSize:e.verse.title?A+2:A,fontWeight:e.verse.title?"bold":"500",textAlign:e.verse.title?"center":"left",children:((k=e.verse.title)==null?void 0:k[e.language||e.readingLanguage])||((t=e.verse.text)==null?void 0:t[e.language||e.readingLanguage])}):r.jsx(J,{fontFamily:"Inter",fontSize:A,backgroundColor:H,dataIndex:e.language?"":e.index.toString(),lineHeight:A+20,direction:e.readingLanguage===We?"rtl":"ltr",children:"verseText"in e.verse?(n=e.verse.verseText)==null?void 0:n[e.language||e.readingLanguage]:(m=e.verse.text)==null?void 0:m[e.language||e.readingLanguage]})})]})}function kn(e){var I,he,b,l,k;const[a,o]=i.useState([]),[d,h]=i.useState([]),{scrollTopVerseIndex:v,setScrollTopVerseIndex:R,setHiddenTopVersePercentage:C,activeScroll:D,setActiveScroll:N}=i.useContext(st),_=i.useRef(null),A=i.useRef(null),x=i.useRef([]);x.current=(I=e.verses)==null?void 0:I.map((t,n)=>x.current[n]??i.createRef());const{theme:H,displayType:L}=i.useContext(Ee),{mainBGColor:X,textColor:j}=Le(H),E=e.readingLanguage||tr,$=i.useCallback(()=>{var n;let t=[];return(n=x.current)==null||n.forEach(m=>{m.current&&m.current.children[0]&&t.push(m.current.children[0].offsetHeight)}),t},[x]);i.useEffect(()=>{var t;if(((t=e.verses)==null?void 0:t.length)>0){const n=x.current[v-1];n!=null&&n.current&&n.current.scrollIntoView(),R(0),C(0)}},[e.verses]),i.useEffect(()=>{const t=$();o(t);const n=t.reduce((m,c,g)=>(m[g]=(m[g-1]||0)+c,m),[]);h(n)},[e.verses,$]);const oe=i.useCallback(()=>{if(!_.current)return;const t=_.current.scrollTop;N(it);let n=0,m=d.length-1;for(;n<=m;){const M=Math.floor((n+m)/2);d[M]>t?m=M-1:n=M+1}const c=n-1;R(c);const g=c>0?d[c-1]:0,V=a[c],te=(t-g)/V*100,T=Math.min(Math.max(te,0),100);C(T)},[d,a,R]);i.useEffect(()=>{const t=_.current;if(t)return t.addEventListener("scroll",oe),t.addEventListener("scrollend",()=>N(Tt)),()=>{t.removeEventListener("scroll",oe)}}),i.useEffect(()=>{var t;if((L===ce.SPLIT_PANEL||L===ce.ONLY_TRNSLATION)&&v>=2&&(D==In||D==qe)){const n=x.current[Number(v)];(t=n==null?void 0:n.current)==null||t.scrollIntoView()}},[v,L]);const P=(t,n)=>{var m;return t.image?r.jsx(Tn,{src:t.image.url,alt:t.image.alt},n):t.isCollapse?r.jsx(Vr,{children:r.jsx(cr,{label:(m=t.title)==null?void 0:m[E],outArrow:!0,detail:r.jsx(Fr,{children:t.content.map((c,g)=>!c.url&&!c.isTitle?r.jsx(J,{children:c==null?void 0:c[E]},g):!c.url&&c.isTitle?r.jsx(J,{fontWeight:"bold",isTitle:!0,children:c==null?void 0:c[E]},g):r.jsx(Tn,{src:c.url,alt:c.alt},g))})})},n):r.jsx(kt,{refer:x.current[n],verse:t,index:n,language:E,isExistingInBookmark:e.bookmarks.some(c=>c.id===t.id),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,isIntro:!0,readingLanguage:e.readingLanguage,handleBookmark:e.handleBookmark},n)};return i.useEffect(()=>{var t;D!=it&&(!v||v===-1)&&e.prevPage!=rt.SUBBOOKEXPLORER&&((t=A==null?void 0:A.current)==null||t.scrollIntoView())},[v]),r.jsx(Mr,{style:{backgroundColor:X,color:j,height:e.height},children:r.jsxs(Dr,{ref:_,children:[!e.isIntro&&r.jsxs(Hr,{ref:A,children:[r.jsx(J,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(b=(he=e.subBookInfo)==null?void 0:he.subBookTitle)==null?void 0:b.ar}),r.jsx(J,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:e==null?void 0:e.originTitle}),r.jsx(J,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`${e.ordinary} ${e.bookUnit}`})]}),!e.isIntro&&((l=e.verses)==null?void 0:l.map((t,n)=>r.jsx(kt,{refer:x.current[n],verse:t,index:n,isExistingInBookmark:e.bookmarks.some(m=>m.verseId===t.verseId),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,readingLanguage:e.readingLanguage,handleBookmark:e.handleBookmark},n))),e.isIntro&&((k=e.verses)==null?void 0:k.map((t,n)=>P(t,n)))]})})}const Ci=y(w)({margin:"0px",height:"100dvh"}),Ln=y(w)(({showaudioseekbar:e})=>({width:"100%",padding:"20px",height:e=="true"?"calc(100dvh - 150px)":"calc(100dvh - 100px)"})),_i=y(w)({width:"45px",height:"8px",margin:"auto",marginTop:"-4px",position:"relative",zIndex:"2",cursor:"grab","&:active":{cursor:"grabbing"}}),Ti=y(w)({width:"100%",height:"100%",overflowX:"hidden",overflowY:"auto",margin:"0px",paddingBottom:"0px"}),wi=y(w)({width:"100%",padding:"15px"});function Ei(e){const a=window.matchMedia("(orientation: portrait)").matches,[o,d]=i.useState([]),[h,v]=i.useState(null),[R,C]=i.useState(!1),[D,N]=i.useState(a?200:120),[_,A]=i.useState(!1),[x,H]=i.useState(),[L,X]=i.useState(),[j,E]=i.useState(),[$,oe]=i.useState(),[P,I]=i.useState(),[he,b]=i.useState(),[l,k]=i.useState(),[t,n]=i.useState(),[m,c]=i.useState(),[g,V]=i.useState(0),[K,te]=i.useState(0),[T,M]=i.useState(!0),{theme:B,displayType:F}=i.useContext(Ee),{mainBGColor:se,topTextColor:fe}=Le(B),{scrollTopVerseIndex:ee,setScrollTopVerseIndex:le,setActiveScroll:be}=i.useContext(st),xe=i.useRef([]),ge=i.useRef([]);xe.current=o==null?void 0:o.map((s,u)=>(xe==null?void 0:xe.current[u])??i.createRef()),ge.current=o==null?void 0:o.map((s,u)=>(ge==null?void 0:ge.current[u])??i.createRef());const Ie=100,Ue=100;window.matchMedia("(orientation: portrait)").addEventListener("change",s=>{const u=s.matches;N(u?200:120)});const[Ce,Xe]=i.useState(typeof window<"u"?window.innerHeight:1e3),ke=e.showAudioSeekBar?Ce-150-D:Ce-100-D,ve=lr(),Ne=i.useCallback(s=>{Qe.fetchVerses(s).then(u=>{var S;if(d(u.verses),u&&u.length>0){const p=(S=u.chapteraudio)==null?void 0:S.find(f=>f.language==e.readingLanguage);v(p)}e.dispatch({type:Q.ADD_CHAPTERINFO,payload:{chapterInfo:u}}),C(!1)}).catch(u=>{C(!1),ie.custom(S=>r.jsx(ae,{text:u,offset:70,visible:S.visible}))})},[e.currentChapter]),Se=i.useCallback((s,u)=>{var S,p;if(A(u),(S=e.chapterInfos)!=null&&S.length){const f=e.chapterInfos.find(O=>O.chapterId===s);if(f){A(f.chapterNumber==0),d(f.verses);const O=(p=f.chapterAudio)==null?void 0:p.find(G=>G.language==e.readingLanguage);v(O==null?void 0:O.audio)}else u?je(s):Ne(s);C(!1)}else u?je(s):Ne(s)},[e.currentChapter]),je=i.useCallback(s=>{Qe.fetchIntroVerses(s).then(u=>{d(u.verses),e.dispatch({type:Q.ADD_CHAPTERINFO,payload:{chapterInfo:u}})}).catch(u=>{ie.custom(S=>r.jsx(ae,{text:u,offset:70,visible:S.visible}))}).finally(()=>{C(!1)})},[]),ut=i.useCallback(async s=>{try{const u=await Qe.fetchSubBookInfo(s);e.dispatch({type:Q.ADD_SUBBOOK,payload:{subBook:u}}),n(u)}catch(u){ie.custom(S=>r.jsx(ae,{text:u,visible:S.visible}))}finally{C(!1)}},[e.subBooks,e.currentSubBook]),ze=i.useCallback(s=>{for(const u of e.bookInfos)for(const S of u.subBooks){const p=S.chapterInfos.find(f=>f.chapterId==s);if(p)return p}},[]),Ye=i.useCallback(s=>{for(const u of e.subBooks){const S=u.chapterInfos.find(p=>p.chapterId==s);if(S)return S}},[]);i.useEffect(()=>{const s=e.bookInfos.find(u=>u.bookId==e.currentBook);k(s)},[]),i.useEffect(()=>{var S;const s=(S=e.chapterInfos)==null?void 0:S.find(p=>p.chapterId==e.currentChapter),u=(s==null?void 0:s.chapterNumber)||0;te(u)},[e.chapterInfos]),i.useEffect(()=>{var G,ne,de,_e,Te,we;const s=e.terms.find(z=>z.pageTitle=="Reading Page"),u=e.terms.find(z=>z.pageTitle==="Chapter Headings"),S=e.terms.find(z=>z.pageTitle==="Origin Injil Sub-book Names"),p=e.terms.find(z=>z.pageTitle==="Origin Qur'an Surah Names"),f=e.terms.find(z=>z.pageTitle==="Origin Tawrat Sub-book Names"),O=e.terms.find(z=>z.pageTitle==="Origin Zabur Sub-book Names");(G=s==null?void 0:s.isPublished)!=null&&G[e.appLanguage]&&H(s),(ne=u==null?void 0:u.isPublished)!=null&&ne[e.readingLanguage]&&X(u),(de=S==null?void 0:S.isPublished)!=null&&de[e.readingLanguage]&&E(S),(_e=p==null?void 0:p.isPublished)!=null&&_e[e.readingLanguage]&&oe(p),(Te=f==null?void 0:f.isPublished)!=null&&Te[e.readingLanguage]&&I(f),(we=O==null?void 0:O.isPublished)!=null&&we[e.readingLanguage]&&b(O)},[e.terms,e.readingLanguage]),i.useEffect(()=>{const s=e.subBooks.find(u=>u.subBookId==e.currentSubBook);!s&&e.currentSubBook?ut(e.currentSubBook):s&&e.currentSubBook&&n(s)},[e.subBooks,e.currentSubBook]),i.useEffect(()=>{var s,u,S,p;if(C(!0),e.currentVerse){const f=o.find(O=>O.verseId==e.currentVerse);f&&(le(((s=f[0])==null?void 0:s.verseNumber)-1),F==ce.VERSE_BY_VERSE&&((u=ge.current[f[0].verseNumber-1].current)==null||u.scrollIntoView()))}if(e.currentChapter){const f=ze(e.currentChapter);if(((S=e.subBookInfos)==null?void 0:S.length)>=0){const O=e.subBookInfos.find(G=>G.subBookId===e.currentSubBook);if(O){const G=O.chapterInfos.find(ne=>ne.chapterId===e.currentChapter);if(G){A(G.chapterNumber==0),d(G.verses);const ne=(p=G.chapterAudio)==null?void 0:p.find(de=>de.language==e.readingLanguage);v(ne)}else A(!!f),Se(e.currentChapter,(f==null?void 0:f.chapterNumber)==0)}else A(!!f),Se(e.currentChapter,(f==null?void 0:f.chapterNumber)==0)}else A(!!f),Se(e.currentChapter,(f==null?void 0:f.chapterNumber)==0)}C(!1)},[_,e.currentVerse,e.currentChapter,F]),i.useEffect(()=>{const s=()=>Xe(window.innerHeight);return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),i.useEffect(()=>{var u,S,p;const s=(u=t==null?void 0:t.chapterInfos)==null?void 0:u.find(f=>(f==null?void 0:f.chapterId)===e.currentChapter);(!((S=s==null?void 0:s.chapterIsPublished)!=null&&S[e.readingLanguage])||!((p=s==null?void 0:s.chapterIsPublished)!=null&&p[e.referenceLanguage]))&&ie.custom(f=>r.jsx(ae,{text:"Only one language is translated.",visible:f.visible})),c(s)},[e.readingLanguage,e.referenceLanguage,t]),i.useEffect(()=>{C(!0);let s=!1;if(e.userHistory&&e.userHistory.length>0&&e.userHistory.forEach(u=>{if(u.readChapterIds.includes(e.currentChapter)){s=!0,C(!1);return}}),!s){const u={chapterId:e.currentChapter};Qe.saveHistory(u).then(S=>{e.dispatch({type:Q.SET_USER_HISTORY,payload:{userHistories:S}}),C(!1)}).catch(S=>{S.status==401&&S.response.data.message==dt&&(ie.custom(p=>r.jsx(ae,{text:S.response.data.message,visible:p.visible})),ht.logout(),ve("/login")),C(!1)})}},[]),i.useEffect(()=>{var S,p;const s=(S=t==null?void 0:t.chapterInfos)==null?void 0:S.find(f=>f.chapterId==e.currentChapter),u=(p=s==null?void 0:s.verses)==null?void 0:p.find(f=>f.verseId==e.currentVerse);u!=null&&u.verseNumber?V((u==null?void 0:u.verseNumber)-1):V(1)},[e.currentVerse,t]),i.useEffect(()=>{be(qe),le(g)},[g]),i.useEffect(()=>{g<=1&&M(!0)},[g]),i.useEffect(()=>{(F==ce.ONLY_TRNSLATION||_)&&N(0),F!=ce.ONLY_TRNSLATION&&!_&&N(a?200:120)},[F,_]),i.useEffect(()=>{var s,u;F==ce.VERSE_BY_VERSE&&ee>=0&&((u=(s=ge.current[ee])==null?void 0:s.current)==null||u.scrollIntoView())},[ee,F,ge,o]),i.useEffect(()=>{var s,u;F==ce.VERSE_BY_VERSE&&ee>=0&&((u=(s=ge.current[0])==null?void 0:s.current)==null||u.scrollIntoView(),le(0))},[F,o,ge]);const Re=i.useCallback(s=>{var p;C(!0);const u=(p=e.bookmark)==null?void 0:p.find(f=>f.verseId===s),S={verseId:s};try{if(!u)en.saveBookmark(S).then(f=>{e.dispatch({type:Q.ADD_BOOKMARK,payload:{bookmark:f.bookmark}}),C(!1),ie.custom(O=>{var G,ne;return r.jsx(ae,{text:((ne=(G=x==null?void 0:x.texts.find(de=>de.variable=="Bookmark Saved"))==null?void 0:G.text)==null?void 0:ne[e.appLanguage])||"Bookmark saved",type:$e.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:O.visible})})}).catch(f=>{C(!1),f.status==401&&f.response.data.message==dt&&(ie.custom(O=>r.jsx(ae,{text:f.response.data.message,offset:e.showAudioSeekBar?125:70,visible:O.visible})),ht.logout(),ve("/login"))});else{const f=e.bookmark.filter(O=>O.verseId==s);f&&f.length>0&&en.deleteBookmark(f[0]._id).then(()=>{e.dispatch({type:Q.REMOVE_BOOKMARK,payload:{bookmarkId:u._id}}),C(!1),ie.custom(O=>{var G,ne;return r.jsx(ae,{text:((ne=(G=x==null?void 0:x.texts.find(de=>de.variable=="Bookmark Deleted"))==null?void 0:G.text)==null?void 0:ne[e.appLanguage])||"Bookmark deleted",type:$e.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:O.visible})})}).catch(O=>{C(!1),O.status==401&&O.response.data.message==dt&&(ie.custom(G=>r.jsx(ae,{text:O.response.data.message,type:$e.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:G.visible})),ht.logout(),ve("/login"))})}}catch(f){C(!1),ie.custom(O=>r.jsx(ae,{text:f,type:$e.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:O.visible}))}},[e]),Rt=i.useCallback((s,u,S)=>{let p=u+(S-s),f=Ce-150-p;p<Ie?(p=Ie,f=Ce-150-Ie):f<Ue&&(p=Ce-150-Ue),N(p)},[Ce]),Hn=s=>{const u=s.clientY,S=D,p=O=>Rt(u,S,O.clientY),f=()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",f)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",f)},Vn=s=>{const u=s.touches[0].clientY,S=D,p=O=>Rt(u,S,O.touches[0].clientY),f=()=>{document.removeEventListener("touchmove",p),document.removeEventListener("touchend",f)};document.addEventListener("touchmove",p),document.addEventListener("touchend",f)},Fn=s=>{e.dispatch({type:Q.SET_AUDIO_SEEK_BAR_STATUS,payload:{showAudioSeekBar:s}})},Wn=()=>{ve("/settings")},qn=()=>{ve("/sound-settings")},Un=()=>{e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:""}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:rt.READING}}),ve("/book")},Xn=()=>{var S,p;const s=(S=t==null?void 0:t.chapterInfos)==null?void 0:S.find(f=>f.chapterNumber==K),u=(p=s==null?void 0:s.verses)==null?void 0:p.find(f=>f.verseNumber==ee+1);e.dispatch({type:Q.SET_CURRENT_SUBBOOK,payload:{currentSubBook:t==null?void 0:t.subBookId}}),e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:s==null?void 0:s.chapterId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:u==null?void 0:u.verseId}}),ve("/subbookexplorer")},zn=i.useCallback(s=>{var f,O,G,ne,de,_e,Te,we;const u=z=>{var W;const Z=(W=t==null?void 0:t.chapterInfos)==null?void 0:W.find(Y=>Y.chapterNumber==z);Z&&(e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:Z.chapterId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:rt.READING}}),V(0),le(0),Z.chapterNumber==0?A(!0):A(!1),te(Z.chapterNumber),d(Z.verses),C(!1))},S=(z,Z)=>{if(z&&z.chapterInfos&&z.chapterInfos.length>0){const W=z.chapterInfos[0].chapterId;e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:W}}),e.dispatch({type:Q.SET_CURRENT_SUBBOOK,payload:{currentSubBook:z.subBookId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:rt.READING}}),V(1),le(1);const Y=Ye(W);n(z),Se(W,(Y==null?void 0:Y.chapterNumber)==0)}else ie.custom(W=>{var Y,ue,ye,Be;return r.jsx(ae,{text:Z?((ue=(Y=x==null?void 0:x.texts.find(Ae=>Ae.variable=="Last Chapter"))==null?void 0:Y.text)==null?void 0:ue[e.appLanguage])||"Last Chapter":((Be=(ye=x==null?void 0:x.texts.find(Ae=>Ae.variable=="First Chapter"))==null?void 0:ye.text)==null?void 0:Be[e.appLanguage])||"First Chapter",offset:e.showAudioSeekBar?125:70,visible:W.visible})}),C(!1)};if(((f=l==null?void 0:l.bookTitle)==null?void 0:f.en)=="Qur'an"||((O=l==null?void 0:l.bookTitle)==null?void 0:O.en)=="Zabur"){const z=((G=l==null?void 0:l.subBooks)==null?void 0:G.length)||1,Z=(t==null?void 0:t.subBookNumber)||1;if(s==Pe)if(Z+1<z){const W=l.subBooks.find(Y=>Y.subBookNumber==Z+1);e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),V(0),le(0),W&&S(W,!0)}else ie.custom(W=>{var Y,ue;return r.jsx(ae,{text:((ue=(Y=x==null?void 0:x.texts.find(ye=>ye.variable=="Last Chapter"))==null?void 0:Y.text)==null?void 0:ue[e.appLanguage])||"",offset:70,visible:W.visible})});else if(Z-1>0){const W=l.subBooks.find(Y=>Y.subBookNumber==Z-1);e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),V(0),le(0),W&&S(W,!1)}else ie.custom(W=>{var Y,ue;return r.jsx(ae,{text:((ue=(Y=x==null?void 0:x.texts.find(ye=>ye.variable=="First Chapter"))==null?void 0:Y.text)==null?void 0:ue[e.appLanguage])||"",offset:70,visible:W.visible})})}else{const z=((ne=t==null?void 0:t.chapterInfos)==null?void 0:ne.length)||1;if(s==Pe)if(K+1<=z-1){const Z=((_e=(de=t==null?void 0:t.chapterInfos)==null?void 0:de.find(W=>W.chapterNumber==K+1))==null?void 0:_e.chapterNumber)||2;e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),V(0),le(0),u(Z)}else ie.custom(Z=>{var W,Y;return r.jsx(ae,{text:((Y=(W=x==null?void 0:x.texts.find(ue=>ue.variable=="Last Chapter"))==null?void 0:W.text)==null?void 0:Y[e.appLanguage])||"Last Chapter",offset:70,visible:Z.visible})});else if(K-1>0){const Z=((we=(Te=t==null?void 0:t.chapterInfos)==null?void 0:Te.find(W=>W.chapterNumber==K-1))==null?void 0:we.chapterNumber)||1;e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),V(0),le(0),u(Z)}else ie.custom(Z=>{var W,Y;return r.jsx(ae,{text:((Y=(W=x==null?void 0:x.texts.find(ue=>ue.variable=="First Chapter"))==null?void 0:W.text)==null?void 0:Y[e.appLanguage])||"First Chapter",offset:70,visible:Z.visible})})}},[e.subBooks,t,K]),Yn=()=>_&&r.jsx(Ln,{showaudioseekbar:"false",children:r.jsx(kn,{verses:o,topVerseNumber:g,showTitle:T,prevPage:e.prevPage,height:ke,originPanelHeight:D,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:_,readingLanguage:e.readingLanguage,handleBookmark:Re})}),Kn=()=>{var s,u,S,p,f,O,G,ne,de,_e,Te,we,z,Z,W,Y,ue,ye,Be,Ae,At,Pt,Nt,jt,Bt,Ot,Mt,Dt,Ht,Vt,Ft,Wt,qt,Ut,Xt,zt,Yt;return!_&&r.jsxs(Ln,{showaudioseekbar:e.showAudioSeekBar?"true":"false",children:[F==ce.SPLIT_PANEL&&!!((s=m==null?void 0:m.chapterIsPublished)!=null&&s[e.referenceLanguage])&&r.jsxs(r.Fragment,{children:[r.jsx(Xr,{verses:o,topVerseNumber:g,prevPage:e.prevPage,height:D,referenceLanguage:e.referenceLanguage}),r.jsx(_i,{style:{backgroundColor:fe},onMouseDown:Hn,onTouchStart:Vn})]}),(F==ce.ONLY_TRNSLATION||F==ce.SPLIT_PANEL)&&((u=m==null?void 0:m.chapterIsPublished)==null?void 0:u[e.readingLanguage])&&r.jsx(kn,{subBookInfo:t,chapterNumber:K,verses:o,topVerseNumber:g,showTitle:T,prevPage:e.prevPage,height:ke,originPanelHeight:D,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:_,readingLanguage:e.readingLanguage,isSpecialBook:((S=l==null?void 0:l.bookTitle)==null?void 0:S.en)=="Qur'an"||((p=l==null?void 0:l.bookTitle)==null?void 0:p.en)=="Zabur",originTitle:((f=l==null?void 0:l.bookTitle)==null?void 0:f.en)=="Injil"?((ne=(G=(O=j==null?void 0:j.texts)==null?void 0:O.find(re=>{var me;return re.variable===((me=t==null?void 0:t.subBookTitle)==null?void 0:me.origin)}))==null?void 0:G.text)==null?void 0:ne[e.readingLanguage])||((de=t==null?void 0:t.subBookTitle)==null?void 0:de.en):((_e=l==null?void 0:l.bookTitle)==null?void 0:_e.en)=="Qur'an"?((Te=t==null?void 0:t.subBookTitle)==null?void 0:Te.transliteration)||((we=t==null?void 0:t.subBookTitle)==null?void 0:we.en):((z=l==null?void 0:l.bookTitle)==null?void 0:z.en)=="Tawrat"?((Y=(W=(Z=P==null?void 0:P.texts)==null?void 0:Z.find(re=>{var me;return re.variable===((me=t==null?void 0:t.subBookTitle)==null?void 0:me.en)}))==null?void 0:W.text)==null?void 0:Y[e.readingLanguage])||((ue=t==null?void 0:t.subBookTitle)==null?void 0:ue.en):((ye=t==null?void 0:t.subBookTitle)==null?void 0:ye.transliteration)||((Be=t==null?void 0:t.subBookTitle)==null?void 0:Be.en),ordinary:((Pt=(At=(Ae=L==null?void 0:L.texts)==null?void 0:Ae.find(re=>re.variable==`The ${Zt(K||1)}`))==null?void 0:At.text)==null?void 0:Pt[e.readingLanguage])||((Bt=(jt=(Nt=L==null?void 0:L.texts)==null?void 0:Nt.find(re=>re.variable==`The ${Zt(K||1)}`))==null?void 0:jt.text)==null?void 0:Bt.en)||"The 1st",bookUnit:((Ot=l==null?void 0:l.bookTitle)==null?void 0:Ot.en)=="Injil"||((Mt=l==null?void 0:l.bookTitle)==null?void 0:Mt.en)=="Tawrat"?((Vt=(Ht=(Dt=L==null?void 0:L.texts)==null?void 0:Dt.find(re=>re.variable==="Chapter"))==null?void 0:Ht.text)==null?void 0:Vt[e.readingLanguage])||"Chapter":((Ft=l==null?void 0:l.bookTitle)==null?void 0:Ft.en)=="Qur'an"?((Ut=(qt=(Wt=L==null?void 0:L.texts)==null?void 0:Wt.find(re=>re.variable==="Surah"))==null?void 0:qt.text)==null?void 0:Ut[e.readingLanguage])||"Surah":((Yt=(zt=(Xt=L==null?void 0:L.texts)==null?void 0:Xt.find(re=>re.variable==="Psalm"))==null?void 0:zt.text)==null?void 0:Yt[e.readingLanguage])||"Psalm",handleBookmark:Re}),F==ce.VERSE_BY_VERSE&&r.jsx(Ti,{children:o.map((re,me)=>{var Kt;return r.jsxs(wi,{ref:ge.current[me],children:[r.jsx(wt,{verse:re,refer:xe.current[me],index:me,referenceLanguage:e.referenceLanguage}),r.jsx(kt,{refer:xe.current[me],verse:re,index:me,readingLanguage:e.readingLanguage,isLoggedIn:!!e.currentUser,handleBookmark:Re,isExistingInBookmark:((Kt=e.bookmark.filter($n=>$n.verseId==re.verseId))==null?void 0:Kt.length)>0})]},me)})})]})},Gn=()=>{var s,u,S,p;return r.jsx(pi,{src:h,bookTitle:(l==null?void 0:l.bookTitle.en)||"",bookImage:(l==null?void 0:l.bookImage)||"",subBookTitle:((s=t==null?void 0:t.subBookTitle)==null?void 0:s.en)||"",subBookNumber:(t==null?void 0:t.subBookNumber)||0,chapterNumber:K,showAudioSeekBar:e.showAudioSeekBar,readingLanguage:e.readingLanguage,verses:o,isIntro:_,terms:x||{pageId:"",pageNumber:0,pageTitle:"",isCompleted:{},isPublished:{},texts:[]},subBookTerms:(((u=l==null?void 0:l.bookTitle)==null?void 0:u.en)==="Injil"?j:((S=l==null?void 0:l.bookTitle)==null?void 0:S.en)==="Qur'an"?$:((p=l==null?void 0:l.bookTitle)==null?void 0:p.en)==="Zabur"?he:P)||{pageId:"",pageNumber:0,pageTitle:"",isCompleted:{},isPublished:{},texts:[]},setAudioSeekBarStatus:Fn,moveToSettingsPage:Wn,moveToSoundSettingPage:qn,moveToIndexPage:Un,moveToSubBookExplorer:Xn,handleNavigateBtn:zn})};return r.jsxs(Ci,{style:{backgroundColor:se},children:[Yn(),Kn(),Gn(),R&&r.jsx(dr,{})]})}const ki=e=>({bookmark:e.books.bookmark,bookInfos:e.books.bookInfos,currentBook:e.pageStatus.currentBook,appLanguage:e.user.appLanguage,readingLanguage:e.user.readingLanguage,referenceLanguage:e.user.referenceLanguage,prevPage:e.pageStatus.prevPage,subBooks:e.books.subBooks,subBookInfos:e.books.subBookInfos,chapterInfos:e.books.chapterInfos,currentSubBook:e.pageStatus.currentSubBook,currentChapter:e.pageStatus.currentChapter,currentVerse:e.pageStatus.currentVerse,userHistory:e.books.userHistory,currentUser:e.user.currentUser,showAudioSeekBar:e.pageStatus.showAudioSeekBar,terms:e.terms.terms}),Vi=sr(ki)(Ei);export{Vi as default};
