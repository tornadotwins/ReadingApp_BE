import{b as o,j as n,a3 as q,aw as bn,a5 as ae,ay as Le,aK as Be,aL as ve,aM as Ze,as as Ne,aC as Pe,X as cn,a8 as pn,au as ot,ab as Rt,a9 as Ue,aN as qe,aO as Ee,aP as At,aQ as yn,aR as Cn,aS as Lt,at as _n,aT as En,aB as st,aA as Xe}from"./index-8gCEmbCj.js";import{S as xe,g as Se,aG as wn,aH as In,aI as Tn,aJ as kn,s as _,B as A,aK as tt,J as dn,aL as Rn,k as re,c as An,u as Ln,d as Q}from"./App-DPlbeF9h.js";import{I as U,T as K,c as Bt}from"./index-DSZpQ-v5.js";import{p as Bn}from"./index-DyNkPDi5.js";import{d as Pt,A as Pn}from"./index-BBWlZXO0.js";import{C as ie}from"./index-CGRClRMk.js";import{L as Nn}from"./index-C8brs7m1.js";import{a as lt}from"./auth.service-Er4hmgfi.js";import{b as ze}from"./book.service-k-hJ82ig.js";import{b as Nt}from"./bookmark.service-B5BLtzA6.js";import"./index-vG1oa1N8.js";import"./axios-upsvKRUO.js";function jn(e){const{theme:i}=o.useContext(xe),{buttonColor:a,buttonTextColor:u}=Se(i);return n.jsx(wn,{ref:e.refer,"data-id":e.dataId,backgroundColor:a,children:n.jsxs(In,{progresscolor:u,children:[n.jsx(Tn,{variant:"determinate",value:e.progress,thickness:2}),n.jsx(kn,{src:i==q.EASY_OCEAN?U.bookmark2_white:U.bookmark2_default})]})})}var hn={};function On(e){if(e&&e.__esModule)return e;var i={};if(e!=null){for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};u.get||u.set?Object.defineProperty(i,a,u):i[a]=e[a]}}return i.default=e,i}var fn=On,fe={},ut,jt;function Mn(){if(jt)return ut;jt=1;function e(i){return i&&i.__esModule?i:{default:i}}return ut=e,ut}var Ye,Ot;function Dn(){if(Ot)return Ye;Ot=1;function e(){return Ye=e=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var u=arguments[a];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(i[d]=u[d])}return i},e.apply(this,arguments)}return Ye=e,Ye}var ct,Mt;function Hn(){if(Mt)return ct;Mt=1;function e(i,a){if(i==null)return{};var u={},d=Object.keys(i),g,N;for(N=0;N<d.length;N++)g=d[N],!(a.indexOf(g)>=0)&&(u[g]=i[g]);return u}return ct=e,ct}var dt,Dt;function Fn(){if(Dt)return dt;Dt=1;var e=Hn();function i(a,u){if(a==null)return{};var d=e(a,u),g,N;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(a);for(N=0;N<w.length;N++)g=w[N],!(u.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(a,g)&&(d[g]=a[g])}return d}return dt=i,dt}var ht,Ht;function Vn(){if(Ht)return ht;Ht=1;function e(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}return ht=e,ht}var ft,Ft;function Wn(){if(Ft)return ft;Ft=1;function e(a,u){for(var d=0;d<u.length;d++){var g=u[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(a,g.key,g)}}function i(a,u,d){return u&&e(a.prototype,u),d&&e(a,d),a}return ft=i,ft}var we,Vt;function Un(){if(Vt)return we;Vt=1;function e(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(d){return typeof d}:e=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},e(a)}function i(a){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?we=i=function(d){return e(d)}:we=i=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":e(d)},i(a)}return we=i,we}var gt,Wt;function qn(){if(Wt)return gt;Wt=1;function e(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}return gt=e,gt}var xt,Ut;function Xn(){if(Ut)return xt;Ut=1;var e=Un(),i=qn();function a(u,d){return d&&(e(d)==="object"||typeof d=="function")?d:i(u)}return xt=a,xt}var Ke,qt;function zn(){if(qt)return Ke;qt=1;function e(i){return Ke=e=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},e(i)}return Ke=e,Ke}var Ge,Xt;function Yn(){if(Xt)return Ge;Xt=1;function e(i,a){return Ge=e=Object.setPrototypeOf||function(d,g){return d.__proto__=g,d},e(i,a)}return Ge=e,Ge}var mt,zt;function Kn(){if(zt)return mt;zt=1;var e=Yn();function i(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),u&&e(a,u)}return mt=i,mt}var vt,Yt;function gn(){if(Yt)return vt;Yt=1;var e=function(){};return vt=e,vt}var St={},bt,Kt;function nt(){if(Kt)return bt;Kt=1;function e(i){return i&&i.__esModule?i:{default:i}}return bt=e,bt}var Ie={},Gt;function Gn(){if(Gt)return Ie;Gt=1;var e=nt();Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.default=void 0;var i=e(o);e(gn());var a=function(g){g.index;var N=g.children;i.default.Children.count(N)},u=a;return Ie.default=u,Ie}var $e={},Te={},$t;function xn(){if($t)return Te;$t=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0;var e={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3};return Te.default=e,Te}var Qt;function $n(){if(Qt)return $e;Qt=1;var e=nt();Object.defineProperty($e,"__esModule",{value:!0}),$e.default=u;var i=e(o),a=e(xn());function u(d){var g=d.children,N=d.startIndex,w=d.startX,B=d.pageX,M=d.viewLength,T=d.resistance,O=i.default.Children.count(g)-1,x=N+(w-B)/M,H;return T?x<0?x=Math.exp(x*a.default.RESISTANCE_COEF)-1:x>O&&(x=O+1-Math.exp((O-x)*a.default.RESISTANCE_COEF)):x<0?(x=0,H=(x-N)*M+B):x>O&&(x=O,H=(x-N)*M+B),{index:x,startX:H}}return $e}var ke={},Zt;function Qn(){if(Zt)return ke;Zt=1;var e=nt();Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0;var i=e(o),a=function(g,N){var w=!1,B=function(E){return E?E.key:"empty"};if(g.children.length&&N.children.length){var M=i.default.Children.map(g.children,B),T=M[g.index];if(T!=null){var O=i.default.Children.map(N.children,B),x=O[N.index];T===x&&(w=!0)}}return w},u=a;return ke.default=u,ke}var Re={},Jt;function Zn(){if(Jt)return Re;Jt=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=void 0;function e(a,u){var d=a%u;return d<0?d+u:d}var i=e;return Re.default=i,Re}var en;function Jn(){return en||(en=1,function(e){var i=nt();Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"checkIndexBounds",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"computeIndex",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"constant",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"getDisplaySameSlide",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return N.default}});var a=i(Gn()),u=i($n()),d=i(xn()),g=i(Qn()),N=i(Zn())}(St)),St}var tn;function er(){if(tn)return fe;tn=1;var e=fn,i=Mn();Object.defineProperty(fe,"__esModule",{value:!0}),fe.getDomTreeShapes=R,fe.findNativeHandler=Z,fe.default=fe.SwipeableViewsContext=void 0;var a=i(Dn()),u=i(Fn()),d=i(Vn()),g=i(Wn()),N=i(Xn()),w=i(zn()),B=i(Kn()),M=e(o);i(Bn),i(gn());var T=Jn();function O(v,D,b,t){return v.addEventListener(D,b,t),{remove:function(){v.removeEventListener(D,b,t)}}}var x={container:{direction:"ltr",display:"flex",willChange:"transform"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},H={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(D){return"translate(".concat(-D,"%, 0)")},"x-reverse":function(D){return"translate(".concat(D,"%, 0)")},y:function(D){return"translate(0, ".concat(-D,"%)")},"y-reverse":function(D){return"translate(0, ".concat(D,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function E(v,D){var b=D.duration,t=D.easeFunction,r=D.delay;return"".concat(v," ").concat(b," ").concat(t," ").concat(r)}function X(v,D){var b=H.rotationMatrix[D];return{pageX:b.x[0]*v.pageX+b.x[1]*v.pageY,pageY:b.y[0]*v.pageX+b.y[1]*v.pageY}}function f(v){return v.touches=[{pageX:v.pageX,pageY:v.pageY}],v}function R(v,D){for(var b=[];v&&v!==D&&v!==document.body&&!v.hasAttribute("data-swipeable");){var t=window.getComputedStyle(v);t.getPropertyValue("position")==="absolute"||t.getPropertyValue("overflow-x")==="hidden"?b=[]:(v.clientWidth>0&&v.scrollWidth>v.clientWidth||v.clientHeight>0&&v.scrollHeight>v.clientHeight)&&b.push({element:v,scrollWidth:v.scrollWidth,scrollHeight:v.scrollHeight,clientWidth:v.clientWidth,clientHeight:v.clientHeight,scrollLeft:v.scrollLeft,scrollTop:v.scrollTop}),v=v.parentNode}return b}var W=null;function Z(v){var D=v.domTreeShapes,b=v.pageX,t=v.startX,r=v.axis;return D.some(function(k){var h=b>=t;(r==="x"||r==="y")&&(h=!h);var C=Math.round(k[H.scrollPosition[r]]),F=C>0,z=C+k[H.clientLength[r]]<k[H.scrollLength[r]];return h&&z||!h&&F?(W=k.element,!0):!1})}var P=M.createContext();fe.SwipeableViewsContext=P;var j=function(v){(0,B.default)(D,v);function D(b){var t;return(0,d.default)(this,D),t=(0,N.default)(this,(0,w.default)(D).call(this,b)),t.rootNode=null,t.containerNode=null,t.ignoreNextScrollEvents=!1,t.viewLength=0,t.startX=0,t.lastX=0,t.vx=0,t.startY=0,t.isSwiping=void 0,t.started=!1,t.startIndex=0,t.transitionListener=null,t.touchMoveListener=null,t.activeSlide=null,t.indexCurrent=null,t.firstRenderTimeout=null,t.setRootNode=function(r){t.rootNode=r},t.setContainerNode=function(r){t.containerNode=r},t.setActiveSlide=function(r){t.activeSlide=r,t.updateHeight()},t.handleSwipeStart=function(r){var k=t.props.axis,h=X(r.touches[0],k);t.viewLength=t.rootNode.getBoundingClientRect()[H.length[k]],t.startX=h.pageX,t.lastX=h.pageX,t.vx=0,t.startY=h.pageY,t.isSwiping=void 0,t.started=!0;var C=window.getComputedStyle(t.containerNode),F=C.getPropertyValue("-webkit-transform")||C.getPropertyValue("transform");if(F&&F!=="none"){var z=F.split("(")[1].split(")")[0].split(","),y=window.getComputedStyle(t.rootNode),s=X({pageX:parseInt(z[4],10),pageY:parseInt(z[5],10)},k);t.startIndex=-s.pageX/(t.viewLength-parseInt(y.paddingLeft,10)-parseInt(y.paddingRight,10))||0}},t.handleSwipeMove=function(r){if(!t.started){t.handleTouchStart(r);return}if(!(W!==null&&W!==t.rootNode)){var k=t.props,h=k.axis,C=k.children,F=k.ignoreNativeScroll,z=k.onSwitching,y=k.resistance,s=X(r.touches[0],h);if(t.isSwiping===void 0){var p=Math.abs(s.pageX-t.startX),S=Math.abs(s.pageY-t.startY),G=p>S&&p>T.constant.UNCERTAINTY_THRESHOLD;if(!y&&(h==="y"||h==="y-reverse")&&(t.indexCurrent===0&&t.startX<s.pageX||t.indexCurrent===M.Children.count(t.props.children)-1&&t.startX>s.pageX)){t.isSwiping=!1;return}if(p>S&&r.preventDefault(),G===!0||S>T.constant.UNCERTAINTY_THRESHOLD){t.isSwiping=G,t.startX=s.pageX;return}}if(t.isSwiping===!0){r.preventDefault(),t.vx=t.vx*.5+(s.pageX-t.lastX)*.5,t.lastX=s.pageX;var J=(0,T.computeIndex)({children:C,resistance:y,pageX:s.pageX,startIndex:t.startIndex,startX:t.startX,viewLength:t.viewLength}),le=J.index,ne=J.startX;if(W===null&&!F){var he=R(r.target,t.rootNode),se=Z({domTreeShapes:he,startX:t.startX,pageX:s.pageX,axis:h});if(se)return}ne?t.startX=ne:W===null&&(W=t.rootNode),t.setIndexCurrent(le);var me=function(){z&&z(le,"move")};(t.state.displaySameSlide||!t.state.isDragging)&&t.setState({displaySameSlide:!1,isDragging:!0},me),me()}}},t.handleSwipeEnd=function(){if(W=null,!!t.started&&(t.started=!1,t.isSwiping===!0)){var r=t.state.indexLatest,k=t.indexCurrent,h=r-k,C;Math.abs(t.vx)>t.props.threshold?t.vx>0?C=Math.floor(k):C=Math.ceil(k):Math.abs(h)>t.props.hysteresis?C=h>0?Math.floor(k):Math.ceil(k):C=r;var F=M.Children.count(t.props.children)-1;C<0?C=0:C>F&&(C=F),t.setIndexCurrent(C),t.setState({indexLatest:C,isDragging:!1},function(){t.props.onSwitching&&t.props.onSwitching(C,"end"),t.props.onChangeIndex&&C!==r&&t.props.onChangeIndex(C,r,{reason:"swipe"}),k===r&&t.handleTransitionEnd()})}},t.handleTouchStart=function(r){t.props.onTouchStart&&t.props.onTouchStart(r),t.handleSwipeStart(r)},t.handleTouchEnd=function(r){t.props.onTouchEnd&&t.props.onTouchEnd(r),t.handleSwipeEnd(r)},t.handleMouseDown=function(r){t.props.onMouseDown&&t.props.onMouseDown(r),r.persist(),t.handleSwipeStart(f(r))},t.handleMouseUp=function(r){t.props.onMouseUp&&t.props.onMouseUp(r),t.handleSwipeEnd(f(r))},t.handleMouseLeave=function(r){t.props.onMouseLeave&&t.props.onMouseLeave(r),t.started&&t.handleSwipeEnd(f(r))},t.handleMouseMove=function(r){t.props.onMouseMove&&t.props.onMouseMove(r),t.started&&t.handleSwipeMove(f(r))},t.handleScroll=function(r){if(t.props.onScroll&&t.props.onScroll(r),r.target===t.rootNode){if(t.ignoreNextScrollEvents){t.ignoreNextScrollEvents=!1;return}var k=t.state.indexLatest,h=Math.ceil(r.target.scrollLeft/r.target.clientWidth)+k;t.ignoreNextScrollEvents=!0,r.target.scrollLeft=0,t.props.onChangeIndex&&h!==k&&t.props.onChangeIndex(h,k,{reason:"focus"})}},t.updateHeight=function(){if(t.activeSlide!==null){var r=t.activeSlide.children[0];r!==void 0&&r.offsetHeight!==void 0&&t.state.heightLatest!==r.offsetHeight&&t.setState({heightLatest:r.offsetHeight})}},t.state={indexLatest:b.index,isDragging:!1,renderOnlyActive:!b.disableLazyLoading,heightLatest:0,displaySameSlide:!0},t.setIndexCurrent(b.index),t}return(0,g.default)(D,[{key:"componentDidMount",value:function(){var t=this;this.transitionListener=O(this.containerNode,"transitionend",function(r){r.target===t.containerNode&&t.handleTransitionEnd()}),this.touchMoveListener=O(this.rootNode,"touchmove",function(r){t.props.disabled||t.handleSwipeMove(r)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){t.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var r=t.index;typeof r=="number"&&r!==this.props.index&&(this.setIndexCurrent(r),this.setState({displaySameSlide:(0,T.getDisplaySameSlide)(this.props,t),indexLatest:r}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var t=this;return{slideUpdateHeight:function(){t.updateHeight()}}}},{key:"setIndexCurrent",value:function(t){if(!this.props.animateTransitions&&this.indexCurrent!==t&&this.handleTransitionEnd(),this.indexCurrent=t,this.containerNode){var r=this.props.axis,k=H.transform[r](t*100);this.containerNode.style.WebkitTransform=k,this.containerNode.style.transform=k}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var t=this,r=this.props;r.action;var k=r.animateHeight,h=r.animateTransitions,C=r.axis,F=r.children,z=r.containerStyle,y=r.disabled;r.disableLazyLoading;var s=r.enableMouseEvents;r.hysteresis,r.ignoreNativeScroll,r.index,r.onChangeIndex,r.onSwitching,r.onTransitionEnd,r.resistance;var p=r.slideStyle,S=r.slideClassName,G=r.springConfig,J=r.style;r.threshold;var le=(0,u.default)(r,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"]),ne=this.state,he=ne.displaySameSlide,se=ne.heightLatest,me=ne.indexLatest,je=ne.isDragging,be=ne.renderOnlyActive,Oe=y?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},rt=!y&&s?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},Me=(0,a.default)({},x.slide,p),pe,ye;if(je||!h||he)pe="all 0s ease 0s",ye="all 0s ease 0s";else if(pe=E("transform",G),ye=E("-webkit-transform",G),se!==0){var De=", ".concat(E("height",G));pe+=De,ye+=De}var Ce={height:null,WebkitFlexDirection:H.flexDirection[C],flexDirection:H.flexDirection[C],WebkitTransition:ye,transition:pe};if(!be){var He=H.transform[C](this.indexCurrent*100);Ce.WebkitTransform=He,Ce.transform=He}return k&&(Ce.height=se),M.createElement(P.Provider,{value:this.getSwipeableViewsContext()},M.createElement("div",(0,a.default)({ref:this.setRootNode,style:(0,a.default)({},H.root[C],J)},le,Oe,rt,{onScroll:this.handleScroll}),M.createElement("div",{ref:this.setContainerNode,style:(0,a.default)({},Ce,x.container,z),className:"react-swipeable-view-container"},M.Children.map(F,function(it,Fe){if(be&&Fe!==me)return null;var Ve,We=!0;return Fe===me&&(We=!1,k&&(Ve=t.setActiveSlide,Me.overflowY="hidden")),M.createElement("div",{ref:Ve,style:Me,className:S,"aria-hidden":We,"data-swipeable":"true"},it)}))))}}]),D}(M.Component);j.displayName="ReactSwipableView",j.propTypes={},j.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var oe=j;return fe.default=oe,fe}(function(e){var i=fn;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"SwipeableViewsContext",{enumerable:!0,get:function(){return a.SwipeableViewsContext}});var a=i(er())})(hn);const tr=bn(hn),nr=_(A)({width:"100%",margin:"0px"}),rr=_(A)({margin:"0px",padding:"0px",position:"relative"}),ir=_(A)({width:"100%",height:"100%",margin:"0px",padding:"0px",position:"relative"}),mn=_(tr)(({scrollcolor:e})=>({width:"100%",height:"100%",marginBottom:"8px",padding:"14px 0px 20px 0px","::-webkit-scrollbar-thumb":{background:"red"},"::-webkit-scrollbar-thumb: hover":{backgroundColor:e,opacity:"1"},"& .react-swipeable-view-container":{height:"100%"}})),Je=_(A)({width:"100%",padding:"0px 14px","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),vn=_(A)({height:"10px",width:"100%",position:"absolute",bottom:"0",display:"flex",justifyContent:"center","& :last-child":{marginRight:"0px"}}),et=_(A)(({active:e,linecolor:i})=>({borderTop:`1px solid ${i}`,width:e=="true"?"20px":e=="false"?"10px":"0px",color:"black",marginRight:"5px",marginTop:"5px"})),ar=_(A)(({scrollbarcolor:e})=>({width:"100%",height:"100%","::-webkit-scrollbar-thumb":{backgroundColor:"red"},"::-webkit-scrollbar-track":{backgroundColor:"transparent"},scrollbarWidth:"auto",scrollbarColor:`${e} transparent`})),nn=_(A)({width:"100%",padding:"0px",margin:"0px"}),or=_(A)({width:"100%",margin:"auto",padding:"20px 0px","& .MuiBox-root":{textWrap:"wrap"}}),sr=_(A)({width:"100%",height:"100%",position:"relative",overflowX:"hidden",padding:"0px 15px",scrollbarGutter:"stable both-edges"}),rn=_(A)({}),an=_("img")({width:"100%",marginTop:"20px"}),lr=_(A)({width:"100%",marginTop:"20px","& .MuiAccordion-gutters":{width:"100%"},"& .MuiAccordion-root .MuiAccordionSummary-root .Mui-expanded":{margin:"12px 0px !important"}}),ur=_(A)({width:"100%","& .MuiBox-root":{padding:"0px "}}),cr=_(A)({width:"100%",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"}),dr=_(A)({width:"100%",padding:"20px 0px",position:"relative",display:"flex",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),hr=_(A)({width:"100%",margin:"0px",position:"relative",display:"flex",flexDirection:"column",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}});_(A)({width:"40px",height:"100%",backgroundColor:"#FFAA5D",justifyContent:"center",alignItems:"center"});_(A)({width:"20px",height:"50%",position:"relative"});function pt(e){var O,x,H,E;const[i,a]=o.useState(0),{theme:u,textSize:d,referenceLanguage:g,showQuranReferences:N,displayType:w}=o.useContext(xe),{topTextColor:B,backgroundColor:M}=Se(u),T=(x=(O=e==null?void 0:e.verse)==null?void 0:O.verseReference)==null?void 0:x.ref;return w==ae.VERSE_BY_VERSE?n.jsxs(rr,{children:[n.jsxs(mn,{style:{backgroundColor:M},scrollcolor:B,enableMouseEvents:!0,disabled:!N,onSwitching:X=>a(X),children:[n.jsx(Je,{children:n.jsx(nn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,children:n.jsx(K,{fontFamily:"Inter",fontSize:d,lineHeight:d+20,fontWeight:"700",color:B,dataIndex:e.index.toString(),language:g,direction:g==Le?"rtl":"ltr",children:(H=e.verse.verseText)==null?void 0:H[g]})})}),n.jsx(Je,{children:T&&T.map((X,f)=>n.jsx(K,{fontFamily:"Inter",fontWeight:"700",fontSize:d,lineHeight:d+20,color:B,children:X},f))})]}),T&&T.length>0&&N&&n.jsxs(vn,{children:[n.jsx(et,{active:i==0?"true":"false",linecolor:B}),n.jsx(et,{active:i==1?"true":"false",linecolor:B})]})]}):n.jsx(nn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,style:{backgroundColor:M},children:n.jsx(K,{fontFamily:"Inter",fontSize:d,lineHeight:d+20,fontWeight:"700",color:B,dataIndex:e.index.toString(),language:g,direction:g==Le?"rtl":"ltr",onTouchStart:()=>e.onTouchStart&&e.onTouchStart(e.verse.verseReference.ref),onMouseDown:()=>e.onMouseDown&&e.onMouseDown(e.verse.verseReference.ref),children:(E=e.verse.verseText)==null?void 0:E[g]})})}function fr(e){var W,Z;const[i,a]=o.useState([]),[u,d]=o.useState(0),{scrollTopVerseIndex:g,setScrollTopVerseIndex:N,setHiddenTopVersePercentage:w,activeScroll:B,setActiveScroll:M}=o.useContext(tt),T=o.useRef([]);T.current=(W=e.verses)==null?void 0:W.map((P,j)=>T.current[j]??o.createRef());const{theme:O,textSize:x,showQuranReferences:H,displayType:E}=o.useContext(xe),{backgroundColor:X,topTextColor:f}=Se(O);o.useEffect(()=>{var P;if(((P=e.verses)==null?void 0:P.length)>0){const j=T.current[g-1];j!=null&&j.current&&j.current.scrollIntoView(),N(0),w(0)}},[e.verses]),o.useEffect(()=>{var P;if(E==ae.SPLIT_PANEL&&g>=0&&(B==Be||B==ve)){const j=T.current[Number(g)];(P=j==null?void 0:j.current)==null||P.scrollIntoView()}},[g,E]),o.useEffect(()=>{var P;T.current[0]&&B!=Ze&&B!=Be&&B!=ve&&B!=Ne&&e.prevPage!=Pe.SUBBOOKEXPLORER&&((P=T.current[0].current)==null||P.scrollIntoView())},[g]);const R=P=>{if(E==ae.SPLIT_PANEL){M(Ze);const j=P.currentTarget.getBoundingClientRect().top,oe=P.currentTarget.clientHeight;let v=-1,D=1/0;if(T.current.forEach((b,t)=>{if(b.current){const r=b.current.getBoundingClientRect().top,k=b.current.getBoundingClientRect().bottom,h=r-j;k>j&&r<j+oe&&Math.abs(h)<D&&(D=Math.abs(h),v=t)}}),v!==-1){N(v);const b=T.current[v];if(b.current){const t=b.current.getBoundingClientRect().top,r=b.current.clientHeight,k=Math.max(0,Math.min(100,(j-t)/r*100));w(k)}}}};return n.jsx(nr,{style:{height:e.height},children:E===ae.SPLIT_PANEL?n.jsxs(ir,{children:[n.jsxs(mn,{style:{backgroundColor:X},scrollcolor:f,enableMouseEvents:!0,disabled:!H,onScrollCapture:B!=Be?P=>R(P):()=>{},onSwitching:P=>d(P),children:[n.jsx(Je,{children:(Z=e.verses)==null?void 0:Z.map((P,j)=>n.jsx(pt,{refer:T.current[j],verse:P,index:j,onMouseDown:a,onTouchStart:a},j))}),n.jsx(Je,{children:i&&i.map((P,j)=>n.jsx(K,{fontFamily:"Inter",fontWeight:"700",fontSize:x-2,color:f,children:P},j))})]}),H&&n.jsxs(vn,{style:{background:X,bottom:"5px"},children:[n.jsx(et,{active:u===0?"true":"false",linecolor:f}),n.jsx(et,{active:u===1?"true":"false",linecolor:f})]})]}):n.jsx(ar,{style:{backgroundColor:X},scrollbarcolor:f,children:e.verses.map((P,j)=>n.jsx(pt,{refer:T.current[j],verse:P,index:j},j))})})}var _t={},gr=cn;Object.defineProperty(_t,"__esModule",{value:!0});var yt=_t.default=void 0,xr=gr(dn()),mr=n;yt=_t.default=(0,xr.default)((0,mr.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft");var Et={},vr=cn;Object.defineProperty(Et,"__esModule",{value:!0});var Sn=Et.default=void 0,Sr=vr(dn()),br=n;Sn=Et.default=(0,Sr.default)((0,br.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"SettingsOutlined");const pr=_(A)({position:"fixed",zIndex:"3",bottom:"0px",width:"100%",height:"150px",overflow:"hidden"}),yr=_(A)({position:"relative",display:"flex",justifyContent:"center","& .MuiBox-root":{alignContent:"center"}}),Cr=_("img")({width:"100%",position:"absolute",top:"20px"}),_r=_(A)({width:"100%",maxWidth:"700px",padding:"0px 20px",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:"1",paddingTop:"20px",alignContent:"center","@media (min-width: 600px)":{paddingTop:"25px"}}),Er=_(A)({position:"relative",bottom:"-75px",height:"100px",display:"flex",alignItems:"center",justifyContent:"space-between"}),wr=_("img")({width:"100%",position:"absolute","@media (min-width: 750px)":{top:"0px"},"@media (min-width: 1050px)":{top:"-10px"},"@media (min-width: 1450px)":{top:"-20px"}});_(A)(({readingcontrol:e})=>({height:"100px",width:"100%",maxWidth:"700px",margin:"auto",display:"flex",flexDirection:e==pn.LEFT_HANDED?"row":"row-reverse",justifyContent:"space-between",alignItems:"center",padding:"0px 15px","@media (min-width: 1075px)":{width:"80%",margin:"auto"}}));const Ir=_(A)(({isintro:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer",marginLeft:e=="true"?"10px":"0px"})),Tr=_(A)({backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 10px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2,height:"40px","& .MuiBox-root":{width:"70px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),on=_("img")({width:"15px",marginRight:"10px"}),kr=_(A)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer"}),Rr=_(A)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px",height:"40px"}),Qe=_(A)({width:"24px",height:"24px",cursor:"pointer"}),Ar=_(A)({width:"25px"}),Lr=_(A)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",minWidth:"200px",maxWidth:"350px",boxSizing:"border-box",cursor:"pointer","@media (max-width: 360px)":{width:"220px"}}),Br=_(A)({display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",boxSizing:"border-box",borderRadius:"20px",padding:"5px",height:"40px",width:"100%","@media (max-width: 360px)":{width:"200px"}}),Pr=_(A)({minWidth:"170px",maxWidth:"320px",display:"flex",justifyContent:"space-between",alignItems:"center","@media (max-width: 360px)":{width:"150px",minWidth:"140px"}}),Nr=_(A)({display:"flex",alignItems:"center",width:"150px",marginLeft:"10px","& .MuiBox-root":{width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","@media (max-width: 360px)":{width:"90px"}},"@media (max-width: 360px)":{width:"110px"}}),jr=_(A)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer","& :nth-of-type(2)":{marginRight:"10px"}}),Or=_(A)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 20px",width:"50px",height:"40px"}),Mr=_(A)({width:"40px",height:"40px",marginRight:"10px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"50%",cursor:"pointer","& svg":{fill:"#093C54 !important"}});_(A)({width:"90px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px","@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}});const Dr=_(A)({display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"10px",marginBottom:"20px",cursor:"pointer"}),Ae=_("img")({width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",zIndex:"1"});_(A)(({underlinecolor:e})=>({width:"90px",textDecoration:"underline",textDecorationColor:e,textUnderlineOffset:"3px",zIndex:"1",cursor:"pointer",marginBottom:"20px","& .MuiBox-root":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}}));const Hr=_(A)({width:"100%",height:"60px",overflow:"hidden",padding:"0 10px"}),Fr=_(Rn)(({barcolor:e})=>({color:e,opacity:"1",height:"5px","& .MuiSlider-thumb":{width:"13.25px",height:"14px",color:e,transition:"0.3s cubic-bezier(.47,1.64,.41,.8)","&::before":{boxShadow:"0 2px 12px 0 rgba(0,0,0,0.4)"},"&:hover, &.Mui-focusVisible":{boxShadow:"0px 0px 0px 8px rgb(0 0 0 / 16%)"},"&.Mui-active":{width:20,height:20}}})),Vr=_(A)({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-20px"});function Wr(e){const{duration:i,currentTime:a,onTimeChange:u}=e,[d,g]=o.useState(a),{theme:N}=o.useContext(xe),{buttonTextColor:w}=Se(N);o.useEffect(()=>{g(a)},[a]);const B=(M,T)=>{g(T),u(T)};return n.jsxs(Hr,{children:[n.jsx(Fr,{"aria-label":"time-indicator",value:d,min:0,max:Math.floor(i),step:1,barcolor:w,onChange:B}),n.jsxs(Vr,{children:[n.jsx(K,{color:w,children:sn(d)}),n.jsx(K,{color:w,children:"-"+sn(Math.floor(i-d))})]})]})}function sn(e){const i=Math.floor(e/60),a=Math.floor(e%60);return`${i}:${a<10?`0${a}`:a}`}function Ur(e){const[i,a]=o.useState(!1),[u,d]=o.useState(0),[g,N]=o.useState(0),[w,B]=o.useState(0),M=o.useRef(new Audio),{scrollTopVerseIndex:T,setScrollTopVerseIndex:O,setActiveScroll:x}=o.useContext(tt),{autoScrollText:H,volume:E,audioLanguage:X,pageControl:f,theme:R,readingLanguage:W}=o.useContext(xe);o.useEffect(()=>{const s=M.current;e.src&&(s.src=ot+e.src);const p=()=>{N(s.duration)},S=()=>{d(Math.floor(s.currentTime))};return s.addEventListener("loadedmetadata",p),s.addEventListener("timeupdate",S),()=>{s.removeEventListener("loadedmetadata",p),s.removeEventListener("timeupdate",S)}},[e.src]),o.useEffect(()=>{var s;if(M.current.ended)D();else if(H){const p=(s=e.verses)==null?void 0:s.findIndex((S,G)=>{var ne,he,se;const J=(ne=S.verseAudioStart)==null?void 0:ne[X||Rt.TRANSLATION],le=(se=(he=e.verses[G+1])==null?void 0:he.verseAudioStart)==null?void 0:se[X||Rt.TRANSLATION];return u>=J&&u<le});p!==-1&&(p!==w||p==0)&&(O(p),B(p),x(ve))}},[u,e.verses,X,H,i]),o.useEffect(()=>{M.current.volume=E/100},[E]);const Z=()=>{const s=M.current;x(ve),s.readyState>=2?(a(!0),s.play().catch(p=>re.custom(S=>{var G,J;return n.jsx(ie,{text:((J=(G=e.terms.texts.find(le=>le.variable=="Audio Play Error"))==null?void 0:G.text)==null?void 0:J[W])||"",offset:125,visible:S.visible})}))):re.custom(p=>{var S,G;return n.jsx(ie,{text:((G=(S=e.terms.texts.find(J=>J.variable=="Audio Not Ready"))==null?void 0:S.text)==null?void 0:G[W])||"",offset:125,visible:p.visible})})},P=()=>{a(!1),M.current.pause(),x(Ne)},j=()=>{P(),e.moveToSoundSettingPage()},oe=()=>{P(),e.setAudioSeekBarStatus(!1)},v=s=>{M.current.currentTime=s,d(s)},D=()=>{d(0),a(!1),O(0),x(Ne)},b=()=>n.jsxs(yr,{children:[n.jsx(Cr,{src:R==q.DEFAULT||R==q.DARK?U.bar_reading_audio_subtract:R==q.BLACK_AND_WHITE?U.bar_reading_audio_subtract_BAW:R==q.SAPPHIRE?U.bar_reading_audio_subtract_sapphire:U.bar_reading_audio_subtract_easyocean}),n.jsxs(_r,{children:[n.jsx(Ae,{src:R==q.DEFAULT||R==q.DARK?U.btn_sound_setting:R==q.BLACK_AND_WHITE?U.btn_sound_setting_BAW:R==q.SAPPHIRE?U.btn_sound_setting_sapphire:U.btn_sound_setting_easyocean,onClick:j}),n.jsx(Wr,{duration:g,currentTime:u,onTimeChange:v}),n.jsx(Ae,{src:R==q.DEFAULT||R==q.DARK?U.btn_close:R==q.BLACK_AND_WHITE?U.btn_close_BAW:R==q.SAPPHIRE?U.btn_close_sapphire:U.btn_close_easyocean,onClick:oe})]})]}),t=()=>n.jsx(wr,{src:R==q.DEFAULT||R==q.DARK?U.bar_reading_subtract:R==q.BLACK_AND_WHITE?U.bar_reading_subtract_BAW:R==q.SAPPHIRE?U.bar_reading_subtract_sapphire:U.bar_reading_subtract_easyocean}),r=()=>!e.isIntro&&n.jsx(Dr,{children:e.showAudioSeekBar?i?n.jsx(Ae,{src:R==q.DEFAULT||R==q.DARK?U.btn_pause:R==q.BLACK_AND_WHITE?U.btn_pause_BAW:R==q.SAPPHIRE?U.btn_pause_sapphire:U.btn_pause_easyocean,onClick:P}):n.jsx(Ae,{src:R==q.DEFAULT||R==q.DARK?U.btn_play:R==q.BLACK_AND_WHITE?U.btn_play_BAW:R==q.SAPPHIRE?U.btn_play_sapphire:U.btn_play_easyocean,onClick:Z}):n.jsx(Ae,{src:R==q.DEFAULT||R==q.DARK?U.btn_sound:R==q.BLACK_AND_WHITE?U.btn_sound_BAW:R==q.SAPPHIRE?U.btn_sound_sapphire:U.btn_sound_easyocean,onClick:()=>e.setAudioSeekBarStatus(!0)})}),k=()=>{var s,p;return e.bookTitle!="Qur'an"&&n.jsxs(Ir,{isintro:e.isIntro?"true":"false",children:[n.jsxs(Tr,{onClick:e.moveToIndexPage,children:[n.jsx(on,{src:ot+e.bookImage}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.bookTitle=="Zabur"?"Psalm":e.subBookTitle})]}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((p=(s=e.terms.texts.find(S=>S.variable=="Sub Book"))==null?void 0:s.text)==null?void 0:p[W])||"Sub Book"})]})},h=()=>{var s,p;return e.bookTitle!="Qur'an"&&n.jsxs(kr,{children:[n.jsxs(Rr,{children:[n.jsx(Qe,{onClick:()=>e.handleNavigateBtn(f==Ue.LEFT_TO_RIGHT?qe:Ee),children:n.jsx(yt,{})}),n.jsx(Ar,{onClick:e.moveToIndexPage,children:n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",textAlign:"center",children:e.isIntro?"In":e.bookTitle=="Zabur"?e.subBookNumber.toString():e.chapterNumber.toString()})}),n.jsx(Qe,{onClick:()=>e.handleNavigateBtn(f==Ue.LEFT_TO_RIGHT?Ee:qe),children:n.jsx(Pt,{})})]}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((p=(s=e.terms.texts.find(S=>S.variable=="Chapter"))==null?void 0:s.text)==null?void 0:p[W])||"Chapter"})]})},C=()=>{var s,p;return e.bookTitle=="Qur'an"&&n.jsxs(Lr,{children:[n.jsxs(Br,{children:[n.jsx(Qe,{onClick:()=>e.handleNavigateBtn(f==Ue.LEFT_TO_RIGHT?qe:Ee),children:n.jsx(yt,{})}),n.jsxs(Pr,{onClick:e.moveToIndexPage,children:[n.jsxs(Nr,{children:[n.jsx(on,{src:ot+e.bookImage}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookTitle})]}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookNumber.toString()})]}),n.jsx(Qe,{onClick:()=>e.handleNavigateBtn(f==Ue.LEFT_TO_RIGHT?Ee:qe),children:n.jsx(Pt,{})})]}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((p=(s=e.terms.texts.find(S=>S.variable=="Surah"))==null?void 0:s.text)==null?void 0:p[W])||"Surah"})]})},F=()=>{var s,p;return!e.isIntro&&n.jsxs(jr,{children:[n.jsx(Or,{onClick:e.moveToSubBookExplorer,children:n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:(T<=0?1:T+1).toString()})}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((p=(s=e.terms.texts.find(S=>S.variable=="Aya"))==null?void 0:s.text)==null?void 0:p[W])||"Aya"})]})},z=()=>n.jsx(Mr,{onClick:e.moveToSettingsPage,children:n.jsx(Sn,{})}),y=()=>n.jsxs(Er,{children:[t(),r(),k(),h(),C(),F(),z()]});return n.jsxs(pr,{children:[e.showAudioSeekBar&&b(),y()]})}function Ct(e){var b,t,r,k;const[i,a]=o.useState(e.isExistingInBookmark?100:0),[u,d]=o.useState(null),[g,N]=o.useState(!1),[w,B]=o.useState(0),[M,T]=o.useState(0),{textSize:O,theme:x}=o.useContext(xe),{mainBGColor:H}=Se(x),E=o.useRef(null),X=o.useRef(i),f=e.refer,R=o.useRef(0),W=window.matchMedia("(orientation: portrait)").matches;o.useEffect(()=>{X.current=i},[i]),o.useEffect(()=>{if(E.current&&f.current&&("verseHeader"in e.verse&&(E.current.style.height=`${f.current.getBoundingClientRect().height-4}px`,E.current.style.bottom="2px",E.current.style.alignSelf="self-end"),f.current.offsetHeight>0&&f.current.offsetHeight<=24)){const h=E.current.children[0];h.style.width="20px",h.style.height="20px",h.children[1].style.width="10px",h.children[1].style.height="10px"}},[e.verse,e.translatePanelHeight,W]);const Z=o.useCallback(h=>{if(h>0&&h<At){const C=h/At*100,F=e.isExistingInBookmark?100-C:C;a(F),X.current=F}else if(h>0){const C=e.isExistingInBookmark?0:100;a(C),X.current=C}else{const C=e.isExistingInBookmark?100:0;a(C),X.current=C}},[e.isExistingInBookmark]),P=o.useCallback(()=>{if(f.current){const h=Math.max(0,Math.min(M,Cn));f.current.style.transform=`translateX(${h}px)`,Z(h-yn)}g&&(R.current=requestAnimationFrame(P))},[g,M,Z]);o.useEffect(()=>(g?R.current=requestAnimationFrame(P):cancelAnimationFrame(R.current),()=>cancelAnimationFrame(R.current)),[g,P]);const j=h=>{var F;!e.language&&N(!0),B(h);const C=(F=f.current)==null?void 0:F.getAttribute("data-id");C&&d(C)},oe=h=>{if(!g)return;const C=Math.max(0,h-w);e.isLoggedIn&&C>Lt&&T(C-Lt)},v=()=>{N(!1),f.current&&(!e.isExistingInBookmark&&X.current==100||e.isExistingInBookmark&&X.current==0?u&&e.handleBookmark(u):e.isExistingInBookmark?(a(100),X.current=100):(a(0),X.current=0),f.current.style.transition="transform 0.3s ease-out",f.current.style.transform="translateX(0)",setTimeout(()=>{f.current&&(f.current.style.transition="")},300)),T(0)};o.useEffect(()=>{const h=f.current;if(h){const C=S=>{S.preventDefault(),j(S.clientX)},F=S=>{S.preventDefault(),oe(S.clientX)},z=S=>{S.preventDefault(),v()},y=S=>{j(S.touches[0].clientX)},s=S=>{oe(S.touches[0].clientX)},p=S=>{v()};return h.addEventListener("mousedown",C),document.addEventListener("mousemove",F),document.addEventListener("mouseup",z),h.addEventListener("touchstart",y),h.addEventListener("touchmove",s),h.addEventListener("touchend",p),()=>{h.removeEventListener("mousedown",C),document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",z),h.removeEventListener("touchstart",y),h.removeEventListener("touchmove",s),h.removeEventListener("touchend",p)}}},[f,Z,e.handleBookmark,w]);const D=h=>{for(var C in h)if(h[C]!==null&&h[C]!=="")return!0;return!1};return n.jsxs(cr,{children:["verseHeader"in e.verse&&D(e.verse.verseHeader)&&n.jsx(dr,{"data-id":e.verse.verseId,"data-index":e.index,style:{backgroundColor:H},children:n.jsx(K,{fontFamily:"Inter",fontWeight:"700",backgroundColor:H,fontSize:O,lineHeight:O+15,direction:e.language||e.readingLanguage===Le?"rtl":"ltr",children:e.verse.verseHeader[e.language||e.readingLanguage]})}),!e.language&&n.jsx(jn,{progress:i,refer:E,backgroundColor:H}),n.jsx(hr,{"data-id":"verseId"in e.verse?e.verse.verseId:e.verse.id,"data-index":e.index,ref:e.refer,children:e.isIntro?n.jsx(K,{fontFamily:"Inter",backgroundColor:H,dataIndex:e.language?"":e.index.toString(),lineHeight:O+20,direction:e.readingLanguage===Le?"rtl":"ltr",fontSize:e.verse.title?O+2:O,fontWeight:e.verse.title?"bold":"500",textAlign:e.verse.title?"center":"left",children:((b=e.verse.title)==null?void 0:b[e.language||e.readingLanguage])||((t=e.verse.text)==null?void 0:t[e.language||e.readingLanguage])}):n.jsx(K,{fontFamily:"Inter",fontSize:O,backgroundColor:H,dataIndex:e.language?"":e.index.toString(),lineHeight:O+20,direction:e.readingLanguage===Le?"rtl":"ltr",children:"verseText"in e.verse?(r=e.verse.verseText)==null?void 0:r[e.language||e.readingLanguage]:(k=e.verse.text)==null?void 0:k[e.language||e.readingLanguage]})})]})}function ln(e){var j,oe,v,D,b,t,r,k,h,C,F,z;const[i,a]=o.useState([]),[u,d]=o.useState([]),{scrollTopVerseIndex:g,setScrollTopVerseIndex:N,setHiddenTopVersePercentage:w,activeScroll:B,setActiveScroll:M}=o.useContext(tt),T=o.useRef(null),O=o.useRef(null),x=o.useRef([]);x.current=(j=e.verses)==null?void 0:j.map((y,s)=>x.current[s]??o.createRef());const{theme:H,displayType:E}=o.useContext(xe),{mainBGColor:X,textColor:f}=Se(H),R=localStorage.getItem(_n)||En,W=o.useCallback(()=>{var s;let y=[];return(s=x.current)==null||s.forEach(p=>{p.current&&p.current.children[0]&&y.push(p.current.children[0].offsetHeight)}),y},[x]);o.useEffect(()=>{var y;if(((y=e.verses)==null?void 0:y.length)>0){const s=x.current[g-1];s!=null&&s.current&&s.current.scrollIntoView(),N(0),w(0)}},[e.verses]),o.useEffect(()=>{const y=W();a(y);const s=y.reduce((p,S,G)=>(p[G]=(p[G-1]||0)+S,p),[]);d(s)},[e.verses,W]);const Z=o.useCallback(()=>{if(!T.current)return;const y=T.current.scrollTop;M(Be);let s=0,p=u.length-1;for(;s<=p;){const se=Math.floor((s+p)/2);u[se]>y?p=se-1:s=se+1}const S=s-1;N(S);const G=S>0?u[S-1]:0,J=i[S],ne=(y-G)/J*100,he=Math.min(Math.max(ne,0),100);w(he)},[u,i,N]);o.useEffect(()=>{const y=T.current;if(y)return y.addEventListener("scroll",Z),y.addEventListener("scrollend",()=>M(Ne)),()=>{y.removeEventListener("scroll",Z)}}),o.useEffect(()=>{var y;if((E===ae.SPLIT_PANEL||E===ae.ONLY_TRNSLATION)&&g>=0&&(B==Ze||B==ve)){const s=x.current[Number(g)];(y=s==null?void 0:s.current)==null||y.scrollIntoView()}},[g,E]);const P=(y,s)=>{var p;return y.image?n.jsx(an,{src:y.image.url,alt:y.image.alt},s):y.isCollapse?n.jsx(lr,{children:n.jsx(Pn,{label:(p=y.title)==null?void 0:p[R],outArrow:!0,detail:n.jsx(ur,{children:y.content.map((S,G)=>!S.url&&!S.isTitle?n.jsx(K,{children:S==null?void 0:S[R]},G):!S.url&&S.isTitle?n.jsx(K,{fontWeight:"bold",isTitle:!0,children:S==null?void 0:S[R]},G):n.jsx(an,{src:S.url,alt:S.alt},G))})})},s):n.jsx(Ct,{refer:x.current[s],verse:y,index:s,language:R,isExistingInBookmark:e.bookmarks.some(S=>S.id===y.id),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,isIntro:!0,readingLanguage:e.readingLanguage,handleBookmark:e.handleBookmark},s)};return o.useEffect(()=>{var y;O.current&&B!=Ze&&B!=Be&&B!=ve&&B!=Ne&&e.prevPage!=Pe.SUBBOOKEXPLORER&&((y=O.current)==null||y.scrollIntoView())},[g]),n.jsx(or,{style:{backgroundColor:X,color:f,height:e.height},children:n.jsxs(sr,{ref:T,children:[!e.isIntro&&!e.isSpecialBook&&n.jsxs(rn,{ref:O,children:[n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(v=(oe=e.subBookInfo)==null?void 0:oe.subBookTitle)==null?void 0:v.ar}),n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(b=(D=e.subBookInfo)==null?void 0:D.subBookTitle)==null?void 0:b.origin}),n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`The ${Bt(e.chapterNumber||1)} Chapter`}),n.jsx(K,{})]}),!e.isIntro&&e.isSpecialBook&&n.jsxs(rn,{ref:O,children:[n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(r=(t=e.subBookInfo)==null?void 0:t.subBookTitle)==null?void 0:r.ar}),n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(h=(k=e.subBookInfo)==null?void 0:k.subBookTitle)==null?void 0:h.transliteration}),n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`The ${Bt(((C=e.subBookInfo)==null?void 0:C.subBookNumber)||1)} Surah`}),n.jsx(K,{})]}),!e.isIntro&&((F=e.verses)==null?void 0:F.map((y,s)=>n.jsx(Ct,{refer:x.current[s],verse:y,index:s,isExistingInBookmark:e.bookmarks.some(p=>p.verseId===y.verseId),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,readingLanguage:e.readingLanguage,handleBookmark:e.handleBookmark},s))),e.isIntro&&((z=e.verses)==null?void 0:z.map((y,s)=>P(y,s)))]})})}const qr=_(A)({margin:"0px",height:"100dvh"}),un=_(A)(({showaudioseekbar:e})=>({width:"100%",padding:"20px",height:e=="true"?"calc(100dvh - 150px)":"calc(100dvh - 100px)"})),Xr=_(A)({width:"45px",height:"8px",margin:"auto",marginTop:"-4px",position:"relative",zIndex:"2",cursor:"grab","&:active":{cursor:"grabbing"}}),zr=_(A)({width:"100%",height:"100%",overflowX:"hidden",overflowY:"auto",margin:"0px",paddingBottom:"0px"}),Yr=_(A)({width:"100%",padding:"15px"});function Kr(e){const i=window.matchMedia("(orientation: portrait)").matches,[a,u]=o.useState([]),[d,g]=o.useState(null),[N,w]=o.useState(!1),[B,M]=o.useState(i?200:120),[T,O]=o.useState(!1),[x,H]=o.useState(),[E,X]=o.useState(),[f,R]=o.useState(),[W,Z]=o.useState(0),[P,j]=o.useState(0),[oe,v]=o.useState(!0),{theme:D,displayType:b}=o.useContext(xe),{mainBGColor:t,topTextColor:r}=Se(D),{scrollTopVerseIndex:k,setScrollTopVerseIndex:h,setActiveScroll:C}=o.useContext(tt),F=o.useRef([]),z=o.useRef([]);F.current=a==null?void 0:a.map((l,c)=>(F==null?void 0:F.current[c])??o.createRef()),z.current=a==null?void 0:a.map((l,c)=>(z==null?void 0:z.current[c])??o.createRef());const y=100,s=100;window.matchMedia("(orientation: portrait)").addEventListener("change",l=>{const c=l.matches;M(c?200:120)});const[p,S]=o.useState(typeof window<"u"?window.innerHeight:1e3),G=e.showAudioSeekBar?p-150-B:p-100-B,J=Ln(),le=o.useCallback(l=>{ze.fetchVerses(l).then(c=>{var I;if(u(c.verses),c&&c.length>0){const L=(I=c.chapteraudio)==null?void 0:I.find(m=>m.language==e.readingLanguage);g(L)}e.dispatch({type:Q.ADD_CHAPTERINFO,payload:{chapterInfo:c}}),w(!1)}).catch(c=>{w(!1),re.custom(I=>n.jsx(ie,{text:c,offset:70,visible:I.visible}))})},[e.currentChapter]),ne=o.useCallback((l,c)=>{var I,L;if(O(c),(I=e.chapterInfos)!=null&&I.length){const m=e.chapterInfos.find(V=>V.chapterId===l);if(m){O(m.chapterNumber==0),u(m.verses);const V=(L=m.chapterAudio)==null?void 0:L.find(te=>te.language==e.readingLanguage);g(V==null?void 0:V.audio)}else c?he(l):le(l);w(!1)}else c?he(l):le(l)},[e.currentChapter]),he=o.useCallback(l=>{ze.fetchIntroVerses(l).then(c=>{u(c.verses),e.dispatch({type:Q.ADD_CHAPTERINFO,payload:{chapterInfo:c}})}).catch(c=>{re.custom(I=>n.jsx(ie,{text:c,offset:70,visible:I.visible}))}).finally(()=>{w(!1)})},[]),se=o.useCallback(async l=>{try{const c=await ze.fetchSubBookInfo(l);e.dispatch({type:Q.ADD_SUBBOOK,payload:{subBook:c}}),R(c)}catch(c){re.custom(I=>n.jsx(ie,{text:c,visible:I.visible}))}finally{w(!1)}},[e.subBooks,e.currentSubBook]),me=o.useCallback(l=>{for(const c of e.bookInfos)for(const I of c.subBooks){const L=I.chapterInfos.find(m=>m.chapterId==l);if(L)return L}},[]),je=o.useCallback(l=>{for(const c of e.subBooks){const I=c.chapterInfos.find(L=>L.chapterId==l);if(I)return I}},[]);o.useEffect(()=>{const l=e.bookInfos.find(c=>c.bookId==e.currentBook);X(l)},[]),o.useEffect(()=>{var I;const l=(I=e.chapterInfos)==null?void 0:I.find(L=>L.chapterId==e.currentChapter),c=(l==null?void 0:l.chapterNumber)||0;j(c)},[e.chapterInfos]),o.useEffect(()=>{var c;const l=e.terms.find(I=>I.pageTitle=="Reading Page");(c=l==null?void 0:l.isPublished)!=null&&c[e.appLanguage]&&H(l)},[e.terms]),o.useEffect(()=>{const l=e.subBooks.find(c=>c.subBookId==e.currentSubBook);!l&&e.currentSubBook?se(e.currentSubBook):l&&e.currentSubBook&&R(l)},[e.subBooks,e.currentSubBook]),o.useEffect(()=>{var l,c,I,L;if(w(!0),e.currentVerse){const m=a.find(V=>V.verseId==e.currentVerse);m&&(h(((l=m[0])==null?void 0:l.verseNumber)-1),b==ae.VERSE_BY_VERSE&&((c=z.current[m[0].verseNumber-1].current)==null||c.scrollIntoView()))}if(e.currentChapter){const m=me(e.currentChapter);if(((I=e.subBookInfos)==null?void 0:I.length)>=0){const V=e.subBookInfos.find(te=>te.subBookId===e.currentSubBook);if(V){const te=V.chapterInfos.find(ue=>ue.chapterId===e.currentChapter);if(te){O(te.chapterNumber==0),u(te.verses);const ue=(L=te.chapterAudio)==null?void 0:L.find(ge=>ge.language==e.readingLanguage);g(ue)}else O(!!m),ne(e.currentChapter,(m==null?void 0:m.chapterNumber)==0)}else O(!!m),ne(e.currentChapter,(m==null?void 0:m.chapterNumber)==0)}else O(!!m),ne(e.currentChapter,(m==null?void 0:m.chapterNumber)==0)}w(!1)},[T,e.currentVerse,e.currentChapter,b]),o.useEffect(()=>{const l=()=>S(window.innerHeight);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),o.useEffect(()=>{w(!0);let l=!1;if(e.userHistory&&e.userHistory.length>0&&e.userHistory.forEach(c=>{if(c.readChapterIds.includes(e.currentChapter)){l=!0,w(!1);return}}),!l){const c={chapterId:e.currentChapter};ze.saveHistory(c).then(I=>{e.dispatch({type:Q.SET_USER_HISTORY,payload:{userHistories:I}}),w(!1)}).catch(I=>{I.status==401&&I.response.data.message==st&&(re.custom(L=>n.jsx(ie,{text:I.response.data.message,visible:L.visible})),lt.logout(),J("/login")),w(!1)})}},[]),o.useEffect(()=>{var I,L;const l=(I=f==null?void 0:f.chapterInfos)==null?void 0:I.find(m=>m.chapterId==e.currentChapter),c=(L=l==null?void 0:l.verses)==null?void 0:L.find(m=>m.verseId==e.currentVerse);c!=null&&c.verseNumber?Z((c==null?void 0:c.verseNumber)-1):Z(1)},[e.currentVerse,f]),o.useEffect(()=>{C(ve),h(W)},[W]),o.useEffect(()=>{W<=1&&v(!0)},[W]),o.useEffect(()=>{(b==ae.ONLY_TRNSLATION||T)&&M(0),b!=ae.ONLY_TRNSLATION&&!T&&M(i?200:120)},[b,T]),o.useEffect(()=>{var l,c;b==ae.VERSE_BY_VERSE&&k>=0&&((c=(l=z.current[k])==null?void 0:l.current)==null||c.scrollIntoView())},[k,b,z,a]),o.useEffect(()=>{var l,c;b==ae.VERSE_BY_VERSE&&k>=0&&((c=(l=z.current[0])==null?void 0:l.current)==null||c.scrollIntoView(),h(0))},[b,a,z]);const be=o.useCallback(l=>{var L;w(!0);const c=(L=e.bookmark)==null?void 0:L.find(m=>m.verseId===l),I={verseId:l};try{if(!c)Nt.saveBookmark(I).then(m=>{e.dispatch({type:Q.ADD_BOOKMARK,payload:{bookmark:m.bookmark}}),w(!1),re.custom(V=>{var te,ue;return n.jsx(ie,{text:((ue=(te=x==null?void 0:x.texts.find(ge=>ge.variable=="Bookmark Saved"))==null?void 0:te.text)==null?void 0:ue[e.appLanguage])||"Bookmark saved",type:Xe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:V.visible})})}).catch(m=>{w(!1),m.status==401&&m.response.data.message==st&&(re.custom(V=>n.jsx(ie,{text:m.response.data.message,offset:e.showAudioSeekBar?125:70,visible:V.visible})),lt.logout(),J("/login"))});else{const m=e.bookmark.filter(V=>V.verseId==l);m&&m.length>0&&Nt.deleteBookmark(m[0]._id).then(()=>{e.dispatch({type:Q.REMOVE_BOOKMARK,payload:{bookmarkId:c._id}}),w(!1),re.custom(V=>{var te,ue;return n.jsx(ie,{text:((ue=(te=x==null?void 0:x.texts.find(ge=>ge.variable=="Bookmark Deleted"))==null?void 0:te.text)==null?void 0:ue[e.appLanguage])||"Bookmark deleted",type:Xe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:V.visible})})}).catch(V=>{w(!1),V.status==401&&V.response.data.message==st&&(re.custom(te=>n.jsx(ie,{text:V.response.data.message,type:Xe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:te.visible})),lt.logout(),J("/login"))})}}catch(m){w(!1),re.custom(V=>n.jsx(ie,{text:m,type:Xe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:V.visible}))}},[e]),Oe=o.useCallback((l,c,I)=>{let L=c+(I-l),m=p-150-L;L<y?(L=y,m=p-150-y):m<s&&(L=p-150-s),M(L)},[p]),rt=l=>{const c=l.clientY,I=B,L=V=>Oe(c,I,V.clientY),m=()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",L),document.addEventListener("mouseup",m)},Me=l=>{const c=l.touches[0].clientY,I=B,L=V=>Oe(c,I,V.touches[0].clientY),m=()=>{document.removeEventListener("touchmove",L),document.removeEventListener("touchend",m)};document.addEventListener("touchmove",L),document.addEventListener("touchend",m)},pe=l=>{e.dispatch({type:Q.SET_AUDIO_SEEK_BAR_STATUS,payload:{showAudioSeekBar:l}})},ye=()=>{J("/settings")},De=()=>{J("/sound-settings")},Ce=()=>{e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:""}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:Pe.READING}}),J("/book")},He=()=>{var I,L;const l=(I=f==null?void 0:f.chapterInfos)==null?void 0:I.find(m=>m.chapterNumber==P),c=(L=l==null?void 0:l.verses)==null?void 0:L.find(m=>m.verseNumber==k+1);e.dispatch({type:Q.SET_CURRENT_SUBBOOK,payload:{currentSubBook:f==null?void 0:f.subBookId}}),e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:l==null?void 0:l.chapterId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:c==null?void 0:c.verseId}}),J("/subbookexplorer")},it=o.useCallback(l=>{var m,V,te,ue,ge,wt,It,Tt;const c=ce=>{var Y;const ee=(Y=f==null?void 0:f.chapterInfos)==null?void 0:Y.find($=>$.chapterNumber==ce);ee&&(e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:ee.chapterId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:Pe.READING}}),Z(0),h(0),ee.chapterNumber==0?O(!0):O(!1),j(ee.chapterNumber),u(ee.verses),w(!1))},I=(ce,ee)=>{if(ce&&ce.chapterInfos&&ce.chapterInfos.length>0){const Y=ce.chapterInfos[0].chapterId;e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:Y}}),e.dispatch({type:Q.SET_CURRENT_SUBBOOK,payload:{currentSubBook:ce.subBookId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:Pe.READING}}),Z(1),h(1);const $=je(Y);R(ce),ne(Y,($==null?void 0:$.chapterNumber)==0)}else re.custom(Y=>{var $,de,_e,kt;return n.jsx(ie,{text:ee?((de=($=x==null?void 0:x.texts.find(at=>at.variable=="Last Chapter"))==null?void 0:$.text)==null?void 0:de[e.appLanguage])||"Last Chapter":((kt=(_e=x==null?void 0:x.texts.find(at=>at.variable=="First Chapter"))==null?void 0:_e.text)==null?void 0:kt[e.appLanguage])||"First Chapter",offset:e.showAudioSeekBar?125:70,visible:Y.visible})}),w(!1)};if(((m=E==null?void 0:E.bookTitle)==null?void 0:m.en)=="Qur'an"||((V=E==null?void 0:E.bookTitle)==null?void 0:V.en)=="Zabur"){const ce=((te=E==null?void 0:E.subBooks)==null?void 0:te.length)||1,ee=(f==null?void 0:f.subBookNumber)||1;if(l==Ee)if(ee+1<ce){const Y=E.subBooks.find($=>$.subBookNumber==ee+1);e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),h(0),Y&&I(Y,!0)}else re.custom(Y=>{var $,de;return n.jsx(ie,{text:((de=($=x==null?void 0:x.texts.find(_e=>_e.variable=="Last Chapter"))==null?void 0:$.text)==null?void 0:de[e.appLanguage])||"",offset:70,visible:Y.visible})});else if(ee-1>0){const Y=E.subBooks.find($=>$.subBookNumber==ee-1);e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),h(0),Y&&I(Y,!1)}else re.custom(Y=>{var $,de;return n.jsx(ie,{text:((de=($=x==null?void 0:x.texts.find(_e=>_e.variable=="First Chapter"))==null?void 0:$.text)==null?void 0:de[e.appLanguage])||"",offset:70,visible:Y.visible})})}else{const ce=((ue=f==null?void 0:f.chapterInfos)==null?void 0:ue.length)||1;if(l==Ee)if(P+1<=ce){const ee=((wt=(ge=f==null?void 0:f.chapterInfos)==null?void 0:ge.find(Y=>Y.chapterNumber==P+1))==null?void 0:wt.chapterNumber)||2;e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),h(0),c(ee)}else re.custom(ee=>{var Y,$;return n.jsx(ie,{text:(($=(Y=x==null?void 0:x.texts.find(de=>de.variable=="Last Chapter"))==null?void 0:Y.text)==null?void 0:$[e.appLanguage])||"Last Chapter",offset:70,visible:ee.visible})});else if(P-1>0){const ee=((Tt=(It=f==null?void 0:f.chapterInfos)==null?void 0:It.find(Y=>Y.chapterNumber==P-1))==null?void 0:Tt.chapterNumber)||1;e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),h(0),c(ee)}else re.custom(ee=>{var Y,$;return n.jsx(ie,{text:(($=(Y=x==null?void 0:x.texts.find(de=>de.variable=="First Chapter"))==null?void 0:Y.text)==null?void 0:$[e.appLanguage])||"First Chapter",offset:70,visible:ee.visible})})}},[e.subBooks,f,P]),Fe=()=>T&&n.jsx(un,{showaudioseekbar:"false",children:n.jsx(ln,{verses:a,topVerseNumber:W,showTitle:oe,prevPage:e.prevPage,height:G,originPanelHeight:B,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:T,readingLanguage:e.readingLanguage,handleBookmark:be})}),Ve=()=>{var l,c;return!T&&n.jsxs(un,{showaudioseekbar:e.showAudioSeekBar?"true":"false",children:[b==ae.SPLIT_PANEL&&n.jsxs(n.Fragment,{children:[n.jsx(fr,{verses:a,topVerseNumber:W,prevPage:e.prevPage,height:B}),n.jsx(Xr,{style:{backgroundColor:r},onMouseDown:rt,onTouchStart:Me})]}),(b==ae.ONLY_TRNSLATION||b==ae.SPLIT_PANEL)&&n.jsx(ln,{subBookInfo:f,chapterNumber:P,verses:a,topVerseNumber:W,showTitle:oe,prevPage:e.prevPage,height:G,originPanelHeight:B,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:T,readingLanguage:e.readingLanguage,isSpecialBook:((l=E==null?void 0:E.bookTitle)==null?void 0:l.en)=="Qur'an"||((c=E==null?void 0:E.bookTitle)==null?void 0:c.en)=="Zabur",handleBookmark:be}),b==ae.VERSE_BY_VERSE&&n.jsx(zr,{children:a.map((I,L)=>{var m;return n.jsxs(Yr,{ref:z.current[L],children:[n.jsx(pt,{verse:I,refer:F.current[L],index:L}),n.jsx(Ct,{refer:F.current[L],verse:I,index:L,readingLanguage:e.readingLanguage,isLoggedIn:!!e.currentUser,handleBookmark:be,isExistingInBookmark:((m=e.bookmark.filter(V=>V.verseId==I.verseId))==null?void 0:m.length)>0})]},L)})})]})},We=()=>{var l;return n.jsx(Ur,{src:d,bookTitle:(E==null?void 0:E.bookTitle.en)||"",bookImage:(E==null?void 0:E.bookImage)||"",subBookTitle:((l=f==null?void 0:f.subBookTitle)==null?void 0:l[e.readingLanguage])||"",subBookNumber:(f==null?void 0:f.subBookNumber)||0,chapterNumber:P,showAudioSeekBar:e.showAudioSeekBar,verses:a,isIntro:T,terms:x||{pageId:"",pageNumber:0,pageTitle:"",isCompleted:{},isPublished:{},texts:[]},setAudioSeekBarStatus:pe,moveToSettingsPage:ye,moveToSoundSettingPage:De,moveToIndexPage:Ce,moveToSubBookExplorer:He,handleNavigateBtn:it})};return n.jsxs(qr,{style:{backgroundColor:t},children:[Fe(),Ve(),We(),N&&n.jsx(Nn,{})]})}const Gr=e=>({bookmark:e.books.bookmark,bookInfos:e.books.bookInfos,currentBook:e.pageStatus.currentBook,appLanguage:e.user.appLanguage,readingLanguage:e.user.readingLanguage,prevPage:e.pageStatus.prevPage,subBooks:e.books.subBooks,subBookInfos:e.books.subBookInfos,chapterInfos:e.books.chapterInfos,currentSubBook:e.pageStatus.currentSubBook,currentChapter:e.pageStatus.currentChapter,currentVerse:e.pageStatus.currentVerse,userHistory:e.books.userHistory,currentUser:e.user.currentUser,showAudioSeekBar:e.pageStatus.showAudioSeekBar,terms:e.terms.terms}),li=An(Gr)(Kr);export{li as default};
