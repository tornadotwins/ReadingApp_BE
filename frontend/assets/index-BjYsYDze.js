import{b as m,Q as n,j as e,as as le,at as xe}from"./index-BPBmJKVk.js";import{s as a,B as x,u as w,S as A,g as j,d as L,O as de,c as he,P as me,_ as T,e as ge}from"./App-CRR-iM6C.js";import{V as ue,B as fe,h as Se,a as ye}from"./VerifyRecaptchaProvider-zpsCo5xB.js";import{u as Ce}from"./useOrientation-vM0mZbx8.js";import{a as F}from"./auth.service-D_94x3fL.js";import{I as i,T as u}from"./images-DpT7TSWv.js";import{I as we}from"./index-GFWQKCuA.js";import{F as Ae,c as Ee,a as I,I as _}from"./index.esm-_lhqf5dN.js";import{B as Be}from"./Button-D0i6Yx8e.js";import{L as D}from"./index-BtafQWAi.js";import{C as b,L as je}from"./index-OEU3GCzi.js";import{d as ke}from"./styled-BJcgoP8G.js";import"./index-TVkdNKhu.js";import"./axios-BimPEqV4.js";const ve=a(x)({display:"flex"}),Te=a(ve)({justifyContent:"center",alignItems:"center"}),be=a(Te)({width:"100vw",height:"100dvh"}),z=a(x)({width:"100%",height:"50dvh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center","@media (max-height: 579px)":{"& .css-16vwsd3":{marginTop:"25px"}},"@media screen and (orientation: landscape)":{height:"100dvh",width:"50vw"}}),Le=a(x)({margin:"0px",marginBottom:"8.92px","@media (max-width: 359px)":{"& .MuiBox-root":{fontSize:"30px !important",lineHeight:"42px !important"}},"@media (max-height: 639px)":{marginTop:"15px",marginBottom:"5px","& .MuiBox-root":{fontSize:"30px !important"}},"@media screen and (orientation: landscape)":{marginTop:"0px"}}),Fe=a(x)({height:"50dvh",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative","@media screen and (orientation: landscape)":{height:"100dvh",width:"50vw"}}),Ie=a(x)({width:"100%",display:"flex",flexDirection:"column",alignItems:"center","& button":{position:"relative",bottom:"0"}}),N=a(x)(({haserror:t})=>({height:"39px",width:"77.09%",marginTop:"16px",marginBottom:t=="true"?"15px":"0px","& .MuiInputBase-input":{padding:"7px",borderRadius:"0px"},"& .MuiInputBase-input: -webkit-autofill, .MuiInputBase-input: -webkit-autofill:hover, .MuiInputBase-input: -webkit-autofill:focus, .MuiInputBase-input: -webkit-autofill:active":{WebkitBoxShadow:"0 0 0 100px #FEFEFE inset",WebkitTextFillColor:"#000"},"@media screen and (orientation: landscape)":{width:"200px !important","@media (min-width: 550px) and (max-width: 750px)":{width:"250px"},"& .MuiFormControl-root":{width:"100px !important"},"@media (min-width: 750px)":{width:"300px !important","& .MuiFormControl-root":{width:"133px !important"}}},"@media (min-width: 380px)":{width:"320px"},"@media (max-height: 639px)":{height:"30px","& .MuiInputBase-input":{fontSize:"14px",padding:"0px 7px"},"& .css-tjr34z":{fontSize:"14px"},"& .css-d8svfr":{width:"14px"}}})),_e=a(x)({width:"77.09%",height:"39px",marginTop:"16px",paddingRight:"95px","& .MuiBox-root:nth-of-type(2)":{width:"39px"},"@media (min-width: 380px)":{width:"320px"},"@media (max-height: 639px)":{height:"30px",paddingRight:"102.5px","& .MuiBox-root:nth-of-type(2)":{width:"30px"},"& .css-d8svfr":{width:"14px"},"& .MuiBox-root":{fontSize:"14px"}},"@media screen and (orientation: landscape)":{width:"200px !important","@media (min-width: 550px)":{width:"250px"},"@media (max-height: 639px)":{paddingRight:"104px"},"@media (min-width: 750px)":{width:"300px !important",paddingRight:"104px"},"@media (min-width: 750px) and (min-height: 639px)":{paddingRight:"94px"},"@media (max-width: 749px)":{paddingRight:"70px"}}}),De=a(x)({width:"100%",display:"flex",justifyContent:"center",position:"absolute",bottom:"15px","@media screen and (orientation: landscape)":{width:"50vw"},"& .MuiBox-root":{position:"relative"},"& .MuiBox-root:first-of-type":{marginRight:"16px"},"@media (max-height: 569px) and (min-height: 639px)":{position:"unset",marginTop:"30px"},"@media (max-height: 639px)":{bottom:"10px","& .MuiBox-root":{fontSize:"14px"}}}),Ne=a(x)({marginTop:"16px",height:"40px","@media (max-height: 639px) and (min-height: 551px)":{height:"30px",marginTop:"16px",padding:"0px 7px"},"@media (max-height: 550px)":{marginTop:"10px",height:"30px",padding:"0px 7px"},"@media (max-height: 700px)":{marginBottom:"30px"}});function Me(){const{t}=w(),{theme:o}=m.useContext(A),{headerBGColor:c,logoTextColor:l}=j(o),d=[{leftIcon:o==n.EASY_OCEAN?i.check_easyocean:i.check,text:t("Save Location"),rightIcon:o==n.EASY_OCEAN?i.location_easyocean:i.location},{leftIcon:o==n.EASY_OCEAN?i.check_easyocean:i.check,text:t("Save Bookmark"),rightIcon:o==n.EASY_OCEAN?i.bookmark_easyocean:i.bookmark},{leftIcon:o==n.EASY_OCEAN?i.check_easyocean:i.check,text:t("Save Progress"),rightIcon:o==n.EASY_OCEAN?i.progress_easyocean:i.progress},{leftIcon:o==n.EASY_OCEAN?i.check_easyocean:i.check,text:t("Save Preference"),rightIcon:o==n.EASY_OCEAN?i.preference_easyocean:i.preference}];return e.jsxs(z,{style:{backgroundColor:c},children:[e.jsx(Le,{children:e.jsx(u,{fontFamily:"Buenard",fontWeight:"700",fontSize:36,lineHeight:47,textAlign:"center",color:l,children:t("Account lets you")})}),d.map((s,r)=>e.jsx(we,{data:s},r))]})}function Re(t){const{isLoading:o,verifiedBot:c,error:l,verifyToken:d}=m.useContext(ue),{t:s}=w(),{theme:r}=m.useContext(A),{mainBGColor:y}=j(r),k=()=>{d(le.LOGIN_PAGE)};return m.useEffect(()=>{t.onChangeLoadingStatus&&t.onChangeLoadingStatus(o)},[o]),m.useEffect(()=>{t.onDisplayError&&l&&l.length>0&&t.onDisplayError(l)},[l]),e.jsxs(Fe,{style:{backgroundColor:y},children:[e.jsx(Ie,{children:e.jsx(Ae,{initialValues:{username:"",password:""},onSubmit:f=>{t.onSubmit(f)},validationSchema:Ee().shape({username:I().required(s("InvalidUsername")),password:I().required(s("InvalidPassword"))}),children:({handleChange:f,handleBlur:E,handleSubmit:v,values:B,errors:g,touched:S})=>e.jsxs(e.Fragment,{children:[e.jsx(N,{haserror:S.username&&g.username?"true":"false",children:e.jsx(_,{type:"input",imgSrc:r==n.DEFAULT||r==n.EASY_OCEAN||r==n.EASY_SUNRISE?i.user:i.user_white,label:s("Name")+":",value:B.username,error:S.username?g.username:"",onChange:f("username"),onBlur:E("username")})}),e.jsx(N,{haserror:S.password&&g.password?"true":"false",children:e.jsx(_,{type:"password",imgSrc:r==n.DEFAULT||r==n.EASY_OCEAN||r==n.EASY_SUNRISE?i.pass:i.pass_white,label:s("Pass")+":",value:B.password,error:S.password?g.password:"",onChange:f("password"),onBlur:E("password")})}),e.jsx(_e,{children:e.jsx(fe,{imgSrc:r==n.DEFAULT||r==n.EASY_OCEAN?i.bot:i.bot_white,checkImgSrc:c?r==n.DEFAULT||r==n.EASY_OCEAN?i.tick:i.tick_white:"",label:s("No Bot")+":",onClick:k})}),e.jsx(Ne,{children:e.jsx(Be,{disabled:!c||Array.isArray(g)||Object.values(g).toString()!="",label:s("Log In"),size:"medium",onClick:v})})]})})}),e.jsxs(De,{children:[e.jsx(D,{label:s("Make Account"),onClick:t.onSignupClicked}),e.jsx(D,{label:s("Forgot Pass"),onClick:t.onForgotClicked})]})]})}const M=a(x)({width:"52.5%",margin:"0"}),ze=a("img")({width:"40.09px",margin:"11.95px 0 13.73px 0"}),Oe=a(x)({margin:"0px",marginBottom:"8.92px","@media (max-width: 359px)":{"& .MuiBox-root":{fontSize:"30px",lineHeight:"42px"}},"@media (max-height: 639px)":{marginTop:"15px",marginBottom:"5px","& .MuiBox-root":{fontSize:"30px",lineHeight:"42px"}},"@media screen and (orientation: landscape)":{marginTop:"0px"}});function Pe(){const{t}=w(),{theme:o}=m.useContext(A),{headerBGColor:c,logoTextColor:l}=j(o),d=L(),s=()=>{d("/login")};return e.jsxs(z,{style:{backgroundColor:c},children:[e.jsx(ke,{style:{color:l},onClick:s,children:t("Log In")}),e.jsx(Oe,{children:e.jsx(u,{fontFamily:'"Buenard"',fontWeight:"700",fontSize:36,lineHeight:47,textAlign:"center",defaultColor:"#FFF",children:t("Success")})}),e.jsx(ze,{src:o==n.EASY_OCEAN?i.check_easyocean:i.check}),e.jsx(M,{children:e.jsx(u,{fontSize:16,fontFamily:"'Baloo Da 2'",textAlign:"center",fontWeight:"400",color:l,children:t("New Pass Saved")})}),e.jsx(M,{sx:{marginTop:"13.73px"},children:e.jsx(u,{fontSize:16,fontFamily:"'Baloo Da 2'",textAlign:"center",fontWeight:"400",color:l,children:t("Login Possible")})})]})}const Ye=a(x)({backgroundColor:"#1B7695",width:"100%",height:"50dvh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center","@media (max-height: 579px)":{"& .css-16vwsd3":{marginTop:"25px"}},"@media screen and (orientation: landscape)":{height:"100dvh",width:"50vw"}}),He=a(x)({margin:"0px",marginBottom:"8.92px","@media (max-width: 359px)":{"& .MuiBox-root":{fontSize:"30px",lineHeight:"42px"}},"@media (max-height: 639px)":{marginTop:"15px",marginBottom:"5px","& .MuiBox-root":{fontSize:"30px",lineHeight:"42px"}},"@media screen and (orientation: landscape)":{marginTop:"0px"}}),Ue=a(de)({position:"absolute",top:"12px",right:"15px",backgroundColor:"transparent",color:"#FEFEFE",fontSize:"16px",fontFamily:'"Baloo Da 2"',fontWeight:"400",lineHeight:"24px",textTransform:"none","@media (max-height: 639px)":{fontSize:"14px",top:"8px",right:"10px"},"@media screen and (orientation: landscape)":{right:"calc(50vw + 15px)"}}),R=a(x)({width:"52.5%",margin:"0"}),We=a("img")({width:"40.09px",margin:"11.95px 0 13.73px 0"});function Ge(){const{t}=w(),o=L(),{theme:c}=m.useContext(A),{headerBGColor:l,logoTextColor:d}=j(c),s=()=>{o("/login")};return e.jsxs(Ye,{style:{backgroundColor:l},children:[e.jsx(Ue,{style:{color:d},onClick:s,children:t("Log In")}),e.jsx(He,{children:e.jsx(u,{fontFamily:'"Buenard"',fontWeight:"700",fontSize:36,lineHeight:47,textAlign:"center",color:d,children:t("Success")})}),e.jsx(We,{src:i.check}),e.jsx(R,{children:e.jsx(u,{color:d,fontSize:16,fontWeight:"400",fontFamily:"'Baloo Da 2'",textAlign:"center",children:t("Account Made")})}),e.jsx(R,{sx:{marginTop:"13.73px"},children:e.jsx(u,{color:d,fontSize:16,fontWeight:"400",fontFamily:"'Baloo Da 2'",textAlign:"center",children:t("Login Possible")})})]})}function $e(t){const[o,c]=m.useState(!1),l=Ce(),[d]=me(),s=d.get("type"),r=L(),{t:y}=w(),{setTextSize:k,setTheme:f,setStartAyasOnNewLine:E,setShowAyasNumbers:v,setAyasNumberDisplayFormat:B,setShowQuranReferences:g,setDisplayType:S,setReferenceLanguage:O,setReadingLanguage:P,setReadingControls:Y,setPageControl:H,setVolume:U,setAutoScrollText:W,setAudioLanguage:G,setAudioOtherLanguage:$}=m.useContext(A);m.useEffect(()=>{const p=d.get("token");!o&&p&&(p==null?void 0:p.length)>0&&(c(!0),F.verifyEmail({token:p}).then(()=>{c(!1)}).catch(h=>{c(!1),T.custom(C=>e.jsx(b,{text:y(h),visible:C.visible}))}))},[]);const V=()=>{r("/forgot")},Q=()=>{r("/signup")},q=p=>{c(!0),F.login(p).then(h=>{c(!1),h&&(t.dispatch({type:ge.SET_CURRENT_USER,payload:{user:h}}),K(h),r("/"))}).catch(h=>{c(!1),T.custom(C=>e.jsx(b,{text:y(h),visible:C.visible}))})},K=p=>{if(p&&p.settings){const{textSize:h,theme:C,startAyasOnNewLine:J,showAyasNumbers:X,ayasNumberDisplayFormat:Z,showQuranReferences:ee,displayType:te,referenceLanguage:ie,readingLanguage:oe,readingControls:ne,pageControl:ae}=p.settings;k(h),f(C),E(J),v(X),B(Z),g(ee),S(te),O(ie),P(oe),Y(ne),H(ae);const{volume:se,autoScrollText:re,language:ce,other:pe}=p.soundSettings;U(se),W(re),G(ce),$(pe)}};return e.jsx(Se,{reCaptchaKey:xe,children:e.jsxs(ye,{children:[e.jsxs(be,{flexDirection:l?"column":"row",children:[s=="reset"?e.jsx(Pe,{}):s?e.jsx(Ge,{}):e.jsx(Me,{}),e.jsx(Re,{onSubmit:q,onForgotClicked:V,onSignupClicked:Q,onChangeLoadingStatus:p=>c(p),onDisplayError:p=>T.custom(h=>e.jsx(b,{text:y(p),visible:h.visible}))})]}),o&&e.jsx(je,{})]})})}function Ve(t){return{dispatch:t}}function Qe(t){return{currentUser:t.user.currentUser}}const pt=he(Qe,Ve)($e);export{pt as default};
