import{b as i,j as r,a3 as X,aw as Yn,a5 as ce,ay as We,aK as it,aL as qe,aM as wn,X as En,a8 as Kn,au as ct,ab as zt,as as Tt,aN as Ke,aO as Pe,a9 as Ge,aP as Yt,aQ as Gn,aR as $n,aS as Kt,aT as Qn,aC as rt,aB as dt,aA as $e}from"./index-D_Xdl7oi.js";import{S as Ee,g as ke,aL as Zn,aM as Jn,aN as er,aO as tr,s as y,B as w,aP as st,r as Ln,aQ as nr,V as re,c as rr,u as ir,j as Q}from"./App-CJCErJ-_.js";import{I as U,T as J,c as ar}from"./index-CihrImaE.js";import{p as or}from"./index-D9YqWwud.js";import{d as Gt,A as sr}from"./index-C1NPsYsV.js";import{C as ie}from"./index-xb75TCor.js";import{L as lr}from"./index-yWo53PhY.js";import{a as ht}from"./auth.service-XbgC-9w0.js";import{b as Qe}from"./book.service-CiShLp9r.js";import{b as $t}from"./bookmark.service-CV_IecTW.js";import"./index-fApRAUbr.js";import"./index-C88pvD_q.js";function ur(e){const{theme:a}=i.useContext(Ee),{buttonColor:o,buttonTextColor:d}=ke(a);return r.jsx(Zn,{ref:e.refer,"data-id":e.dataId,backgroundColor:o,children:r.jsxs(Jn,{progresscolor:d,children:[r.jsx(er,{variant:"determinate",value:e.progress,thickness:2}),r.jsx(tr,{src:a==X.EASY_OCEAN?U.bookmark2_white:U.bookmark2_default})]})})}var kn={};function cr(e){if(e&&e.__esModule)return e;var a={};if(e!=null){for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};d.get||d.set?Object.defineProperty(a,o,d):a[o]=e[o]}}return a.default=e,a}var In=cr,pe={},ft,Qt;function dr(){if(Qt)return ft;Qt=1;function e(a){return a&&a.__esModule?a:{default:a}}return ft=e,ft}var Ze,Zt;function hr(){if(Zt)return Ze;Zt=1;function e(){return Ze=e=Object.assign||function(a){for(var o=1;o<arguments.length;o++){var d=arguments[o];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])}return a},e.apply(this,arguments)}return Ze=e,Ze}var gt,Jt;function fr(){if(Jt)return gt;Jt=1;function e(a,o){if(a==null)return{};var d={},h=Object.keys(a),v,I;for(I=0;I<h.length;I++)v=h[I],!(o.indexOf(v)>=0)&&(d[v]=a[v]);return d}return gt=e,gt}var xt,en;function gr(){if(en)return xt;en=1;var e=fr();function a(o,d){if(o==null)return{};var h=e(o,d),v,I;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(o);for(I=0;I<C.length;I++)v=C[I],!(d.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(o,v)&&(h[v]=o[v])}return h}return xt=a,xt}var vt,tn;function xr(){if(tn)return vt;tn=1;function e(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}return vt=e,vt}var mt,nn;function vr(){if(nn)return mt;nn=1;function e(o,d){for(var h=0;h<d.length;h++){var v=d[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(o,v.key,v)}}function a(o,d,h){return d&&e(o.prototype,d),h&&e(o,h),o}return mt=a,mt}var Oe,rn;function mr(){if(rn)return Oe;rn=1;function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(h){return typeof h}:e=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e(o)}function a(o){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?Oe=a=function(h){return e(h)}:Oe=a=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":e(h)},a(o)}return Oe=a,Oe}var bt,an;function br(){if(an)return bt;an=1;function e(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}return bt=e,bt}var St,on;function Sr(){if(on)return St;on=1;var e=mr(),a=br();function o(d,h){return h&&(e(h)==="object"||typeof h=="function")?h:a(d)}return St=o,St}var Je,sn;function yr(){if(sn)return Je;sn=1;function e(a){return Je=e=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},e(a)}return Je=e,Je}var et,ln;function pr(){if(ln)return et;ln=1;function e(a,o){return et=e=Object.setPrototypeOf||function(h,v){return h.__proto__=v,h},e(a,o)}return et=e,et}var yt,un;function Cr(){if(un)return yt;un=1;var e=pr();function a(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),d&&e(o,d)}return yt=a,yt}var pt,cn;function Rn(){if(cn)return pt;cn=1;var e=function(){};return pt=e,pt}var Ct={},_t,dn;function lt(){if(dn)return _t;dn=1;function e(a){return a&&a.__esModule?a:{default:a}}return _t=e,_t}var Me={},hn;function _r(){if(hn)return Me;hn=1;var e=lt();Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var a=e(i);e(Rn());var o=function(v){v.index;var I=v.children;a.default.Children.count(I)},d=o;return Me.default=d,Me}var tt={},De={},fn;function An(){if(fn)return De;fn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var e={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3};return De.default=e,De}var gn;function Tr(){if(gn)return tt;gn=1;var e=lt();Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=d;var a=e(i),o=e(An());function d(h){var v=h.children,I=h.startIndex,C=h.startX,D=h.pageX,j=h.viewLength,_=h.resistance,P=a.default.Children.count(v)-1,x=I+(C-D)/j,H;return _?x<0?x=Math.exp(x*o.default.RESISTANCE_COEF)-1:x>P&&(x=P+1-Math.exp((P-x)*o.default.RESISTANCE_COEF)):x<0?(x=0,H=(x-I)*j+D):x>P&&(x=P,H=(x-I)*j+D),{index:x,startX:H}}return tt}var He={},xn;function wr(){if(xn)return He;xn=1;var e=lt();Object.defineProperty(He,"__esModule",{value:!0}),He.default=void 0;var a=e(i),o=function(v,I){var C=!1,D=function(A){return A?A.key:"empty"};if(v.children.length&&I.children.length){var j=a.default.Children.map(v.children,D),_=j[v.index];if(_!=null){var P=a.default.Children.map(I.children,D),x=P[I.index];_===x&&(C=!0)}}return C},d=o;return He.default=d,He}var Ve={},vn;function Er(){if(vn)return Ve;vn=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=void 0;function e(o,d){var h=o%d;return h<0?h+d:h}var a=e;return Ve.default=a,Ve}var mn;function Lr(){return mn||(mn=1,function(e){var a=lt();Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"checkIndexBounds",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"computeIndex",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"constant",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"getDisplaySameSlide",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return I.default}});var o=a(_r()),d=a(Tr()),h=a(An()),v=a(wr()),I=a(Er())}(Ct)),Ct}var bn;function kr(){if(bn)return pe;bn=1;var e=In,a=dr();Object.defineProperty(pe,"__esModule",{value:!0}),pe.getDomTreeShapes=E,pe.findNativeHandler=ae,pe.default=pe.SwipeableViewsContext=void 0;var o=a(hr()),d=a(gr()),h=a(xr()),v=a(vr()),I=a(Sr()),C=a(yr()),D=a(Cr()),j=e(i);a(or),a(Rn());var _=Lr();function P(b,l,L,t){return b.addEventListener(l,L,t),{remove:function(){b.removeEventListener(l,L,t)}}}var x={container:{direction:"ltr",display:"flex",willChange:"transform"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},H={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(l){return"translate(".concat(-l,"%, 0)")},"x-reverse":function(l){return"translate(".concat(l,"%, 0)")},y:function(l){return"translate(0, ".concat(-l,"%)")},"y-reverse":function(l){return"translate(0, ".concat(l,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function A(b,l){var L=l.duration,t=l.easeFunction,n=l.delay;return"".concat(b," ").concat(L," ").concat(t," ").concat(n)}function z(b,l){var L=H.rotationMatrix[l];return{pageX:L.x[0]*b.pageX+L.x[1]*b.pageY,pageY:L.y[0]*b.pageX+L.y[1]*b.pageY}}function B(b){return b.touches=[{pageX:b.pageX,pageY:b.pageY}],b}function E(b,l){for(var L=[];b&&b!==l&&b!==document.body&&!b.hasAttribute("data-swipeable");){var t=window.getComputedStyle(b);t.getPropertyValue("position")==="absolute"||t.getPropertyValue("overflow-x")==="hidden"?L=[]:(b.clientWidth>0&&b.scrollWidth>b.clientWidth||b.clientHeight>0&&b.scrollHeight>b.clientHeight)&&L.push({element:b,scrollWidth:b.scrollWidth,scrollHeight:b.scrollHeight,clientWidth:b.clientWidth,clientHeight:b.clientHeight,scrollLeft:b.scrollLeft,scrollTop:b.scrollTop}),b=b.parentNode}return L}var $=null;function ae(b){var l=b.domTreeShapes,L=b.pageX,t=b.startX,n=b.axis;return l.some(function(m){var c=L>=t;(n==="x"||n==="y")&&(c=!c);var g=Math.round(m[H.scrollPosition[n]]),V=g>0,G=g+m[H.clientLength[n]]<m[H.scrollLength[n]];return c&&G||!c&&V?($=m.element,!0):!1})}var N=j.createContext();pe.SwipeableViewsContext=N;var k=function(b){(0,D.default)(l,b);function l(L){var t;return(0,h.default)(this,l),t=(0,I.default)(this,(0,C.default)(l).call(this,L)),t.rootNode=null,t.containerNode=null,t.ignoreNextScrollEvents=!1,t.viewLength=0,t.startX=0,t.lastX=0,t.vx=0,t.startY=0,t.isSwiping=void 0,t.started=!1,t.startIndex=0,t.transitionListener=null,t.touchMoveListener=null,t.activeSlide=null,t.indexCurrent=null,t.firstRenderTimeout=null,t.setRootNode=function(n){t.rootNode=n},t.setContainerNode=function(n){t.containerNode=n},t.setActiveSlide=function(n){t.activeSlide=n,t.updateHeight()},t.handleSwipeStart=function(n){var m=t.props.axis,c=z(n.touches[0],m);t.viewLength=t.rootNode.getBoundingClientRect()[H.length[m]],t.startX=c.pageX,t.lastX=c.pageX,t.vx=0,t.startY=c.pageY,t.isSwiping=void 0,t.started=!0;var g=window.getComputedStyle(t.containerNode),V=g.getPropertyValue("-webkit-transform")||g.getPropertyValue("transform");if(V&&V!=="none"){var G=V.split("(")[1].split(")")[0].split(","),te=window.getComputedStyle(t.rootNode),T=z({pageX:parseInt(G[4],10),pageY:parseInt(G[5],10)},m);t.startIndex=-T.pageX/(t.viewLength-parseInt(te.paddingLeft,10)-parseInt(te.paddingRight,10))||0}},t.handleSwipeMove=function(n){if(!t.started){t.handleTouchStart(n);return}if(!($!==null&&$!==t.rootNode)){var m=t.props,c=m.axis,g=m.children,V=m.ignoreNativeScroll,G=m.onSwitching,te=m.resistance,T=z(n.touches[0],c);if(t.isSwiping===void 0){var M=Math.abs(T.pageX-t.startX),O=Math.abs(T.pageY-t.startY),F=M>O&&M>_.constant.UNCERTAINTY_THRESHOLD;if(!te&&(c==="y"||c==="y-reverse")&&(t.indexCurrent===0&&t.startX<T.pageX||t.indexCurrent===j.Children.count(t.props.children)-1&&t.startX>T.pageX)){t.isSwiping=!1;return}if(M>O&&n.preventDefault(),F===!0||O>_.constant.UNCERTAINTY_THRESHOLD){t.isSwiping=F,t.startX=T.pageX;return}}if(t.isSwiping===!0){n.preventDefault(),t.vx=t.vx*.5+(T.pageX-t.lastX)*.5,t.lastX=T.pageX;var oe=(0,_.computeIndex)({children:g,resistance:te,pageX:T.pageX,startIndex:t.startIndex,startX:t.startX,viewLength:t.viewLength}),fe=oe.index,ee=oe.startX;if($===null&&!V){var se=E(n.target,t.rootNode),be=ae({domTreeShapes:se,startX:t.startX,pageX:T.pageX,axis:c});if(be)return}ee?t.startX=ee:$===null&&($=t.rootNode),t.setIndexCurrent(fe);var xe=function(){G&&G(fe,"move")};(t.state.displaySameSlide||!t.state.isDragging)&&t.setState({displaySameSlide:!1,isDragging:!0},xe),xe()}}},t.handleSwipeEnd=function(){if($=null,!!t.started&&(t.started=!1,t.isSwiping===!0)){var n=t.state.indexLatest,m=t.indexCurrent,c=n-m,g;Math.abs(t.vx)>t.props.threshold?t.vx>0?g=Math.floor(m):g=Math.ceil(m):Math.abs(c)>t.props.hysteresis?g=c>0?Math.floor(m):Math.ceil(m):g=n;var V=j.Children.count(t.props.children)-1;g<0?g=0:g>V&&(g=V),t.setIndexCurrent(g),t.setState({indexLatest:g,isDragging:!1},function(){t.props.onSwitching&&t.props.onSwitching(g,"end"),t.props.onChangeIndex&&g!==n&&t.props.onChangeIndex(g,n,{reason:"swipe"}),m===n&&t.handleTransitionEnd()})}},t.handleTouchStart=function(n){t.props.onTouchStart&&t.props.onTouchStart(n),t.handleSwipeStart(n)},t.handleTouchEnd=function(n){t.props.onTouchEnd&&t.props.onTouchEnd(n),t.handleSwipeEnd(n)},t.handleMouseDown=function(n){t.props.onMouseDown&&t.props.onMouseDown(n),n.persist(),t.handleSwipeStart(B(n))},t.handleMouseUp=function(n){t.props.onMouseUp&&t.props.onMouseUp(n),t.handleSwipeEnd(B(n))},t.handleMouseLeave=function(n){t.props.onMouseLeave&&t.props.onMouseLeave(n),t.started&&t.handleSwipeEnd(B(n))},t.handleMouseMove=function(n){t.props.onMouseMove&&t.props.onMouseMove(n),t.started&&t.handleSwipeMove(B(n))},t.handleScroll=function(n){if(t.props.onScroll&&t.props.onScroll(n),n.target===t.rootNode){if(t.ignoreNextScrollEvents){t.ignoreNextScrollEvents=!1;return}var m=t.state.indexLatest,c=Math.ceil(n.target.scrollLeft/n.target.clientWidth)+m;t.ignoreNextScrollEvents=!0,n.target.scrollLeft=0,t.props.onChangeIndex&&c!==m&&t.props.onChangeIndex(c,m,{reason:"focus"})}},t.updateHeight=function(){if(t.activeSlide!==null){var n=t.activeSlide.children[0];n!==void 0&&n.offsetHeight!==void 0&&t.state.heightLatest!==n.offsetHeight&&t.setState({heightLatest:n.offsetHeight})}},t.state={indexLatest:L.index,isDragging:!1,renderOnlyActive:!L.disableLazyLoading,heightLatest:0,displaySameSlide:!0},t.setIndexCurrent(L.index),t}return(0,v.default)(l,[{key:"componentDidMount",value:function(){var t=this;this.transitionListener=P(this.containerNode,"transitionend",function(n){n.target===t.containerNode&&t.handleTransitionEnd()}),this.touchMoveListener=P(this.rootNode,"touchmove",function(n){t.props.disabled||t.handleSwipeMove(n)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){t.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var n=t.index;typeof n=="number"&&n!==this.props.index&&(this.setIndexCurrent(n),this.setState({displaySameSlide:(0,_.getDisplaySameSlide)(this.props,t),indexLatest:n}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var t=this;return{slideUpdateHeight:function(){t.updateHeight()}}}},{key:"setIndexCurrent",value:function(t){if(!this.props.animateTransitions&&this.indexCurrent!==t&&this.handleTransitionEnd(),this.indexCurrent=t,this.containerNode){var n=this.props.axis,m=H.transform[n](t*100);this.containerNode.style.WebkitTransform=m,this.containerNode.style.transform=m}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var t=this,n=this.props;n.action;var m=n.animateHeight,c=n.animateTransitions,g=n.axis,V=n.children,G=n.containerStyle,te=n.disabled;n.disableLazyLoading;var T=n.enableMouseEvents;n.hysteresis,n.ignoreNativeScroll,n.index,n.onChangeIndex,n.onSwitching,n.onTransitionEnd,n.resistance;var M=n.slideStyle,O=n.slideClassName,F=n.springConfig,oe=n.style;n.threshold;var fe=(0,d.default)(n,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"]),ee=this.state,se=ee.displaySameSlide,be=ee.heightLatest,xe=ee.indexLatest,ge=ee.isDragging,Ie=ee.renderOnlyActive,Ue=te?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},Ce=!te&&T?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},Xe=(0,o.default)({},x.slide,M),Le,ve;if(ge||!c||se)Le="all 0s ease 0s",ve="all 0s ease 0s";else if(Le=A("transform",F),ve=A("-webkit-transform",F),be!==0){var Ne=", ".concat(A("height",F));Le+=Ne,ve+=Ne}var Se={height:null,WebkitFlexDirection:H.flexDirection[g],flexDirection:H.flexDirection[g],WebkitTransition:ve,transition:Le};if(!Ie){var je=H.transform[g](this.indexCurrent*100);Se.WebkitTransform=je,Se.transform=je}return m&&(Se.height=be),j.createElement(N.Provider,{value:this.getSwipeableViewsContext()},j.createElement("div",(0,o.default)({ref:this.setRootNode,style:(0,o.default)({},H.root[g],oe)},fe,Ue,Ce,{onScroll:this.handleScroll}),j.createElement("div",{ref:this.setContainerNode,style:(0,o.default)({},Se,x.container,G),className:"react-swipeable-view-container"},j.Children.map(V,function(ut,ze){if(Ie&&ze!==xe)return null;var Ye,Re=!0;return ze===xe&&(Re=!1,m&&(Ye=t.setActiveSlide,Xe.overflowY="hidden")),j.createElement("div",{ref:Ye,style:Xe,className:O,"aria-hidden":Re,"data-swipeable":"true"},ut)}))))}}]),l}(j.Component);k.displayName="ReactSwipableView",k.propTypes={},k.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var he=k;return pe.default=he,pe}(function(e){var a=In;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"SwipeableViewsContext",{enumerable:!0,get:function(){return o.SwipeableViewsContext}});var o=a(kr())})(kn);const Ir=Yn(kn),Rr=y(w)({width:"100%",margin:"0px"}),Ar=y(w)({margin:"0px",padding:"0px",position:"relative"}),Pr=y(w)({width:"100%",height:"100%",margin:"0px",padding:"0px",position:"relative"}),Pn=y(Ir)(({scrollcolor:e})=>({width:"100%",height:"100%",marginBottom:"8px",padding:"14px 0px 20px 0px","::-webkit-scrollbar-thumb":{background:"red"},"::-webkit-scrollbar-thumb: hover":{backgroundColor:e,opacity:"1"},"& .react-swipeable-view-container":{height:"100%"}})),at=y(w)({width:"100%",padding:"0px 14px","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),Nn=y(w)({height:"10px",width:"100%",position:"absolute",bottom:"0",display:"flex",justifyContent:"center","& :last-child":{marginRight:"0px"}}),ot=y(w)(({active:e,linecolor:a})=>({borderTop:`1px solid ${a}`,width:e=="true"?"20px":e=="false"?"10px":"0px",color:"black",marginRight:"5px",marginTop:"5px"})),Nr=y(w)(({scrollbarcolor:e})=>({width:"100%",height:"100%","::-webkit-scrollbar-thumb":{backgroundColor:"red"},"::-webkit-scrollbar-track":{backgroundColor:"transparent"},scrollbarWidth:"auto",scrollbarColor:`${e} transparent`})),Sn=y(w)({width:"100%",padding:"0px",margin:"0px"}),jr=y(w)({width:"100%",margin:"auto",padding:"20px 0px","& .MuiBox-root":{textWrap:"wrap"}}),Br=y(w)({width:"100%",height:"100%",position:"relative",overflowX:"hidden",padding:"0px 15px",scrollbarGutter:"stable both-edges"}),Or=y(w)({}),yn=y("img")({width:"100%",marginTop:"20px"}),Mr=y(w)({width:"100%",marginTop:"20px","& .MuiAccordion-gutters":{width:"100%"},"& .MuiAccordion-root .MuiAccordionSummary-root .Mui-expanded":{margin:"12px 0px !important"}}),Dr=y(w)({width:"100%","& .MuiBox-root":{padding:"0px "}}),Hr=y(w)({width:"100%",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"}),Vr=y(w)({width:"100%",padding:"20px 0px",position:"relative",display:"flex",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),Fr=y(w)({width:"100%",margin:"0px",position:"relative",display:"flex",flexDirection:"column",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}});y(w)({width:"40px",height:"100%",backgroundColor:"#FFAA5D",justifyContent:"center",alignItems:"center"});y(w)({width:"20px",height:"50%",position:"relative"});function wt(e){var P,x,H,A;const[a,o]=i.useState(0),{theme:d,textSize:h,referenceLanguage:v,showQuranReferences:I,displayType:C}=i.useContext(Ee),{topTextColor:D,backgroundColor:j}=ke(d),_=(x=(P=e==null?void 0:e.verse)==null?void 0:P.verseReference)==null?void 0:x.ref;return C==ce.VERSE_BY_VERSE?r.jsxs(Ar,{children:[r.jsxs(Pn,{style:{backgroundColor:j},scrollcolor:D,enableMouseEvents:!0,disabled:!I,onSwitching:z=>o(z),children:[r.jsx(at,{children:r.jsx(Sn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,children:r.jsx(J,{fontFamily:"Inter",fontSize:h,lineHeight:h+20,fontWeight:"700",color:D,dataIndex:e.index.toString(),language:e.referenceLanguage,direction:e.referenceLanguage==We?"rtl":"ltr",children:(H=e.verse.verseText)==null?void 0:H[e.referenceLanguage]})})}),r.jsx(at,{children:_&&_.map((z,B)=>r.jsx(J,{fontFamily:"Inter",fontWeight:"700",fontSize:h,lineHeight:h+20,color:D,children:z},B))})]}),_&&_.length>0&&I&&r.jsxs(Nn,{children:[r.jsx(ot,{active:a==0?"true":"false",linecolor:D}),r.jsx(ot,{active:a==1?"true":"false",linecolor:D})]})]}):r.jsx(Sn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,style:{backgroundColor:j},children:r.jsx(J,{fontFamily:"Inter",fontSize:h,lineHeight:h+20,fontWeight:"700",color:D,dataIndex:e.index.toString(),language:e.referenceLanguage,direction:e.referenceLanguage==We?"rtl":"ltr",onTouchStart:()=>e.onTouchStart&&e.onTouchStart(e.verse.verseReference.ref),onMouseDown:()=>e.onMouseDown&&e.onMouseDown(e.verse.verseReference.ref),children:(A=e.verse.verseText)==null?void 0:A[e.referenceLanguage]})})}function Wr(e){var $,ae;const[a,o]=i.useState([]),[d,h]=i.useState(0),{scrollTopVerseIndex:v,setScrollTopVerseIndex:I,setHiddenTopVersePercentage:C,activeScroll:D,setActiveScroll:j}=i.useContext(st),_=i.useRef([]);_.current=($=e.verses)==null?void 0:$.map((N,k)=>_.current[k]??i.createRef());const{theme:P,textSize:x,showQuranReferences:H,displayType:A}=i.useContext(Ee),{backgroundColor:z,topTextColor:B}=ke(P);i.useEffect(()=>{var N;if(((N=e.verses)==null?void 0:N.length)>0){const k=_.current[v-1];k!=null&&k.current&&k.current.scrollIntoView(),I(0),C(0)}},[e.verses]),i.useEffect(()=>{var N;if(A==ce.SPLIT_PANEL&&v>=0&&(D==it||D==qe)){const k=_.current[Number(v)];(N=k==null?void 0:k.current)==null||N.scrollIntoView()}},[v,A]),i.useEffect(()=>{var N,k;_.current[0]&&!v&&((k=(N=_.current[0])==null?void 0:N.current)==null||k.scrollIntoView())},[v]);const E=N=>{if(A==ce.SPLIT_PANEL){j(wn);const k=N.currentTarget.getBoundingClientRect().top,he=N.currentTarget.clientHeight;let b=-1,l=1/0;if(_.current.forEach((L,t)=>{if(L.current){const n=L.current.getBoundingClientRect().top,m=L.current.getBoundingClientRect().bottom,c=n-k;m>k&&n<k+he&&Math.abs(c)<l&&(l=Math.abs(c),b=t)}}),b!==-1){I(b);const L=_.current[b];if(L.current){const t=L.current.getBoundingClientRect().top,n=L.current.clientHeight,m=Math.max(0,Math.min(100,(k-t)/n*100));C(m)}}}};return r.jsx(Rr,{style:{height:e.height},children:A===ce.SPLIT_PANEL?r.jsxs(Pr,{children:[r.jsxs(Pn,{style:{backgroundColor:z},scrollcolor:B,enableMouseEvents:!0,disabled:!H,onScrollCapture:D!=it?N=>E(N):()=>{},onSwitching:N=>h(N),children:[r.jsx(at,{children:(ae=e.verses)==null?void 0:ae.map((N,k)=>r.jsx(wt,{refer:_.current[k],verse:N,index:k,referenceLanguage:e.referenceLanguage,onMouseDown:o,onTouchStart:o},k))}),r.jsx(at,{children:a&&a.map((N,k)=>r.jsx(J,{fontFamily:"Inter",fontWeight:"700",fontSize:x-2,color:B,children:N},k))})]}),H&&r.jsxs(Nn,{style:{background:z,bottom:"5px"},children:[r.jsx(ot,{active:d===0?"true":"false",linecolor:B}),r.jsx(ot,{active:d===1?"true":"false",linecolor:B})]})]}):r.jsx(Nr,{style:{backgroundColor:z},scrollbarcolor:B,children:e.verses.map((N,k)=>r.jsx(wt,{refer:_.current[k],verse:N,index:k,referenceLanguage:e.referenceLanguage},k))})})}var kt={},qr=En;Object.defineProperty(kt,"__esModule",{value:!0});var Et=kt.default=void 0,Ur=qr(Ln()),Xr=r;Et=kt.default=(0,Ur.default)((0,Xr.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft");var It={},zr=En;Object.defineProperty(It,"__esModule",{value:!0});var jn=It.default=void 0,Yr=zr(Ln()),Kr=r;jn=It.default=(0,Yr.default)((0,Kr.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"SettingsOutlined");const Gr=y(w)({position:"fixed",zIndex:"3",bottom:"0px",width:"100%",height:"150px",overflow:"hidden"}),$r=y(w)({position:"relative",display:"flex",justifyContent:"center","& .MuiBox-root":{alignContent:"center"}}),Qr=y("img")({width:"100%",position:"absolute",top:"20px"}),Zr=y(w)({width:"100%",maxWidth:"700px",padding:"0px 20px",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:"1",paddingTop:"20px",alignContent:"center","@media (min-width: 600px)":{paddingTop:"25px"}}),Jr=y(w)({position:"relative",bottom:"-75px",height:"100px",display:"flex",alignItems:"center",justifyContent:"space-between"}),ei=y("img")({width:"100%",position:"absolute","@media (min-width: 750px)":{top:"0px"},"@media (min-width: 1050px)":{top:"-10px"},"@media (min-width: 1450px)":{top:"-20px"}});y(w)(({readingcontrol:e})=>({height:"100px",width:"100%",maxWidth:"700px",margin:"auto",display:"flex",flexDirection:e==Kn.LEFT_HANDED?"row":"row-reverse",justifyContent:"space-between",alignItems:"center",padding:"0px 15px","@media (min-width: 1075px)":{width:"80%",margin:"auto"}}));const ti=y(w)(({isintro:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer",marginLeft:e=="true"?"10px":"0px"})),ni=y(w)({backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 10px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2,height:"40px","& .MuiBox-root":{width:"70px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),pn=y("img")({width:"15px",marginRight:"10px"}),ri=y(w)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer"}),ii=y(w)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px",height:"40px"}),nt=y(w)({width:"24px",height:"24px",cursor:"pointer"}),ai=y(w)({width:"25px"}),oi=y(w)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",minWidth:"200px",maxWidth:"350px",boxSizing:"border-box",cursor:"pointer","@media (max-width: 360px)":{width:"220px"}}),si=y(w)({display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",boxSizing:"border-box",borderRadius:"20px",padding:"5px",height:"40px",width:"100%","@media (max-width: 360px)":{width:"200px"}}),li=y(w)({minWidth:"170px",maxWidth:"320px",display:"flex",justifyContent:"space-between",alignItems:"center","@media (max-width: 360px)":{width:"150px",minWidth:"140px"}}),ui=y(w)({display:"flex",alignItems:"center",width:"150px",marginLeft:"10px","& .MuiBox-root":{width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","@media (max-width: 360px)":{width:"90px"}},"@media (max-width: 360px)":{width:"110px"}}),ci=y(w)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer","& :nth-of-type(2)":{marginRight:"10px"}}),di=y(w)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 20px",width:"50px",height:"40px"}),hi=y(w)({width:"40px",height:"40px",marginRight:"10px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"50%",cursor:"pointer","& svg":{fill:"#093C54 !important"}});y(w)({width:"90px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px","@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}});const fi=y(w)({display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"10px",marginBottom:"20px",cursor:"pointer"}),Fe=y("img")({width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",zIndex:"1"});y(w)(({underlinecolor:e})=>({width:"90px",textDecoration:"underline",textDecorationColor:e,textUnderlineOffset:"3px",zIndex:"1",cursor:"pointer",marginBottom:"20px","& .MuiBox-root":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}}));const gi=y(w)({width:"100%",height:"60px",overflow:"hidden",padding:"0 10px"}),xi=y(nr)(({barcolor:e})=>({color:e,opacity:"1",height:"5px","& .MuiSlider-thumb":{width:"13.25px",height:"14px",color:e,transition:"0.3s cubic-bezier(.47,1.64,.41,.8)","&::before":{boxShadow:"0 2px 12px 0 rgba(0,0,0,0.4)"},"&:hover, &.Mui-focusVisible":{boxShadow:"0px 0px 0px 8px rgb(0 0 0 / 16%)"},"&.Mui-active":{width:20,height:20}}})),vi=y(w)({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-20px"});function mi(e){const{duration:a,currentTime:o,onTimeChange:d}=e,[h,v]=i.useState(o),{theme:I}=i.useContext(Ee),{buttonTextColor:C}=ke(I);i.useEffect(()=>{v(o)},[o]);const D=(j,_)=>{v(_),d(_)};return r.jsxs(gi,{children:[r.jsx(xi,{"aria-label":"time-indicator",value:h,min:0,max:Math.floor(a),step:1,barcolor:C,onChange:D}),r.jsxs(vi,{children:[r.jsx(J,{color:C,children:Cn(h)}),r.jsx(J,{color:C,children:"-"+Cn(Math.floor(a-h))})]})]})}function Cn(e){const a=Math.floor(e/60),o=Math.floor(e%60);return`${a}:${o<10?`0${o}`:o}`}function bi(e){const[a,o]=i.useState(!1),[d,h]=i.useState(0),[v,I]=i.useState(0),[C,D]=i.useState(0),j=i.useRef(new Audio),{scrollTopVerseIndex:_,setScrollTopVerseIndex:P,setActiveScroll:x}=i.useContext(st),{autoScrollText:H,volume:A,audioLanguage:z,pageControl:B,theme:E,readingLanguage:$}=i.useContext(Ee);i.useEffect(()=>{const T=j.current;e.src&&(T.src=ct+e.src);const M=()=>{I(T.duration)},O=()=>{h(Math.floor(T.currentTime))};return T.addEventListener("loadedmetadata",M),T.addEventListener("timeupdate",O),()=>{T.removeEventListener("loadedmetadata",M),T.removeEventListener("timeupdate",O)}},[e.src]),i.useEffect(()=>{var T;if(j.current.ended)l();else if(H){const M=(T=e.verses)==null?void 0:T.findIndex((O,F)=>{var ee,se,be;const oe=(ee=O.verseAudioStart)==null?void 0:ee[z||zt.TRANSLATION],fe=(be=(se=e.verses[F+1])==null?void 0:se.verseAudioStart)==null?void 0:be[z||zt.TRANSLATION];return d>=oe&&d<fe});M!==-1&&(M!==C||M==0)&&(P(M),D(M),x(qe))}},[d,e.verses,z,H,a]),i.useEffect(()=>{j.current.volume=A/100},[A]);const ae=()=>{const T=j.current;x(qe),T.readyState>=2?(o(!0),T.play().catch(M=>re.custom(O=>{var F,oe;return r.jsx(ie,{text:((oe=(F=e.terms.texts.find(fe=>fe.variable=="Audio Play Error"))==null?void 0:F.text)==null?void 0:oe[$])||"",offset:125,visible:O.visible})}))):re.custom(M=>{var O,F;return r.jsx(ie,{text:((F=(O=e.terms.texts.find(oe=>oe.variable=="Audio Not Ready"))==null?void 0:O.text)==null?void 0:F[$])||"",offset:125,visible:M.visible})})},N=()=>{o(!1),j.current.pause(),x(Tt)},k=()=>{N(),e.moveToSoundSettingPage()},he=()=>{N(),e.setAudioSeekBarStatus(!1)},b=T=>{j.current.currentTime=T,h(T)},l=()=>{h(0),o(!1),P(0),x(Tt)},L=()=>r.jsxs($r,{children:[r.jsx(Qr,{src:E==X.DEFAULT||E==X.DARK?U.bar_reading_audio_subtract:E==X.BLACK_AND_WHITE?U.bar_reading_audio_subtract_BAW:E==X.SAPPHIRE?U.bar_reading_audio_subtract_sapphire:U.bar_reading_audio_subtract_easyocean}),r.jsxs(Zr,{children:[r.jsx(Fe,{src:E==X.DEFAULT||E==X.DARK?U.btn_sound_setting:E==X.BLACK_AND_WHITE?U.btn_sound_setting_BAW:E==X.SAPPHIRE?U.btn_sound_setting_sapphire:U.btn_sound_setting_easyocean,onClick:k}),r.jsx(mi,{duration:v,currentTime:d,onTimeChange:b}),r.jsx(Fe,{src:E==X.DEFAULT||E==X.DARK?U.btn_close:E==X.BLACK_AND_WHITE?U.btn_close_BAW:E==X.SAPPHIRE?U.btn_close_sapphire:U.btn_close_easyocean,onClick:he})]})]}),t=()=>r.jsx(ei,{src:E==X.DEFAULT||E==X.DARK?U.bar_reading_subtract:E==X.BLACK_AND_WHITE?U.bar_reading_subtract_BAW:E==X.SAPPHIRE?U.bar_reading_subtract_sapphire:U.bar_reading_subtract_easyocean}),n=()=>!e.isIntro&&r.jsx(fi,{children:e.showAudioSeekBar?a?r.jsx(Fe,{src:E==X.DEFAULT||E==X.DARK?U.btn_pause:E==X.BLACK_AND_WHITE?U.btn_pause_BAW:E==X.SAPPHIRE?U.btn_pause_sapphire:U.btn_pause_easyocean,onClick:N}):r.jsx(Fe,{src:E==X.DEFAULT||E==X.DARK?U.btn_play:E==X.BLACK_AND_WHITE?U.btn_play_BAW:E==X.SAPPHIRE?U.btn_play_sapphire:U.btn_play_easyocean,onClick:ae}):r.jsx(Fe,{src:E==X.DEFAULT||E==X.DARK?U.btn_sound:E==X.BLACK_AND_WHITE?U.btn_sound_BAW:E==X.SAPPHIRE?U.btn_sound_sapphire:U.btn_sound_easyocean,onClick:()=>e.setAudioSeekBarStatus(!0)})}),m=()=>{var T,M,O,F,oe,fe;return e.bookTitle!="Qur'an"&&r.jsxs(ti,{isintro:e.isIntro?"true":"false",children:[r.jsxs(ni,{onClick:e.moveToIndexPage,children:[r.jsx(pn,{src:ct+e.bookImage}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:(F=(O=(M=(T=e.subBookTerms)==null?void 0:T.texts)==null?void 0:M.find(ee=>ee.variable===e.subBookTitle))==null?void 0:O.text)==null?void 0:F[e.readingLanguage]})]}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((fe=(oe=e.terms.texts.find(ee=>ee.variable=="Sub Book"))==null?void 0:oe.text)==null?void 0:fe[$])||"Sub Book"})]})},c=()=>{var T,M;return e.bookTitle!="Qur'an"&&r.jsxs(ri,{children:[r.jsxs(ii,{children:[r.jsx(nt,{onClick:()=>e.handleNavigateBtn(B==Ge.LEFT_TO_RIGHT?Ke:Pe),children:r.jsx(Et,{})}),r.jsx(ai,{onClick:e.moveToIndexPage,children:r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",textAlign:"center",children:e.isIntro?"In":e.bookTitle=="Zabur"?e.subBookNumber.toString():e.chapterNumber.toString()})}),r.jsx(nt,{onClick:()=>e.handleNavigateBtn(B==Ge.LEFT_TO_RIGHT?Pe:Ke),children:r.jsx(Gt,{})})]}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((M=(T=e.terms.texts.find(O=>O.variable=="Chapter"))==null?void 0:T.text)==null?void 0:M[$])||"Chapter"})]})},g=()=>{var T,M;return e.bookTitle=="Qur'an"&&r.jsxs(oi,{children:[r.jsxs(si,{children:[r.jsx(nt,{onClick:()=>e.handleNavigateBtn(B==Ge.LEFT_TO_RIGHT?Ke:Pe),children:r.jsx(Et,{})}),r.jsxs(li,{onClick:e.moveToIndexPage,children:[r.jsxs(ui,{children:[r.jsx(pn,{src:ct+e.bookImage}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookTitle})]}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookNumber.toString()})]}),r.jsx(nt,{onClick:()=>e.handleNavigateBtn(B==Ge.LEFT_TO_RIGHT?Pe:Ke),children:r.jsx(Gt,{})})]}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((M=(T=e.terms.texts.find(O=>O.variable=="Surah"))==null?void 0:T.text)==null?void 0:M[$])||"Surah"})]})},V=()=>{var T,M;return!e.isIntro&&r.jsxs(ci,{children:[r.jsx(di,{onClick:e.moveToSubBookExplorer,children:r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:(_<=0?1:_+1).toString()})}),r.jsx(J,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((M=(T=e.terms.texts.find(O=>O.variable=="Aya"))==null?void 0:T.text)==null?void 0:M[$])||"Aya"})]})},G=()=>r.jsx(hi,{onClick:e.moveToSettingsPage,children:r.jsx(jn,{})}),te=()=>r.jsxs(Jr,{children:[t(),n(),m(),c(),g(),V(),G()]});return r.jsxs(Gr,{children:[e.showAudioSeekBar&&L(),te()]})}function Lt(e){var L,t,n,m;const[a,o]=i.useState(e.isExistingInBookmark?100:0),[d,h]=i.useState(null),[v,I]=i.useState(!1),[C,D]=i.useState(0),[j,_]=i.useState(0),{textSize:P,theme:x}=i.useContext(Ee),{mainBGColor:H}=ke(x),A=i.useRef(null),z=i.useRef(a),B=e.refer,E=i.useRef(0),$=window.matchMedia("(orientation: portrait)").matches;i.useEffect(()=>{z.current=a},[a]),i.useEffect(()=>{if(A.current&&B.current&&("verseHeader"in e.verse&&(A.current.style.height=`${B.current.getBoundingClientRect().height-4}px`,A.current.style.bottom="2px",A.current.style.alignSelf="self-end"),B.current.offsetHeight>0&&B.current.offsetHeight<=24)){const c=A.current.children[0];c.style.width="20px",c.style.height="20px",c.children[1].style.width="10px",c.children[1].style.height="10px"}},[e.verse,e.translatePanelHeight,$]);const ae=i.useCallback(c=>{if(c>0&&c<Yt){const g=c/Yt*100,V=e.isExistingInBookmark?100-g:g;o(V),z.current=V}else if(c>0){const g=e.isExistingInBookmark?0:100;o(g),z.current=g}else{const g=e.isExistingInBookmark?100:0;o(g),z.current=g}},[e.isExistingInBookmark]),N=i.useCallback(()=>{if(B.current){const c=Math.max(0,Math.min(j,$n));B.current.style.transform=`translateX(${c}px)`,ae(c-Gn)}v&&(E.current=requestAnimationFrame(N))},[v,j,ae]);i.useEffect(()=>(v?E.current=requestAnimationFrame(N):cancelAnimationFrame(E.current),()=>cancelAnimationFrame(E.current)),[v,N]);const k=c=>{var V;!e.language&&I(!0),D(c);const g=(V=B.current)==null?void 0:V.getAttribute("data-id");g&&h(g)},he=c=>{if(!v)return;const g=Math.max(0,c-C);e.isLoggedIn&&g>Kt&&_(g-Kt)},b=()=>{I(!1),B.current&&(!e.isExistingInBookmark&&z.current==100||e.isExistingInBookmark&&z.current==0?d&&e.handleBookmark(d):e.isExistingInBookmark?(o(100),z.current=100):(o(0),z.current=0),B.current.style.transition="transform 0.3s ease-out",B.current.style.transform="translateX(0)",setTimeout(()=>{B.current&&(B.current.style.transition="")},300)),_(0)};i.useEffect(()=>{const c=B.current;if(c){const g=O=>{O.preventDefault(),k(O.clientX)},V=O=>{O.preventDefault(),he(O.clientX)},G=O=>{O.preventDefault(),b()},te=O=>{k(O.touches[0].clientX)},T=O=>{he(O.touches[0].clientX)},M=O=>{b()};return c.addEventListener("mousedown",g),document.addEventListener("mousemove",V),document.addEventListener("mouseup",G),c.addEventListener("touchstart",te),c.addEventListener("touchmove",T),c.addEventListener("touchend",M),()=>{c.removeEventListener("mousedown",g),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",G),c.removeEventListener("touchstart",te),c.removeEventListener("touchmove",T),c.removeEventListener("touchend",M)}}},[B,ae,e.handleBookmark,C]);const l=c=>{for(var g in c)if(c[g]!==null&&c[g]!=="")return!0;return!1};return r.jsxs(Hr,{children:["verseHeader"in e.verse&&l(e.verse.verseHeader)&&r.jsx(Vr,{"data-id":e.verse.verseId,"data-index":e.index,style:{backgroundColor:H},children:r.jsx(J,{fontFamily:"Inter",fontWeight:"700",backgroundColor:H,fontSize:P,lineHeight:P+15,direction:e.language||e.readingLanguage===We?"rtl":"ltr",children:e.verse.verseHeader[e.language||e.readingLanguage]})}),!e.language&&r.jsx(ur,{progress:a,refer:A,backgroundColor:H}),r.jsx(Fr,{"data-id":"verseId"in e.verse?e.verse.verseId:e.verse.id,"data-index":e.index,ref:e.refer,children:e.isIntro?r.jsx(J,{fontFamily:"Inter",backgroundColor:H,dataIndex:e.language?"":e.index.toString(),lineHeight:P+20,direction:e.readingLanguage===We?"rtl":"ltr",fontSize:e.verse.title?P+2:P,fontWeight:e.verse.title?"bold":"500",textAlign:e.verse.title?"center":"left",children:((L=e.verse.title)==null?void 0:L[e.language||e.readingLanguage])||((t=e.verse.text)==null?void 0:t[e.language||e.readingLanguage])}):r.jsx(J,{fontFamily:"Inter",fontSize:P,backgroundColor:H,dataIndex:e.language?"":e.index.toString(),lineHeight:P+20,direction:e.readingLanguage===We?"rtl":"ltr",children:"verseText"in e.verse?(n=e.verse.verseText)==null?void 0:n[e.language||e.readingLanguage]:(m=e.verse.text)==null?void 0:m[e.language||e.readingLanguage]})})]})}function _n(e){var k,he,b,l,L;const[a,o]=i.useState([]),[d,h]=i.useState([]),{scrollTopVerseIndex:v,setScrollTopVerseIndex:I,setHiddenTopVersePercentage:C,activeScroll:D,setActiveScroll:j}=i.useContext(st),_=i.useRef(null),P=i.useRef(null),x=i.useRef([]);x.current=(k=e.verses)==null?void 0:k.map((t,n)=>x.current[n]??i.createRef());const{theme:H,displayType:A}=i.useContext(Ee),{mainBGColor:z,textColor:B}=ke(H),E=e.readingLanguage||Qn,$=i.useCallback(()=>{var n;let t=[];return(n=x.current)==null||n.forEach(m=>{m.current&&m.current.children[0]&&t.push(m.current.children[0].offsetHeight)}),t},[x]);i.useEffect(()=>{var t;if(((t=e.verses)==null?void 0:t.length)>0){const n=x.current[v-1];n!=null&&n.current&&n.current.scrollIntoView(),I(0),C(0)}},[e.verses]),i.useEffect(()=>{const t=$();o(t);const n=t.reduce((m,c,g)=>(m[g]=(m[g-1]||0)+c,m),[]);h(n)},[e.verses,$]);const ae=i.useCallback(()=>{if(!_.current)return;const t=_.current.scrollTop;j(it);let n=0,m=d.length-1;for(;n<=m;){const M=Math.floor((n+m)/2);d[M]>t?m=M-1:n=M+1}const c=n-1;I(c);const g=c>0?d[c-1]:0,V=a[c],te=(t-g)/V*100,T=Math.min(Math.max(te,0),100);C(T)},[d,a,I]);i.useEffect(()=>{const t=_.current;if(t)return t.addEventListener("scroll",ae),t.addEventListener("scrollend",()=>j(Tt)),()=>{t.removeEventListener("scroll",ae)}}),i.useEffect(()=>{var t;if((A===ce.SPLIT_PANEL||A===ce.ONLY_TRNSLATION)&&v>=2&&(D==wn||D==qe)){const n=x.current[Number(v)];(t=n==null?void 0:n.current)==null||t.scrollIntoView()}},[v,A]);const N=(t,n)=>{var m;return t.image?r.jsx(yn,{src:t.image.url,alt:t.image.alt},n):t.isCollapse?r.jsx(Mr,{children:r.jsx(sr,{label:(m=t.title)==null?void 0:m[E],outArrow:!0,detail:r.jsx(Dr,{children:t.content.map((c,g)=>!c.url&&!c.isTitle?r.jsx(J,{children:c==null?void 0:c[E]},g):!c.url&&c.isTitle?r.jsx(J,{fontWeight:"bold",isTitle:!0,children:c==null?void 0:c[E]},g):r.jsx(yn,{src:c.url,alt:c.alt},g))})})},n):r.jsx(Lt,{refer:x.current[n],verse:t,index:n,language:E,isExistingInBookmark:e.bookmarks.some(c=>c.id===t.id),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,isIntro:!0,readingLanguage:e.readingLanguage,handleBookmark:e.handleBookmark},n)};return i.useEffect(()=>{var t;D!=it&&(!v||v===-1)&&e.prevPage!=rt.SUBBOOKEXPLORER&&((t=P==null?void 0:P.current)==null||t.scrollIntoView())},[v]),r.jsx(jr,{style:{backgroundColor:z,color:B,height:e.height},children:r.jsxs(Br,{ref:_,children:[!e.isIntro&&r.jsxs(Or,{ref:P,children:[r.jsx(J,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(b=(he=e.subBookInfo)==null?void 0:he.subBookTitle)==null?void 0:b.ar}),r.jsx(J,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:e==null?void 0:e.originTitle}),r.jsx(J,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`${e.ordinary} ${e.bookUnit}`})]}),!e.isIntro&&((l=e.verses)==null?void 0:l.map((t,n)=>r.jsx(Lt,{refer:x.current[n],verse:t,index:n,isExistingInBookmark:e.bookmarks.some(m=>m.verseId===t.verseId),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,readingLanguage:e.readingLanguage,handleBookmark:e.handleBookmark},n))),e.isIntro&&((L=e.verses)==null?void 0:L.map((t,n)=>N(t,n)))]})})}const Si=y(w)({margin:"0px",height:"100dvh"}),Tn=y(w)(({showaudioseekbar:e})=>({width:"100%",padding:"20px",height:e=="true"?"calc(100dvh - 150px)":"calc(100dvh - 100px)"})),yi=y(w)({width:"45px",height:"8px",margin:"auto",marginTop:"-4px",position:"relative",zIndex:"2",cursor:"grab","&:active":{cursor:"grabbing"}}),pi=y(w)({width:"100%",height:"100%",overflowX:"hidden",overflowY:"auto",margin:"0px",paddingBottom:"0px"}),Ci=y(w)({width:"100%",padding:"15px"});function _i(e){const a=window.matchMedia("(orientation: portrait)").matches,[o,d]=i.useState([]),[h,v]=i.useState(null),[I,C]=i.useState(!1),[D,j]=i.useState(a?200:120),[_,P]=i.useState(!1),[x,H]=i.useState(),[A,z]=i.useState(),[B,E]=i.useState(),[$,ae]=i.useState(),[N,k]=i.useState(),[he,b]=i.useState(),[l,L]=i.useState(),[t,n]=i.useState(),[m,c]=i.useState(),[g,V]=i.useState(0),[G,te]=i.useState(0),[T,M]=i.useState(!0),{theme:O,displayType:F}=i.useContext(Ee),{mainBGColor:oe,topTextColor:fe}=ke(O),{scrollTopVerseIndex:ee,setScrollTopVerseIndex:se,setActiveScroll:be}=i.useContext(st),xe=i.useRef([]),ge=i.useRef([]);xe.current=o==null?void 0:o.map((s,u)=>(xe==null?void 0:xe.current[u])??i.createRef()),ge.current=o==null?void 0:o.map((s,u)=>(ge==null?void 0:ge.current[u])??i.createRef());const Ie=100,Ue=100;window.matchMedia("(orientation: portrait)").addEventListener("change",s=>{const u=s.matches;j(u?200:120)});const[Ce,Xe]=i.useState(typeof window<"u"?window.innerHeight:1e3),Le=e.showAudioSeekBar?Ce-150-D:Ce-100-D,ve=ir(),Ne=i.useCallback(s=>{Qe.fetchVerses(s).then(u=>{var S;if(d(u.verses),u&&u.length>0){const p=(S=u.chapteraudio)==null?void 0:S.find(f=>f.language==e.readingLanguage);v(p)}e.dispatch({type:Q.ADD_CHAPTERINFO,payload:{chapterInfo:u}}),C(!1)}).catch(u=>{C(!1),re.custom(S=>r.jsx(ie,{text:u,offset:70,visible:S.visible}))})},[e.currentChapter]),Se=i.useCallback((s,u)=>{var S,p;if(P(u),(S=e.chapterInfos)!=null&&S.length){const f=e.chapterInfos.find(R=>R.chapterId===s);if(f){P(f.chapterNumber==0),d(f.verses);const R=(p=f.chapterAudio)==null?void 0:p.find(W=>W.language==e.readingLanguage);v(R==null?void 0:R.audio)}else u?je(s):Ne(s);C(!1)}else u?je(s):Ne(s)},[e.currentChapter]),je=i.useCallback(s=>{Qe.fetchIntroVerses(s).then(u=>{d(u.verses),e.dispatch({type:Q.ADD_CHAPTERINFO,payload:{chapterInfo:u}})}).catch(u=>{re.custom(S=>r.jsx(ie,{text:u,offset:70,visible:S.visible}))}).finally(()=>{C(!1)})},[]),ut=i.useCallback(async s=>{try{const u=await Qe.fetchSubBookInfo(s);e.dispatch({type:Q.ADD_SUBBOOK,payload:{subBook:u}}),n(u)}catch(u){re.custom(S=>r.jsx(ie,{text:u,visible:S.visible}))}finally{C(!1)}},[e.subBooks,e.currentSubBook]),ze=i.useCallback(s=>{for(const u of e.bookInfos)for(const S of u.subBooks){const p=S.chapterInfos.find(f=>f.chapterId==s);if(p)return p}},[]),Ye=i.useCallback(s=>{for(const u of e.subBooks){const S=u.chapterInfos.find(p=>p.chapterId==s);if(S)return S}},[]);i.useEffect(()=>{const s=e.bookInfos.find(u=>u.bookId==e.currentBook);L(s)},[]),i.useEffect(()=>{var S;const s=(S=e.chapterInfos)==null?void 0:S.find(p=>p.chapterId==e.currentChapter),u=(s==null?void 0:s.chapterNumber)||0;te(u)},[e.chapterInfos]),i.useEffect(()=>{var W,ne,de,_e,Te,we;const s=e.terms.find(Y=>Y.pageTitle=="Reading Page"),u=e.terms.find(Y=>Y.pageTitle==="Chapter Headings"),S=e.terms.find(Y=>Y.pageTitle==="Origin Injil Sub-book Names"),p=e.terms.find(Y=>Y.pageTitle==="Origin Qur'an Surah Names"),f=e.terms.find(Y=>Y.pageTitle==="Origin Tawrat Sub-book Names"),R=e.terms.find(Y=>Y.pageTitle==="Origin Zabur Sub-book Names");(W=s==null?void 0:s.isPublished)!=null&&W[e.appLanguage]&&H(s),(ne=u==null?void 0:u.isPublished)!=null&&ne[e.readingLanguage]&&z(u),(de=S==null?void 0:S.isPublished)!=null&&de[e.readingLanguage]&&E(S),(_e=p==null?void 0:p.isPublished)!=null&&_e[e.readingLanguage]&&ae(p),(Te=f==null?void 0:f.isPublished)!=null&&Te[e.readingLanguage]&&k(f),(we=R==null?void 0:R.isPublished)!=null&&we[e.readingLanguage]&&b(R)},[e.terms,e.readingLanguage]),i.useEffect(()=>{const s=e.subBooks.find(u=>u.subBookId==e.currentSubBook);!s&&e.currentSubBook?ut(e.currentSubBook):s&&e.currentSubBook&&n(s)},[e.subBooks,e.currentSubBook]),i.useEffect(()=>{var s,u,S,p;if(C(!0),e.currentVerse){const f=o.find(R=>R.verseId==e.currentVerse);f&&(se(((s=f[0])==null?void 0:s.verseNumber)-1),F==ce.VERSE_BY_VERSE&&((u=ge.current[f[0].verseNumber-1].current)==null||u.scrollIntoView()))}if(e.currentChapter){const f=ze(e.currentChapter);if(((S=e.subBookInfos)==null?void 0:S.length)>=0){const R=e.subBookInfos.find(W=>W.subBookId===e.currentSubBook);if(R){const W=R.chapterInfos.find(ne=>ne.chapterId===e.currentChapter);if(W){P(W.chapterNumber==0),d(W.verses);const ne=(p=W.chapterAudio)==null?void 0:p.find(de=>de.language==e.readingLanguage);v(ne)}else P(!!f),Se(e.currentChapter,(f==null?void 0:f.chapterNumber)==0)}else P(!!f),Se(e.currentChapter,(f==null?void 0:f.chapterNumber)==0)}else P(!!f),Se(e.currentChapter,(f==null?void 0:f.chapterNumber)==0)}C(!1)},[_,e.currentVerse,e.currentChapter,F]),i.useEffect(()=>{const s=()=>Xe(window.innerHeight);return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),i.useEffect(()=>{var u,S,p,f,R;const s=(u=t==null?void 0:t.chapterInfos)==null?void 0:u.find(W=>(W==null?void 0:W.chapterId)===e.currentChapter);(!((S=s==null?void 0:s.chapterIsPublished)!=null&&S[e.readingLanguage])||!((p=s==null?void 0:s.chapterIsPublished)!=null&&p[e.referenceLanguage]))&&re.custom(W=>r.jsx(ie,{text:"Only one language is translated.",visible:W.visible})),console.log(e.referenceLanguage,e.readingLanguage),console.log((f=s==null?void 0:s.chapterIsPublished)==null?void 0:f[e.referenceLanguage],(R=s==null?void 0:s.chapterIsPublished)==null?void 0:R[e.readingLanguage]),c(s)},[e.readingLanguage,e.referenceLanguage,t]),i.useEffect(()=>{C(!0);let s=!1;if(e.userHistory&&e.userHistory.length>0&&e.userHistory.forEach(u=>{if(u.readChapterIds.includes(e.currentChapter)){s=!0,C(!1);return}}),!s){const u={chapterId:e.currentChapter};Qe.saveHistory(u).then(S=>{e.dispatch({type:Q.SET_USER_HISTORY,payload:{userHistories:S}}),C(!1)}).catch(S=>{S.status==401&&S.response.data.message==dt&&(re.custom(p=>r.jsx(ie,{text:S.response.data.message,visible:p.visible})),ht.logout(),ve("/login")),C(!1)})}},[]),i.useEffect(()=>{var S,p;const s=(S=t==null?void 0:t.chapterInfos)==null?void 0:S.find(f=>f.chapterId==e.currentChapter),u=(p=s==null?void 0:s.verses)==null?void 0:p.find(f=>f.verseId==e.currentVerse);u!=null&&u.verseNumber?V((u==null?void 0:u.verseNumber)-1):V(1)},[e.currentVerse,t]),i.useEffect(()=>{be(qe),se(g)},[g]),i.useEffect(()=>{g<=1&&M(!0)},[g]),i.useEffect(()=>{(F==ce.ONLY_TRNSLATION||_)&&j(0),F!=ce.ONLY_TRNSLATION&&!_&&j(a?200:120)},[F,_]),i.useEffect(()=>{var s,u;F==ce.VERSE_BY_VERSE&&ee>=0&&((u=(s=ge.current[ee])==null?void 0:s.current)==null||u.scrollIntoView())},[ee,F,ge,o]),i.useEffect(()=>{var s,u;F==ce.VERSE_BY_VERSE&&ee>=0&&((u=(s=ge.current[0])==null?void 0:s.current)==null||u.scrollIntoView(),se(0))},[F,o,ge]);const Re=i.useCallback(s=>{var p;C(!0);const u=(p=e.bookmark)==null?void 0:p.find(f=>f.verseId===s),S={verseId:s};try{if(!u)$t.saveBookmark(S).then(f=>{e.dispatch({type:Q.ADD_BOOKMARK,payload:{bookmark:f.bookmark}}),C(!1),re.custom(R=>{var W,ne;return r.jsx(ie,{text:((ne=(W=x==null?void 0:x.texts.find(de=>de.variable=="Bookmark Saved"))==null?void 0:W.text)==null?void 0:ne[e.appLanguage])||"Bookmark saved",type:$e.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:R.visible})})}).catch(f=>{C(!1),f.status==401&&f.response.data.message==dt&&(re.custom(R=>r.jsx(ie,{text:f.response.data.message,offset:e.showAudioSeekBar?125:70,visible:R.visible})),ht.logout(),ve("/login"))});else{const f=e.bookmark.filter(R=>R.verseId==s);f&&f.length>0&&$t.deleteBookmark(f[0]._id).then(()=>{e.dispatch({type:Q.REMOVE_BOOKMARK,payload:{bookmarkId:u._id}}),C(!1),re.custom(R=>{var W,ne;return r.jsx(ie,{text:((ne=(W=x==null?void 0:x.texts.find(de=>de.variable=="Bookmark Deleted"))==null?void 0:W.text)==null?void 0:ne[e.appLanguage])||"Bookmark deleted",type:$e.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:R.visible})})}).catch(R=>{C(!1),R.status==401&&R.response.data.message==dt&&(re.custom(W=>r.jsx(ie,{text:R.response.data.message,type:$e.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:W.visible})),ht.logout(),ve("/login"))})}}catch(f){C(!1),re.custom(R=>r.jsx(ie,{text:f,type:$e.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:R.visible}))}},[e]),Rt=i.useCallback((s,u,S)=>{let p=u+(S-s),f=Ce-150-p;p<Ie?(p=Ie,f=Ce-150-Ie):f<Ue&&(p=Ce-150-Ue),j(p)},[Ce]),Bn=s=>{const u=s.clientY,S=D,p=R=>Rt(u,S,R.clientY),f=()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",f)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",f)},On=s=>{const u=s.touches[0].clientY,S=D,p=R=>Rt(u,S,R.touches[0].clientY),f=()=>{document.removeEventListener("touchmove",p),document.removeEventListener("touchend",f)};document.addEventListener("touchmove",p),document.addEventListener("touchend",f)},Mn=s=>{e.dispatch({type:Q.SET_AUDIO_SEEK_BAR_STATUS,payload:{showAudioSeekBar:s}})},Dn=()=>{ve("/settings")},Hn=()=>{ve("/sound-settings")},Vn=()=>{e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:""}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:rt.READING}}),ve("/book")},Fn=()=>{var S,p;const s=(S=t==null?void 0:t.chapterInfos)==null?void 0:S.find(f=>f.chapterNumber==G),u=(p=s==null?void 0:s.verses)==null?void 0:p.find(f=>f.verseNumber==ee+1);e.dispatch({type:Q.SET_CURRENT_SUBBOOK,payload:{currentSubBook:t==null?void 0:t.subBookId}}),e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:s==null?void 0:s.chapterId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:u==null?void 0:u.verseId}}),ve("/subbookexplorer")},Wn=i.useCallback(s=>{var f,R,W,ne,de,_e,Te,we;const u=Y=>{var q;const Z=(q=t==null?void 0:t.chapterInfos)==null?void 0:q.find(K=>K.chapterNumber==Y);Z&&(e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:Z.chapterId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:rt.READING}}),V(0),se(0),Z.chapterNumber==0?P(!0):P(!1),te(Z.chapterNumber),d(Z.verses),C(!1))},S=(Y,Z)=>{if(Y&&Y.chapterInfos&&Y.chapterInfos.length>0){const q=Y.chapterInfos[0].chapterId;e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:q}}),e.dispatch({type:Q.SET_CURRENT_SUBBOOK,payload:{currentSubBook:Y.subBookId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:rt.READING}}),V(1),se(1);const K=Ye(q);n(Y),Se(q,(K==null?void 0:K.chapterNumber)==0)}else re.custom(q=>{var K,le,ye,Be;return r.jsx(ie,{text:Z?((le=(K=x==null?void 0:x.texts.find(Ae=>Ae.variable=="Last Chapter"))==null?void 0:K.text)==null?void 0:le[e.appLanguage])||"Last Chapter":((Be=(ye=x==null?void 0:x.texts.find(Ae=>Ae.variable=="First Chapter"))==null?void 0:ye.text)==null?void 0:Be[e.appLanguage])||"First Chapter",offset:e.showAudioSeekBar?125:70,visible:q.visible})}),C(!1)};if(((f=l==null?void 0:l.bookTitle)==null?void 0:f.en)=="Qur'an"||((R=l==null?void 0:l.bookTitle)==null?void 0:R.en)=="Zabur"){const Y=((W=l==null?void 0:l.subBooks)==null?void 0:W.length)||1,Z=(t==null?void 0:t.subBookNumber)||1;if(s==Pe)if(Z+1<Y){const q=l.subBooks.find(K=>K.subBookNumber==Z+1);e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),V(0),se(0),q&&S(q,!0)}else re.custom(q=>{var K,le;return r.jsx(ie,{text:((le=(K=x==null?void 0:x.texts.find(ye=>ye.variable=="Last Chapter"))==null?void 0:K.text)==null?void 0:le[e.appLanguage])||"",offset:70,visible:q.visible})});else if(Z-1>0){const q=l.subBooks.find(K=>K.subBookNumber==Z-1);e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),V(0),se(0),q&&S(q,!1)}else re.custom(q=>{var K,le;return r.jsx(ie,{text:((le=(K=x==null?void 0:x.texts.find(ye=>ye.variable=="First Chapter"))==null?void 0:K.text)==null?void 0:le[e.appLanguage])||"",offset:70,visible:q.visible})})}else{const Y=((ne=t==null?void 0:t.chapterInfos)==null?void 0:ne.length)||1;if(s==Pe)if(G+1<=Y-1){const Z=((_e=(de=t==null?void 0:t.chapterInfos)==null?void 0:de.find(q=>q.chapterNumber==G+1))==null?void 0:_e.chapterNumber)||2;e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),V(0),se(0),u(Z)}else re.custom(Z=>{var q,K;return r.jsx(ie,{text:((K=(q=x==null?void 0:x.texts.find(le=>le.variable=="Last Chapter"))==null?void 0:q.text)==null?void 0:K[e.appLanguage])||"Last Chapter",offset:70,visible:Z.visible})});else if(G-1>0){const Z=((we=(Te=t==null?void 0:t.chapterInfos)==null?void 0:Te.find(q=>q.chapterNumber==G-1))==null?void 0:we.chapterNumber)||1;e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),V(0),se(0),u(Z)}else re.custom(Z=>{var q,K;return r.jsx(ie,{text:((K=(q=x==null?void 0:x.texts.find(le=>le.variable=="First Chapter"))==null?void 0:q.text)==null?void 0:K[e.appLanguage])||"First Chapter",offset:70,visible:Z.visible})})}},[e.subBooks,t,G]),qn=()=>_&&r.jsx(Tn,{showaudioseekbar:"false",children:r.jsx(_n,{verses:o,topVerseNumber:g,showTitle:T,prevPage:e.prevPage,height:Le,originPanelHeight:D,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:_,readingLanguage:e.readingLanguage,handleBookmark:Re})}),Un=()=>{var s,u,S,p,f,R,W,ne,de,_e,Te,we,Y,Z,q,K,le,ye,Be,Ae,At,Pt,Nt,jt,Bt,Ot,Mt,Dt,Ht,Vt,Ft,Wt,qt,Ut;return!_&&r.jsxs(Tn,{showaudioseekbar:e.showAudioSeekBar?"true":"false",children:[F==ce.SPLIT_PANEL&&!!((s=m==null?void 0:m.chapterIsPublished)!=null&&s[e.referenceLanguage])&&r.jsxs(r.Fragment,{children:[r.jsx(Wr,{verses:o,topVerseNumber:g,prevPage:e.prevPage,height:D,referenceLanguage:e.referenceLanguage}),r.jsx(yi,{style:{backgroundColor:fe},onMouseDown:Bn,onTouchStart:On})]}),(F==ce.ONLY_TRNSLATION||F==ce.SPLIT_PANEL)&&((u=m==null?void 0:m.chapterIsPublished)==null?void 0:u[e.readingLanguage])&&r.jsx(_n,{subBookInfo:t,chapterNumber:G,verses:o,topVerseNumber:g,showTitle:T,prevPage:e.prevPage,height:Le,originPanelHeight:D,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:_,readingLanguage:e.readingLanguage,isSpecialBook:((S=l==null?void 0:l.bookTitle)==null?void 0:S.en)=="Qur'an"||((p=l==null?void 0:l.bookTitle)==null?void 0:p.en)=="Zabur",originTitle:((f=l==null?void 0:l.bookTitle)==null?void 0:f.en)=="Injil"?((ne=(W=(R=B==null?void 0:B.texts)==null?void 0:R.find(ue=>{var me;return ue.variable===((me=t==null?void 0:t.subBookTitle)==null?void 0:me.origin)}))==null?void 0:W.text)==null?void 0:ne[e.readingLanguage])||((de=t==null?void 0:t.subBookTitle)==null?void 0:de.en):((_e=l==null?void 0:l.bookTitle)==null?void 0:_e.en)=="Qur'an"?((Te=t==null?void 0:t.subBookTitle)==null?void 0:Te.transliteration)||((we=t==null?void 0:t.subBookTitle)==null?void 0:we.en):((Y=l==null?void 0:l.bookTitle)==null?void 0:Y.en)=="Tawrat"?((K=(q=(Z=N==null?void 0:N.texts)==null?void 0:Z.find(ue=>{var me;return ue.variable===((me=t==null?void 0:t.subBookTitle)==null?void 0:me.en)}))==null?void 0:q.text)==null?void 0:K[e.readingLanguage])||((le=t==null?void 0:t.subBookTitle)==null?void 0:le.en):((ye=t==null?void 0:t.subBookTitle)==null?void 0:ye.transliteration)||((Be=t==null?void 0:t.subBookTitle)==null?void 0:Be.en),ordinary:((Pt=(At=(Ae=A==null?void 0:A.texts)==null?void 0:Ae.find(ue=>ue.variable==`The ${ar(G||1)}`))==null?void 0:At.text)==null?void 0:Pt[e.readingLanguage])||"The 1st",bookUnit:((Nt=l==null?void 0:l.bookTitle)==null?void 0:Nt.en)=="Injil"||((jt=l==null?void 0:l.bookTitle)==null?void 0:jt.en)=="Tawrat"?((Mt=(Ot=(Bt=A==null?void 0:A.texts)==null?void 0:Bt.find(ue=>ue.variable==="Chapter"))==null?void 0:Ot.text)==null?void 0:Mt[e.readingLanguage])||"Chapter":((Dt=l==null?void 0:l.bookTitle)==null?void 0:Dt.en)=="Qur'an"?((Ft=(Vt=(Ht=A==null?void 0:A.texts)==null?void 0:Ht.find(ue=>ue.variable==="Surah"))==null?void 0:Vt.text)==null?void 0:Ft[e.readingLanguage])||"Surah":((Ut=(qt=(Wt=A==null?void 0:A.texts)==null?void 0:Wt.find(ue=>ue.variable==="Psalm"))==null?void 0:qt.text)==null?void 0:Ut[e.readingLanguage])||"Psalm",handleBookmark:Re}),F==ce.VERSE_BY_VERSE&&r.jsx(pi,{children:o.map((ue,me)=>{var Xt;return r.jsxs(Ci,{ref:ge.current[me],children:[r.jsx(wt,{verse:ue,refer:xe.current[me],index:me,referenceLanguage:e.referenceLanguage}),r.jsx(Lt,{refer:xe.current[me],verse:ue,index:me,readingLanguage:e.readingLanguage,isLoggedIn:!!e.currentUser,handleBookmark:Re,isExistingInBookmark:((Xt=e.bookmark.filter(zn=>zn.verseId==ue.verseId))==null?void 0:Xt.length)>0})]},me)})})]})},Xn=()=>{var s,u,S,p;return r.jsx(bi,{src:h,bookTitle:(l==null?void 0:l.bookTitle.en)||"",bookImage:(l==null?void 0:l.bookImage)||"",subBookTitle:((s=t==null?void 0:t.subBookTitle)==null?void 0:s.en)||"",subBookNumber:(t==null?void 0:t.subBookNumber)||0,chapterNumber:G,showAudioSeekBar:e.showAudioSeekBar,readingLanguage:e.readingLanguage,verses:o,isIntro:_,terms:x||{pageId:"",pageNumber:0,pageTitle:"",isCompleted:{},isPublished:{},texts:[]},subBookTerms:(((u=l==null?void 0:l.bookTitle)==null?void 0:u.en)==="Injil"?B:((S=l==null?void 0:l.bookTitle)==null?void 0:S.en)==="Qur'an"?$:((p=l==null?void 0:l.bookTitle)==null?void 0:p.en)==="Zabur"?he:N)||{pageId:"",pageNumber:0,pageTitle:"",isCompleted:{},isPublished:{},texts:[]},setAudioSeekBarStatus:Mn,moveToSettingsPage:Dn,moveToSoundSettingPage:Hn,moveToIndexPage:Vn,moveToSubBookExplorer:Fn,handleNavigateBtn:Wn})};return r.jsxs(Si,{style:{backgroundColor:oe},children:[qn(),Un(),Xn(),I&&r.jsx(lr,{})]})}const Ti=e=>({bookmark:e.books.bookmark,bookInfos:e.books.bookInfos,currentBook:e.pageStatus.currentBook,appLanguage:e.user.appLanguage,readingLanguage:e.user.readingLanguage,referenceLanguage:e.user.referenceLanguage,prevPage:e.pageStatus.prevPage,subBooks:e.books.subBooks,subBookInfos:e.books.subBookInfos,chapterInfos:e.books.chapterInfos,currentSubBook:e.pageStatus.currentSubBook,currentChapter:e.pageStatus.currentChapter,currentVerse:e.pageStatus.currentVerse,userHistory:e.books.userHistory,currentUser:e.user.currentUser,showAudioSeekBar:e.pageStatus.showAudioSeekBar,terms:e.terms.terms}),Mi=rr(Ti)(_i);export{Mi as default};
