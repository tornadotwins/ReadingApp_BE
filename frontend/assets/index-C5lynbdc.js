import{b as i,j as r,a3 as W,aw as qn,a5 as de,ay as We,aK as rt,aL as qe,aM as Cn,X as _n,a8 as Un,au as ct,ab as qt,as as Tt,aN as Ye,aO as Ae,a9 as Ke,aP as Ut,aQ as Xn,aR as zn,aS as Xt,aT as Yn,aC as nt,aB as dt,aA as Ge}from"./index-DEG7EQ5W.js";import{S as we,g as ke,aL as Kn,aM as Gn,aN as $n,aO as Qn,s as y,B as E,aP as ot,r as Tn,aQ as Zn,V as se,c as Jn,u as er,j as G}from"./App-DgKGe4wk.js";import{I as F,T as Q,c as tr}from"./index-YIZxQGig.js";import{p as nr}from"./index-Ijk0Spv4.js";import{d as zt,A as rr}from"./index-D6bfJm1d.js";import{C as le}from"./index-B0lHUwSa.js";import{L as ir}from"./index-DBFuRob-.js";import{a as ht}from"./auth.service-C5exErY4.js";import{b as $e}from"./book.service-qjkGip4N.js";import{b as Yt}from"./bookmark.service-A8OWCLsA.js";import"./index-BvRsoc9J.js";import"./index-C88pvD_q.js";function ar(e){const{theme:a}=i.useContext(we),{buttonColor:o,buttonTextColor:d}=ke(a);return r.jsx(Kn,{ref:e.refer,"data-id":e.dataId,backgroundColor:o,children:r.jsxs(Gn,{progresscolor:d,children:[r.jsx($n,{variant:"determinate",value:e.progress,thickness:2}),r.jsx(Qn,{src:a==W.EASY_OCEAN?F.bookmark2_white:F.bookmark2_default})]})})}var wn={};function or(e){if(e&&e.__esModule)return e;var a={};if(e!=null){for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};d.get||d.set?Object.defineProperty(a,o,d):a[o]=e[o]}}return a.default=e,a}var En=or,pe={},ft,Kt;function sr(){if(Kt)return ft;Kt=1;function e(a){return a&&a.__esModule?a:{default:a}}return ft=e,ft}var Qe,Gt;function lr(){if(Gt)return Qe;Gt=1;function e(){return Qe=e=Object.assign||function(a){for(var o=1;o<arguments.length;o++){var d=arguments[o];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])}return a},e.apply(this,arguments)}return Qe=e,Qe}var gt,$t;function ur(){if($t)return gt;$t=1;function e(a,o){if(a==null)return{};var d={},h=Object.keys(a),f,R;for(R=0;R<h.length;R++)f=h[R],!(o.indexOf(f)>=0)&&(d[f]=a[f]);return d}return gt=e,gt}var xt,Qt;function cr(){if(Qt)return xt;Qt=1;var e=ur();function a(o,d){if(o==null)return{};var h=e(o,d),f,R;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);for(R=0;R<p.length;R++)f=p[R],!(d.indexOf(f)>=0)&&Object.prototype.propertyIsEnumerable.call(o,f)&&(h[f]=o[f])}return h}return xt=a,xt}var vt,Zt;function dr(){if(Zt)return vt;Zt=1;function e(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}return vt=e,vt}var mt,Jt;function hr(){if(Jt)return mt;Jt=1;function e(o,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}function a(o,d,h){return d&&e(o.prototype,d),h&&e(o,h),o}return mt=a,mt}var Oe,en;function fr(){if(en)return Oe;en=1;function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(h){return typeof h}:e=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e(o)}function a(o){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?Oe=a=function(h){return e(h)}:Oe=a=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":e(h)},a(o)}return Oe=a,Oe}var bt,tn;function gr(){if(tn)return bt;tn=1;function e(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}return bt=e,bt}var St,nn;function xr(){if(nn)return St;nn=1;var e=fr(),a=gr();function o(d,h){return h&&(e(h)==="object"||typeof h=="function")?h:a(d)}return St=o,St}var Ze,rn;function vr(){if(rn)return Ze;rn=1;function e(a){return Ze=e=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},e(a)}return Ze=e,Ze}var Je,an;function mr(){if(an)return Je;an=1;function e(a,o){return Je=e=Object.setPrototypeOf||function(h,f){return h.__proto__=f,h},e(a,o)}return Je=e,Je}var yt,on;function br(){if(on)return yt;on=1;var e=mr();function a(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),d&&e(o,d)}return yt=a,yt}var pt,sn;function kn(){if(sn)return pt;sn=1;var e=function(){};return pt=e,pt}var Ct={},_t,ln;function st(){if(ln)return _t;ln=1;function e(a){return a&&a.__esModule?a:{default:a}}return _t=e,_t}var Me={},un;function Sr(){if(un)return Me;un=1;var e=st();Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var a=e(i);e(kn());var o=function(f){f.index;var R=f.children;a.default.Children.count(R)},d=o;return Me.default=d,Me}var et={},De={},cn;function In(){if(cn)return De;cn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var e={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3};return De.default=e,De}var dn;function yr(){if(dn)return et;dn=1;var e=st();Object.defineProperty(et,"__esModule",{value:!0}),et.default=d;var a=e(i),o=e(In());function d(h){var f=h.children,R=h.startIndex,p=h.startX,D=h.pageX,j=h.viewLength,C=h.resistance,P=a.default.Children.count(f)-1,v=R+(p-D)/j,H;return C?v<0?v=Math.exp(v*o.default.RESISTANCE_COEF)-1:v>P&&(v=P+1-Math.exp((P-v)*o.default.RESISTANCE_COEF)):v<0?(v=0,H=(v-R)*j+D):v>P&&(v=P,H=(v-R)*j+D),{index:v,startX:H}}return et}var He={},hn;function pr(){if(hn)return He;hn=1;var e=st();Object.defineProperty(He,"__esModule",{value:!0}),He.default=void 0;var a=e(i),o=function(f,R){var p=!1,D=function(A){return A?A.key:"empty"};if(f.children.length&&R.children.length){var j=a.default.Children.map(f.children,D),C=j[f.index];if(C!=null){var P=a.default.Children.map(R.children,D),v=P[R.index];C===v&&(p=!0)}}return p},d=o;return He.default=d,He}var Ve={},fn;function Cr(){if(fn)return Ve;fn=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=void 0;function e(o,d){var h=o%d;return h<0?h+d:h}var a=e;return Ve.default=a,Ve}var gn;function _r(){return gn||(gn=1,function(e){var a=st();Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"checkIndexBounds",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"computeIndex",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"constant",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"getDisplaySameSlide",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return R.default}});var o=a(Sr()),d=a(yr()),h=a(In()),f=a(pr()),R=a(Cr())}(Ct)),Ct}var xn;function Tr(){if(xn)return pe;xn=1;var e=En,a=sr();Object.defineProperty(pe,"__esModule",{value:!0}),pe.getDomTreeShapes=k,pe.findNativeHandler=oe,pe.default=pe.SwipeableViewsContext=void 0;var o=a(lr()),d=a(cr()),h=a(dr()),f=a(hr()),R=a(xr()),p=a(vr()),D=a(br()),j=e(i);a(nr),a(kn());var C=_r();function P(b,l,I,t){return b.addEventListener(l,I,t),{remove:function(){b.removeEventListener(l,I,t)}}}var v={container:{direction:"ltr",display:"flex",willChange:"transform"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},H={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(l){return"translate(".concat(-l,"%, 0)")},"x-reverse":function(l){return"translate(".concat(l,"%, 0)")},y:function(l){return"translate(0, ".concat(-l,"%)")},"y-reverse":function(l){return"translate(0, ".concat(l,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function A(b,l){var I=l.duration,t=l.easeFunction,n=l.delay;return"".concat(b," ").concat(I," ").concat(t," ").concat(n)}function q(b,l){var I=H.rotationMatrix[l];return{pageX:I.x[0]*b.pageX+I.x[1]*b.pageY,pageY:I.y[0]*b.pageX+I.y[1]*b.pageY}}function B(b){return b.touches=[{pageX:b.pageX,pageY:b.pageY}],b}function k(b,l){for(var I=[];b&&b!==l&&b!==document.body&&!b.hasAttribute("data-swipeable");){var t=window.getComputedStyle(b);t.getPropertyValue("position")==="absolute"||t.getPropertyValue("overflow-x")==="hidden"?I=[]:(b.clientWidth>0&&b.scrollWidth>b.clientWidth||b.clientHeight>0&&b.scrollHeight>b.clientHeight)&&I.push({element:b,scrollWidth:b.scrollWidth,scrollHeight:b.scrollHeight,clientWidth:b.clientWidth,clientHeight:b.clientHeight,scrollLeft:b.scrollLeft,scrollTop:b.scrollTop}),b=b.parentNode}return I}var K=null;function oe(b){var l=b.domTreeShapes,I=b.pageX,t=b.startX,n=b.axis;return l.some(function(m){var s=I>=t;(n==="x"||n==="y")&&(s=!s);var g=Math.round(m[H.scrollPosition[n]]),U=g>0,te=g+m[H.clientLength[n]]<m[H.scrollLength[n]];return s&&te||!s&&U?(K=m.element,!0):!1})}var N=j.createContext();pe.SwipeableViewsContext=N;var L=function(b){(0,D.default)(l,b);function l(I){var t;return(0,h.default)(this,l),t=(0,R.default)(this,(0,p.default)(l).call(this,I)),t.rootNode=null,t.containerNode=null,t.ignoreNextScrollEvents=!1,t.viewLength=0,t.startX=0,t.lastX=0,t.vx=0,t.startY=0,t.isSwiping=void 0,t.started=!1,t.startIndex=0,t.transitionListener=null,t.touchMoveListener=null,t.activeSlide=null,t.indexCurrent=null,t.firstRenderTimeout=null,t.setRootNode=function(n){t.rootNode=n},t.setContainerNode=function(n){t.containerNode=n},t.setActiveSlide=function(n){t.activeSlide=n,t.updateHeight()},t.handleSwipeStart=function(n){var m=t.props.axis,s=q(n.touches[0],m);t.viewLength=t.rootNode.getBoundingClientRect()[H.length[m]],t.startX=s.pageX,t.lastX=s.pageX,t.vx=0,t.startY=s.pageY,t.isSwiping=void 0,t.started=!0;var g=window.getComputedStyle(t.containerNode),U=g.getPropertyValue("-webkit-transform")||g.getPropertyValue("transform");if(U&&U!=="none"){var te=U.split("(")[1].split(")")[0].split(","),ie=window.getComputedStyle(t.rootNode),T=q({pageX:parseInt(te[4],10),pageY:parseInt(te[5],10)},m);t.startIndex=-T.pageX/(t.viewLength-parseInt(ie.paddingLeft,10)-parseInt(ie.paddingRight,10))||0}},t.handleSwipeMove=function(n){if(!t.started){t.handleTouchStart(n);return}if(!(K!==null&&K!==t.rootNode)){var m=t.props,s=m.axis,g=m.children,U=m.ignoreNativeScroll,te=m.onSwitching,ie=m.resistance,T=q(n.touches[0],s);if(t.isSwiping===void 0){var _=Math.abs(T.pageX-t.startX),O=Math.abs(T.pageY-t.startY),ee=_>O&&_>C.constant.UNCERTAINTY_THRESHOLD;if(!ie&&(s==="y"||s==="y-reverse")&&(t.indexCurrent===0&&t.startX<T.pageX||t.indexCurrent===j.Children.count(t.props.children)-1&&t.startX>T.pageX)){t.isSwiping=!1;return}if(_>O&&n.preventDefault(),ee===!0||O>C.constant.UNCERTAINTY_THRESHOLD){t.isSwiping=ee,t.startX=T.pageX;return}}if(t.isSwiping===!0){n.preventDefault(),t.vx=t.vx*.5+(T.pageX-t.lastX)*.5,t.lastX=T.pageX;var J=(0,C.computeIndex)({children:g,resistance:ie,pageX:T.pageX,startIndex:t.startIndex,startX:t.startX,viewLength:t.viewLength}),Z=J.index,ae=J.startX;if(K===null&&!U){var ge=k(n.target,t.rootNode),ne=oe({domTreeShapes:ge,startX:t.startX,pageX:T.pageX,axis:s});if(ne)return}ae?t.startX=ae:K===null&&(K=t.rootNode),t.setIndexCurrent(Z);var me=function(){te&&te(Z,"move")};(t.state.displaySameSlide||!t.state.isDragging)&&t.setState({displaySameSlide:!1,isDragging:!0},me),me()}}},t.handleSwipeEnd=function(){if(K=null,!!t.started&&(t.started=!1,t.isSwiping===!0)){var n=t.state.indexLatest,m=t.indexCurrent,s=n-m,g;Math.abs(t.vx)>t.props.threshold?t.vx>0?g=Math.floor(m):g=Math.ceil(m):Math.abs(s)>t.props.hysteresis?g=s>0?Math.floor(m):Math.ceil(m):g=n;var U=j.Children.count(t.props.children)-1;g<0?g=0:g>U&&(g=U),t.setIndexCurrent(g),t.setState({indexLatest:g,isDragging:!1},function(){t.props.onSwitching&&t.props.onSwitching(g,"end"),t.props.onChangeIndex&&g!==n&&t.props.onChangeIndex(g,n,{reason:"swipe"}),m===n&&t.handleTransitionEnd()})}},t.handleTouchStart=function(n){t.props.onTouchStart&&t.props.onTouchStart(n),t.handleSwipeStart(n)},t.handleTouchEnd=function(n){t.props.onTouchEnd&&t.props.onTouchEnd(n),t.handleSwipeEnd(n)},t.handleMouseDown=function(n){t.props.onMouseDown&&t.props.onMouseDown(n),n.persist(),t.handleSwipeStart(B(n))},t.handleMouseUp=function(n){t.props.onMouseUp&&t.props.onMouseUp(n),t.handleSwipeEnd(B(n))},t.handleMouseLeave=function(n){t.props.onMouseLeave&&t.props.onMouseLeave(n),t.started&&t.handleSwipeEnd(B(n))},t.handleMouseMove=function(n){t.props.onMouseMove&&t.props.onMouseMove(n),t.started&&t.handleSwipeMove(B(n))},t.handleScroll=function(n){if(t.props.onScroll&&t.props.onScroll(n),n.target===t.rootNode){if(t.ignoreNextScrollEvents){t.ignoreNextScrollEvents=!1;return}var m=t.state.indexLatest,s=Math.ceil(n.target.scrollLeft/n.target.clientWidth)+m;t.ignoreNextScrollEvents=!0,n.target.scrollLeft=0,t.props.onChangeIndex&&s!==m&&t.props.onChangeIndex(s,m,{reason:"focus"})}},t.updateHeight=function(){if(t.activeSlide!==null){var n=t.activeSlide.children[0];n!==void 0&&n.offsetHeight!==void 0&&t.state.heightLatest!==n.offsetHeight&&t.setState({heightLatest:n.offsetHeight})}},t.state={indexLatest:I.index,isDragging:!1,renderOnlyActive:!I.disableLazyLoading,heightLatest:0,displaySameSlide:!0},t.setIndexCurrent(I.index),t}return(0,f.default)(l,[{key:"componentDidMount",value:function(){var t=this;this.transitionListener=P(this.containerNode,"transitionend",function(n){n.target===t.containerNode&&t.handleTransitionEnd()}),this.touchMoveListener=P(this.rootNode,"touchmove",function(n){t.props.disabled||t.handleSwipeMove(n)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){t.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var n=t.index;typeof n=="number"&&n!==this.props.index&&(this.setIndexCurrent(n),this.setState({displaySameSlide:(0,C.getDisplaySameSlide)(this.props,t),indexLatest:n}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var t=this;return{slideUpdateHeight:function(){t.updateHeight()}}}},{key:"setIndexCurrent",value:function(t){if(!this.props.animateTransitions&&this.indexCurrent!==t&&this.handleTransitionEnd(),this.indexCurrent=t,this.containerNode){var n=this.props.axis,m=H.transform[n](t*100);this.containerNode.style.WebkitTransform=m,this.containerNode.style.transform=m}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var t=this,n=this.props;n.action;var m=n.animateHeight,s=n.animateTransitions,g=n.axis,U=n.children,te=n.containerStyle,ie=n.disabled;n.disableLazyLoading;var T=n.enableMouseEvents;n.hysteresis,n.ignoreNativeScroll,n.index,n.onChangeIndex,n.onSwitching,n.onTransitionEnd,n.resistance;var _=n.slideStyle,O=n.slideClassName,ee=n.springConfig,J=n.style;n.threshold;var Z=(0,d.default)(n,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"]),ae=this.state,ge=ae.displaySameSlide,ne=ae.heightLatest,me=ae.indexLatest,Pe=ae.isDragging,be=ae.renderOnlyActive,lt=ie?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},Ue=!ie&&T?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},ve=(0,o.default)({},v.slide,_),Ee,Se;if(Pe||!s||ge)Ee="all 0s ease 0s",Se="all 0s ease 0s";else if(Ee=A("transform",ee),Se=A("-webkit-transform",ee),ne!==0){var Ne=", ".concat(A("height",ee));Ee+=Ne,Se+=Ne}var Ie={height:null,WebkitFlexDirection:H.flexDirection[g],flexDirection:H.flexDirection[g],WebkitTransition:Se,transition:Ee};if(!be){var Xe=H.transform[g](this.indexCurrent*100);Ie.WebkitTransform=Xe,Ie.transform=Xe}return m&&(Ie.height=ne),j.createElement(N.Provider,{value:this.getSwipeableViewsContext()},j.createElement("div",(0,o.default)({ref:this.setRootNode,style:(0,o.default)({},H.root[g],J)},Z,lt,Ue,{onScroll:this.handleScroll}),j.createElement("div",{ref:this.setContainerNode,style:(0,o.default)({},Ie,v.container,te),className:"react-swipeable-view-container"},j.Children.map(U,function(ut,Le){if(be&&Le!==me)return null;var je,ze=!0;return Le===me&&(ze=!1,m&&(je=t.setActiveSlide,ve.overflowY="hidden")),j.createElement("div",{ref:je,style:ve,className:O,"aria-hidden":ze,"data-swipeable":"true"},ut)}))))}}]),l}(j.Component);L.displayName="ReactSwipableView",L.propTypes={},L.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var fe=L;return pe.default=fe,pe}(function(e){var a=En;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"SwipeableViewsContext",{enumerable:!0,get:function(){return o.SwipeableViewsContext}});var o=a(Tr())})(wn);const wr=qn(wn),Er=y(E)({width:"100%",margin:"0px"}),kr=y(E)({margin:"0px",padding:"0px",position:"relative"}),Ir=y(E)({width:"100%",height:"100%",margin:"0px",padding:"0px",position:"relative"}),Ln=y(wr)(({scrollcolor:e})=>({width:"100%",height:"100%",marginBottom:"8px",padding:"14px 0px 20px 0px","::-webkit-scrollbar-thumb":{background:"red"},"::-webkit-scrollbar-thumb: hover":{backgroundColor:e,opacity:"1"},"& .react-swipeable-view-container":{height:"100%"}})),it=y(E)({width:"100%",padding:"0px 14px","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),Rn=y(E)({height:"10px",width:"100%",position:"absolute",bottom:"0",display:"flex",justifyContent:"center","& :last-child":{marginRight:"0px"}}),at=y(E)(({active:e,linecolor:a})=>({borderTop:`1px solid ${a}`,width:e=="true"?"20px":e=="false"?"10px":"0px",color:"black",marginRight:"5px",marginTop:"5px"})),Lr=y(E)(({scrollbarcolor:e})=>({width:"100%",height:"100%","::-webkit-scrollbar-thumb":{backgroundColor:"red"},"::-webkit-scrollbar-track":{backgroundColor:"transparent"},scrollbarWidth:"auto",scrollbarColor:`${e} transparent`})),vn=y(E)({width:"100%",padding:"0px",margin:"0px"}),Rr=y(E)({width:"100%",margin:"auto",padding:"20px 0px","& .MuiBox-root":{textWrap:"wrap"}}),Ar=y(E)({width:"100%",height:"100%",position:"relative",overflowX:"hidden",padding:"0px 15px",scrollbarGutter:"stable both-edges"}),Pr=y(E)({}),mn=y("img")({width:"100%",marginTop:"20px"}),Nr=y(E)({width:"100%",marginTop:"20px","& .MuiAccordion-gutters":{width:"100%"},"& .MuiAccordion-root .MuiAccordionSummary-root .Mui-expanded":{margin:"12px 0px !important"}}),jr=y(E)({width:"100%","& .MuiBox-root":{padding:"0px "}}),Br=y(E)({width:"100%",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"}),Or=y(E)({width:"100%",padding:"20px 0px",position:"relative",display:"flex",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),Mr=y(E)({width:"100%",margin:"0px",position:"relative",display:"flex",flexDirection:"column",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}});y(E)({width:"40px",height:"100%",backgroundColor:"#FFAA5D",justifyContent:"center",alignItems:"center"});y(E)({width:"20px",height:"50%",position:"relative"});function wt(e){var P,v,H,A;const[a,o]=i.useState(0),{theme:d,textSize:h,referenceLanguage:f,showQuranReferences:R,displayType:p}=i.useContext(we),{topTextColor:D,backgroundColor:j}=ke(d),C=(v=(P=e==null?void 0:e.verse)==null?void 0:P.verseReference)==null?void 0:v.ref;return p==de.VERSE_BY_VERSE?r.jsxs(kr,{children:[r.jsxs(Ln,{style:{backgroundColor:j},scrollcolor:D,enableMouseEvents:!0,disabled:!R,onSwitching:q=>o(q),children:[r.jsx(it,{children:r.jsx(vn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,children:r.jsx(Q,{fontFamily:"Inter",fontSize:h,lineHeight:h+20,fontWeight:"700",color:D,dataIndex:e.index.toString(),language:f,direction:f==We?"rtl":"ltr",children:(H=e.verse.verseText)==null?void 0:H[f]})})}),r.jsx(it,{children:C&&C.map((q,B)=>r.jsx(Q,{fontFamily:"Inter",fontWeight:"700",fontSize:h,lineHeight:h+20,color:D,children:q},B))})]}),C&&C.length>0&&R&&r.jsxs(Rn,{children:[r.jsx(at,{active:a==0?"true":"false",linecolor:D}),r.jsx(at,{active:a==1?"true":"false",linecolor:D})]})]}):r.jsx(vn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,style:{backgroundColor:j},children:r.jsx(Q,{fontFamily:"Inter",fontSize:h,lineHeight:h+20,fontWeight:"700",color:D,dataIndex:e.index.toString(),language:f,direction:f==We?"rtl":"ltr",onTouchStart:()=>e.onTouchStart&&e.onTouchStart(e.verse.verseReference.ref),onMouseDown:()=>e.onMouseDown&&e.onMouseDown(e.verse.verseReference.ref),children:(A=e.verse.verseText)==null?void 0:A[f]})})}function Dr(e){var K,oe;const[a,o]=i.useState([]),[d,h]=i.useState(0),{scrollTopVerseIndex:f,setScrollTopVerseIndex:R,setHiddenTopVersePercentage:p,activeScroll:D,setActiveScroll:j}=i.useContext(ot),C=i.useRef([]);C.current=(K=e.verses)==null?void 0:K.map((N,L)=>C.current[L]??i.createRef());const{theme:P,textSize:v,showQuranReferences:H,displayType:A}=i.useContext(we),{backgroundColor:q,topTextColor:B}=ke(P);i.useEffect(()=>{var N;if(((N=e.verses)==null?void 0:N.length)>0){const L=C.current[f-1];L!=null&&L.current&&L.current.scrollIntoView(),R(0),p(0)}},[e.verses]),i.useEffect(()=>{var N;if(A==de.SPLIT_PANEL&&f>=0&&(D==rt||D==qe)){const L=C.current[Number(f)];(N=L==null?void 0:L.current)==null||N.scrollIntoView()}},[f,A]),i.useEffect(()=>{var N,L;C.current[0]&&!f&&((L=(N=C.current[0])==null?void 0:N.current)==null||L.scrollIntoView())},[f]);const k=N=>{if(A==de.SPLIT_PANEL){j(Cn);const L=N.currentTarget.getBoundingClientRect().top,fe=N.currentTarget.clientHeight;let b=-1,l=1/0;if(C.current.forEach((I,t)=>{if(I.current){const n=I.current.getBoundingClientRect().top,m=I.current.getBoundingClientRect().bottom,s=n-L;m>L&&n<L+fe&&Math.abs(s)<l&&(l=Math.abs(s),b=t)}}),b!==-1){R(b);const I=C.current[b];if(I.current){const t=I.current.getBoundingClientRect().top,n=I.current.clientHeight,m=Math.max(0,Math.min(100,(L-t)/n*100));p(m)}}}};return r.jsx(Er,{style:{height:e.height},children:A===de.SPLIT_PANEL?r.jsxs(Ir,{children:[r.jsxs(Ln,{style:{backgroundColor:q},scrollcolor:B,enableMouseEvents:!0,disabled:!H,onScrollCapture:D!=rt?N=>k(N):()=>{},onSwitching:N=>h(N),children:[r.jsx(it,{children:(oe=e.verses)==null?void 0:oe.map((N,L)=>r.jsx(wt,{refer:C.current[L],verse:N,index:L,onMouseDown:o,onTouchStart:o},L))}),r.jsx(it,{children:a&&a.map((N,L)=>r.jsx(Q,{fontFamily:"Inter",fontWeight:"700",fontSize:v-2,color:B,children:N},L))})]}),H&&r.jsxs(Rn,{style:{background:q,bottom:"5px"},children:[r.jsx(at,{active:d===0?"true":"false",linecolor:B}),r.jsx(at,{active:d===1?"true":"false",linecolor:B})]})]}):r.jsx(Lr,{style:{backgroundColor:q},scrollbarcolor:B,children:e.verses.map((N,L)=>r.jsx(wt,{refer:C.current[L],verse:N,index:L},L))})})}var It={},Hr=_n;Object.defineProperty(It,"__esModule",{value:!0});var Et=It.default=void 0,Vr=Hr(Tn()),Fr=r;Et=It.default=(0,Vr.default)((0,Fr.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft");var Lt={},Wr=_n;Object.defineProperty(Lt,"__esModule",{value:!0});var An=Lt.default=void 0,qr=Wr(Tn()),Ur=r;An=Lt.default=(0,qr.default)((0,Ur.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"SettingsOutlined");const Xr=y(E)({position:"fixed",zIndex:"3",bottom:"0px",width:"100%",height:"150px",overflow:"hidden"}),zr=y(E)({position:"relative",display:"flex",justifyContent:"center","& .MuiBox-root":{alignContent:"center"}}),Yr=y("img")({width:"100%",position:"absolute",top:"20px"}),Kr=y(E)({width:"100%",maxWidth:"700px",padding:"0px 20px",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:"1",paddingTop:"20px",alignContent:"center","@media (min-width: 600px)":{paddingTop:"25px"}}),Gr=y(E)({position:"relative",bottom:"-75px",height:"100px",display:"flex",alignItems:"center",justifyContent:"space-between"}),$r=y("img")({width:"100%",position:"absolute","@media (min-width: 750px)":{top:"0px"},"@media (min-width: 1050px)":{top:"-10px"},"@media (min-width: 1450px)":{top:"-20px"}});y(E)(({readingcontrol:e})=>({height:"100px",width:"100%",maxWidth:"700px",margin:"auto",display:"flex",flexDirection:e==Un.LEFT_HANDED?"row":"row-reverse",justifyContent:"space-between",alignItems:"center",padding:"0px 15px","@media (min-width: 1075px)":{width:"80%",margin:"auto"}}));const Qr=y(E)(({isintro:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer",marginLeft:e=="true"?"10px":"0px"})),Zr=y(E)({backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 10px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2,height:"40px","& .MuiBox-root":{width:"70px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),bn=y("img")({width:"15px",marginRight:"10px"}),Jr=y(E)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer"}),ei=y(E)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px",height:"40px"}),tt=y(E)({width:"24px",height:"24px",cursor:"pointer"}),ti=y(E)({width:"25px"}),ni=y(E)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",minWidth:"200px",maxWidth:"350px",boxSizing:"border-box",cursor:"pointer","@media (max-width: 360px)":{width:"220px"}}),ri=y(E)({display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",boxSizing:"border-box",borderRadius:"20px",padding:"5px",height:"40px",width:"100%","@media (max-width: 360px)":{width:"200px"}}),ii=y(E)({minWidth:"170px",maxWidth:"320px",display:"flex",justifyContent:"space-between",alignItems:"center","@media (max-width: 360px)":{width:"150px",minWidth:"140px"}}),ai=y(E)({display:"flex",alignItems:"center",width:"150px",marginLeft:"10px","& .MuiBox-root":{width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","@media (max-width: 360px)":{width:"90px"}},"@media (max-width: 360px)":{width:"110px"}}),oi=y(E)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer","& :nth-of-type(2)":{marginRight:"10px"}}),si=y(E)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 20px",width:"50px",height:"40px"}),li=y(E)({width:"40px",height:"40px",marginRight:"10px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"50%",cursor:"pointer","& svg":{fill:"#093C54 !important"}});y(E)({width:"90px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px","@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}});const ui=y(E)({display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"10px",marginBottom:"20px",cursor:"pointer"}),Fe=y("img")({width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",zIndex:"1"});y(E)(({underlinecolor:e})=>({width:"90px",textDecoration:"underline",textDecorationColor:e,textUnderlineOffset:"3px",zIndex:"1",cursor:"pointer",marginBottom:"20px","& .MuiBox-root":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}}));const ci=y(E)({width:"100%",height:"60px",overflow:"hidden",padding:"0 10px"}),di=y(Zn)(({barcolor:e})=>({color:e,opacity:"1",height:"5px","& .MuiSlider-thumb":{width:"13.25px",height:"14px",color:e,transition:"0.3s cubic-bezier(.47,1.64,.41,.8)","&::before":{boxShadow:"0 2px 12px 0 rgba(0,0,0,0.4)"},"&:hover, &.Mui-focusVisible":{boxShadow:"0px 0px 0px 8px rgb(0 0 0 / 16%)"},"&.Mui-active":{width:20,height:20}}})),hi=y(E)({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-20px"});function fi(e){const{duration:a,currentTime:o,onTimeChange:d}=e,[h,f]=i.useState(o),{theme:R}=i.useContext(we),{buttonTextColor:p}=ke(R);i.useEffect(()=>{f(o)},[o]);const D=(j,C)=>{f(C),d(C)};return r.jsxs(ci,{children:[r.jsx(di,{"aria-label":"time-indicator",value:h,min:0,max:Math.floor(a),step:1,barcolor:p,onChange:D}),r.jsxs(hi,{children:[r.jsx(Q,{color:p,children:Sn(h)}),r.jsx(Q,{color:p,children:"-"+Sn(Math.floor(a-h))})]})]})}function Sn(e){const a=Math.floor(e/60),o=Math.floor(e%60);return`${a}:${o<10?`0${o}`:o}`}function gi(e){const[a,o]=i.useState(!1),[d,h]=i.useState(0),[f,R]=i.useState(0),[p,D]=i.useState(0),j=i.useRef(new Audio),{scrollTopVerseIndex:C,setScrollTopVerseIndex:P,setActiveScroll:v}=i.useContext(ot),{autoScrollText:H,volume:A,audioLanguage:q,pageControl:B,theme:k,readingLanguage:K}=i.useContext(we);i.useEffect(()=>{const T=j.current;e.src&&(T.src=ct+e.src);const _=()=>{R(T.duration)},O=()=>{h(Math.floor(T.currentTime))};return T.addEventListener("loadedmetadata",_),T.addEventListener("timeupdate",O),()=>{T.removeEventListener("loadedmetadata",_),T.removeEventListener("timeupdate",O)}},[e.src]),i.useEffect(()=>{var T;if(j.current.ended)l();else if(H){const _=(T=e.verses)==null?void 0:T.findIndex((O,ee)=>{var ae,ge,ne;const J=(ae=O.verseAudioStart)==null?void 0:ae[q||qt.TRANSLATION],Z=(ne=(ge=e.verses[ee+1])==null?void 0:ge.verseAudioStart)==null?void 0:ne[q||qt.TRANSLATION];return d>=J&&d<Z});_!==-1&&(_!==p||_==0)&&(P(_),D(_),v(qe))}},[d,e.verses,q,H,a]),i.useEffect(()=>{j.current.volume=A/100},[A]);const oe=()=>{const T=j.current;v(qe),T.readyState>=2?(o(!0),T.play().catch(_=>se.custom(O=>{var ee,J;return r.jsx(le,{text:((J=(ee=e.terms.texts.find(Z=>Z.variable=="Audio Play Error"))==null?void 0:ee.text)==null?void 0:J[K])||"",offset:125,visible:O.visible})}))):se.custom(_=>{var O,ee;return r.jsx(le,{text:((ee=(O=e.terms.texts.find(J=>J.variable=="Audio Not Ready"))==null?void 0:O.text)==null?void 0:ee[K])||"",offset:125,visible:_.visible})})},N=()=>{o(!1),j.current.pause(),v(Tt)},L=()=>{N(),e.moveToSoundSettingPage()},fe=()=>{N(),e.setAudioSeekBarStatus(!1)},b=T=>{j.current.currentTime=T,h(T)},l=()=>{h(0),o(!1),P(0),v(Tt)},I=()=>r.jsxs(zr,{children:[r.jsx(Yr,{src:k==W.DEFAULT||k==W.DARK?F.bar_reading_audio_subtract:k==W.BLACK_AND_WHITE?F.bar_reading_audio_subtract_BAW:k==W.SAPPHIRE?F.bar_reading_audio_subtract_sapphire:F.bar_reading_audio_subtract_easyocean}),r.jsxs(Kr,{children:[r.jsx(Fe,{src:k==W.DEFAULT||k==W.DARK?F.btn_sound_setting:k==W.BLACK_AND_WHITE?F.btn_sound_setting_BAW:k==W.SAPPHIRE?F.btn_sound_setting_sapphire:F.btn_sound_setting_easyocean,onClick:L}),r.jsx(fi,{duration:f,currentTime:d,onTimeChange:b}),r.jsx(Fe,{src:k==W.DEFAULT||k==W.DARK?F.btn_close:k==W.BLACK_AND_WHITE?F.btn_close_BAW:k==W.SAPPHIRE?F.btn_close_sapphire:F.btn_close_easyocean,onClick:fe})]})]}),t=()=>r.jsx($r,{src:k==W.DEFAULT||k==W.DARK?F.bar_reading_subtract:k==W.BLACK_AND_WHITE?F.bar_reading_subtract_BAW:k==W.SAPPHIRE?F.bar_reading_subtract_sapphire:F.bar_reading_subtract_easyocean}),n=()=>!e.isIntro&&r.jsx(ui,{children:e.showAudioSeekBar?a?r.jsx(Fe,{src:k==W.DEFAULT||k==W.DARK?F.btn_pause:k==W.BLACK_AND_WHITE?F.btn_pause_BAW:k==W.SAPPHIRE?F.btn_pause_sapphire:F.btn_pause_easyocean,onClick:N}):r.jsx(Fe,{src:k==W.DEFAULT||k==W.DARK?F.btn_play:k==W.BLACK_AND_WHITE?F.btn_play_BAW:k==W.SAPPHIRE?F.btn_play_sapphire:F.btn_play_easyocean,onClick:oe}):r.jsx(Fe,{src:k==W.DEFAULT||k==W.DARK?F.btn_sound:k==W.BLACK_AND_WHITE?F.btn_sound_BAW:k==W.SAPPHIRE?F.btn_sound_sapphire:F.btn_sound_easyocean,onClick:()=>e.setAudioSeekBarStatus(!0)})}),m=()=>{var T,_,O,ee,J,Z;return e.bookTitle!="Qur'an"&&r.jsxs(Qr,{isintro:e.isIntro?"true":"false",children:[r.jsxs(Zr,{onClick:e.moveToIndexPage,children:[r.jsx(bn,{src:ct+e.bookImage}),r.jsx(Q,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:(ee=(O=(_=(T=e.subBookTerms)==null?void 0:T.texts)==null?void 0:_.find(ae=>ae.variable===e.subBookTitle))==null?void 0:O.text)==null?void 0:ee[e.readingLanguage]})]}),r.jsx(Q,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((Z=(J=e.terms.texts.find(ae=>ae.variable=="Sub Book"))==null?void 0:J.text)==null?void 0:Z[K])||"Sub Book"})]})},s=()=>{var T,_;return e.bookTitle!="Qur'an"&&r.jsxs(Jr,{children:[r.jsxs(ei,{children:[r.jsx(tt,{onClick:()=>e.handleNavigateBtn(B==Ke.LEFT_TO_RIGHT?Ye:Ae),children:r.jsx(Et,{})}),r.jsx(ti,{onClick:e.moveToIndexPage,children:r.jsx(Q,{fontFamily:'"Baloo Da 2"',color:"#093C54",textAlign:"center",children:e.isIntro?"In":e.bookTitle=="Zabur"?e.subBookNumber.toString():e.chapterNumber.toString()})}),r.jsx(tt,{onClick:()=>e.handleNavigateBtn(B==Ke.LEFT_TO_RIGHT?Ae:Ye),children:r.jsx(zt,{})})]}),r.jsx(Q,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((_=(T=e.terms.texts.find(O=>O.variable=="Chapter"))==null?void 0:T.text)==null?void 0:_[K])||"Chapter"})]})},g=()=>{var T,_;return e.bookTitle=="Qur'an"&&r.jsxs(ni,{children:[r.jsxs(ri,{children:[r.jsx(tt,{onClick:()=>e.handleNavigateBtn(B==Ke.LEFT_TO_RIGHT?Ye:Ae),children:r.jsx(Et,{})}),r.jsxs(ii,{onClick:e.moveToIndexPage,children:[r.jsxs(ai,{children:[r.jsx(bn,{src:ct+e.bookImage}),r.jsx(Q,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookTitle})]}),r.jsx(Q,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookNumber.toString()})]}),r.jsx(tt,{onClick:()=>e.handleNavigateBtn(B==Ke.LEFT_TO_RIGHT?Ae:Ye),children:r.jsx(zt,{})})]}),r.jsx(Q,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((_=(T=e.terms.texts.find(O=>O.variable=="Surah"))==null?void 0:T.text)==null?void 0:_[K])||"Surah"})]})},U=()=>{var T,_;return!e.isIntro&&r.jsxs(oi,{children:[r.jsx(si,{onClick:e.moveToSubBookExplorer,children:r.jsx(Q,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:(C<=0?1:C+1).toString()})}),r.jsx(Q,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:((_=(T=e.terms.texts.find(O=>O.variable=="Aya"))==null?void 0:T.text)==null?void 0:_[K])||"Aya"})]})},te=()=>r.jsx(li,{onClick:e.moveToSettingsPage,children:r.jsx(An,{})}),ie=()=>r.jsxs(Gr,{children:[t(),n(),m(),s(),g(),U(),te()]});return r.jsxs(Xr,{children:[e.showAudioSeekBar&&I(),ie()]})}function kt(e){var I,t,n,m;const[a,o]=i.useState(e.isExistingInBookmark?100:0),[d,h]=i.useState(null),[f,R]=i.useState(!1),[p,D]=i.useState(0),[j,C]=i.useState(0),{textSize:P,theme:v}=i.useContext(we),{mainBGColor:H}=ke(v),A=i.useRef(null),q=i.useRef(a),B=e.refer,k=i.useRef(0),K=window.matchMedia("(orientation: portrait)").matches;i.useEffect(()=>{q.current=a},[a]),i.useEffect(()=>{if(A.current&&B.current&&("verseHeader"in e.verse&&(A.current.style.height=`${B.current.getBoundingClientRect().height-4}px`,A.current.style.bottom="2px",A.current.style.alignSelf="self-end"),B.current.offsetHeight>0&&B.current.offsetHeight<=24)){const s=A.current.children[0];s.style.width="20px",s.style.height="20px",s.children[1].style.width="10px",s.children[1].style.height="10px"}},[e.verse,e.translatePanelHeight,K]);const oe=i.useCallback(s=>{if(s>0&&s<Ut){const g=s/Ut*100,U=e.isExistingInBookmark?100-g:g;o(U),q.current=U}else if(s>0){const g=e.isExistingInBookmark?0:100;o(g),q.current=g}else{const g=e.isExistingInBookmark?100:0;o(g),q.current=g}},[e.isExistingInBookmark]),N=i.useCallback(()=>{if(B.current){const s=Math.max(0,Math.min(j,zn));B.current.style.transform=`translateX(${s}px)`,oe(s-Xn)}f&&(k.current=requestAnimationFrame(N))},[f,j,oe]);i.useEffect(()=>(f?k.current=requestAnimationFrame(N):cancelAnimationFrame(k.current),()=>cancelAnimationFrame(k.current)),[f,N]);const L=s=>{var U;!e.language&&R(!0),D(s);const g=(U=B.current)==null?void 0:U.getAttribute("data-id");g&&h(g)},fe=s=>{if(!f)return;const g=Math.max(0,s-p);e.isLoggedIn&&g>Xt&&C(g-Xt)},b=()=>{R(!1),B.current&&(!e.isExistingInBookmark&&q.current==100||e.isExistingInBookmark&&q.current==0?d&&e.handleBookmark(d):e.isExistingInBookmark?(o(100),q.current=100):(o(0),q.current=0),B.current.style.transition="transform 0.3s ease-out",B.current.style.transform="translateX(0)",setTimeout(()=>{B.current&&(B.current.style.transition="")},300)),C(0)};i.useEffect(()=>{const s=B.current;if(s){const g=O=>{O.preventDefault(),L(O.clientX)},U=O=>{O.preventDefault(),fe(O.clientX)},te=O=>{O.preventDefault(),b()},ie=O=>{L(O.touches[0].clientX)},T=O=>{fe(O.touches[0].clientX)},_=O=>{b()};return s.addEventListener("mousedown",g),document.addEventListener("mousemove",U),document.addEventListener("mouseup",te),s.addEventListener("touchstart",ie),s.addEventListener("touchmove",T),s.addEventListener("touchend",_),()=>{s.removeEventListener("mousedown",g),document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",te),s.removeEventListener("touchstart",ie),s.removeEventListener("touchmove",T),s.removeEventListener("touchend",_)}}},[B,oe,e.handleBookmark,p]);const l=s=>{for(var g in s)if(s[g]!==null&&s[g]!=="")return!0;return!1};return r.jsxs(Br,{children:["verseHeader"in e.verse&&l(e.verse.verseHeader)&&r.jsx(Or,{"data-id":e.verse.verseId,"data-index":e.index,style:{backgroundColor:H},children:r.jsx(Q,{fontFamily:"Inter",fontWeight:"700",backgroundColor:H,fontSize:P,lineHeight:P+15,direction:e.language||e.readingLanguage===We?"rtl":"ltr",children:e.verse.verseHeader[e.language||e.readingLanguage]})}),!e.language&&r.jsx(ar,{progress:a,refer:A,backgroundColor:H}),r.jsx(Mr,{"data-id":"verseId"in e.verse?e.verse.verseId:e.verse.id,"data-index":e.index,ref:e.refer,children:e.isIntro?r.jsx(Q,{fontFamily:"Inter",backgroundColor:H,dataIndex:e.language?"":e.index.toString(),lineHeight:P+20,direction:e.readingLanguage===We?"rtl":"ltr",fontSize:e.verse.title?P+2:P,fontWeight:e.verse.title?"bold":"500",textAlign:e.verse.title?"center":"left",children:((I=e.verse.title)==null?void 0:I[e.language||e.readingLanguage])||((t=e.verse.text)==null?void 0:t[e.language||e.readingLanguage])}):r.jsx(Q,{fontFamily:"Inter",fontSize:P,backgroundColor:H,dataIndex:e.language?"":e.index.toString(),lineHeight:P+20,direction:e.readingLanguage===We?"rtl":"ltr",children:"verseText"in e.verse?(n=e.verse.verseText)==null?void 0:n[e.language||e.readingLanguage]:(m=e.verse.text)==null?void 0:m[e.language||e.readingLanguage]})})]})}function yn(e){var L,fe,b,l,I;const[a,o]=i.useState([]),[d,h]=i.useState([]),{scrollTopVerseIndex:f,setScrollTopVerseIndex:R,setHiddenTopVersePercentage:p,activeScroll:D,setActiveScroll:j}=i.useContext(ot),C=i.useRef(null),P=i.useRef(null),v=i.useRef([]);v.current=(L=e.verses)==null?void 0:L.map((t,n)=>v.current[n]??i.createRef());const{theme:H,displayType:A}=i.useContext(we),{mainBGColor:q,textColor:B}=ke(H),k=e.readingLanguage||Yn,K=i.useCallback(()=>{var n;let t=[];return(n=v.current)==null||n.forEach(m=>{m.current&&m.current.children[0]&&t.push(m.current.children[0].offsetHeight)}),t},[v]);i.useEffect(()=>{var t;if(((t=e.verses)==null?void 0:t.length)>0){const n=v.current[f-1];n!=null&&n.current&&n.current.scrollIntoView(),R(0),p(0)}},[e.verses]),i.useEffect(()=>{const t=K();o(t);const n=t.reduce((m,s,g)=>(m[g]=(m[g-1]||0)+s,m),[]);h(n)},[e.verses,K]);const oe=i.useCallback(()=>{if(!C.current)return;const t=C.current.scrollTop;j(rt);let n=0,m=d.length-1;for(;n<=m;){const _=Math.floor((n+m)/2);d[_]>t?m=_-1:n=_+1}const s=n-1;R(s);const g=s>0?d[s-1]:0,U=a[s],ie=(t-g)/U*100,T=Math.min(Math.max(ie,0),100);p(T)},[d,a,R]);i.useEffect(()=>{const t=C.current;if(t)return t.addEventListener("scroll",oe),t.addEventListener("scrollend",()=>j(Tt)),()=>{t.removeEventListener("scroll",oe)}}),i.useEffect(()=>{var t;if((A===de.SPLIT_PANEL||A===de.ONLY_TRNSLATION)&&f>=2&&(D==Cn||D==qe)){const n=v.current[Number(f)];(t=n==null?void 0:n.current)==null||t.scrollIntoView()}},[f,A]);const N=(t,n)=>{var m;return t.image?r.jsx(mn,{src:t.image.url,alt:t.image.alt},n):t.isCollapse?r.jsx(Nr,{children:r.jsx(rr,{label:(m=t.title)==null?void 0:m[k],outArrow:!0,detail:r.jsx(jr,{children:t.content.map((s,g)=>!s.url&&!s.isTitle?r.jsx(Q,{children:s==null?void 0:s[k]},g):!s.url&&s.isTitle?r.jsx(Q,{fontWeight:"bold",isTitle:!0,children:s==null?void 0:s[k]},g):r.jsx(mn,{src:s.url,alt:s.alt},g))})})},n):r.jsx(kt,{refer:v.current[n],verse:t,index:n,language:k,isExistingInBookmark:e.bookmarks.some(s=>s.id===t.id),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,isIntro:!0,readingLanguage:e.readingLanguage,handleBookmark:e.handleBookmark},n)};return i.useEffect(()=>{var t;D!=rt&&(!f||f===-1)&&e.prevPage!=nt.SUBBOOKEXPLORER&&((t=P==null?void 0:P.current)==null||t.scrollIntoView())},[f]),r.jsx(Rr,{style:{backgroundColor:q,color:B,height:e.height},children:r.jsxs(Ar,{ref:C,children:[!e.isIntro&&r.jsxs(Pr,{ref:P,children:[r.jsx(Q,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(b=(fe=e.subBookInfo)==null?void 0:fe.subBookTitle)==null?void 0:b.ar}),r.jsx(Q,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:e==null?void 0:e.originTitle}),r.jsx(Q,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`${e.ordinary} ${e.bookUnit}`})]}),!e.isIntro&&((l=e.verses)==null?void 0:l.map((t,n)=>r.jsx(kt,{refer:v.current[n],verse:t,index:n,isExistingInBookmark:e.bookmarks.some(m=>m.verseId===t.verseId),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,readingLanguage:e.readingLanguage,handleBookmark:e.handleBookmark},n))),e.isIntro&&((I=e.verses)==null?void 0:I.map((t,n)=>N(t,n)))]})})}const xi=y(E)({margin:"0px",height:"100dvh"}),pn=y(E)(({showaudioseekbar:e})=>({width:"100%",padding:"20px",height:e=="true"?"calc(100dvh - 150px)":"calc(100dvh - 100px)"})),vi=y(E)({width:"45px",height:"8px",margin:"auto",marginTop:"-4px",position:"relative",zIndex:"2",cursor:"grab","&:active":{cursor:"grabbing"}}),mi=y(E)({width:"100%",height:"100%",overflowX:"hidden",overflowY:"auto",margin:"0px",paddingBottom:"0px"}),bi=y(E)({width:"100%",padding:"15px"});function Si(e){const a=window.matchMedia("(orientation: portrait)").matches,[o,d]=i.useState([]),[h,f]=i.useState(null),[R,p]=i.useState(!1),[D,j]=i.useState(a?200:120),[C,P]=i.useState(!1),[v,H]=i.useState(),[A,q]=i.useState(),[B,k]=i.useState(),[K,oe]=i.useState(),[N,L]=i.useState(),[fe,b]=i.useState(),[l,I]=i.useState(),[t,n]=i.useState(),[m,s]=i.useState(0),[g,U]=i.useState(0),[te,ie]=i.useState(!0),{theme:T,displayType:_}=i.useContext(we),{mainBGColor:O,topTextColor:ee}=ke(T),{scrollTopVerseIndex:J,setScrollTopVerseIndex:Z,setActiveScroll:ae}=i.useContext(ot),ge=i.useRef([]),ne=i.useRef([]);ge.current=o==null?void 0:o.map((c,u)=>(ge==null?void 0:ge.current[u])??i.createRef()),ne.current=o==null?void 0:o.map((c,u)=>(ne==null?void 0:ne.current[u])??i.createRef());const me=100,Pe=100;window.matchMedia("(orientation: portrait)").addEventListener("change",c=>{const u=c.matches;j(u?200:120)});const[be,lt]=i.useState(typeof window<"u"?window.innerHeight:1e3),Ue=e.showAudioSeekBar?be-150-D:be-100-D,ve=er(),Ee=i.useCallback(c=>{$e.fetchVerses(c).then(u=>{var S;if(d(u.verses),u&&u.length>0){const w=(S=u.chapteraudio)==null?void 0:S.find(x=>x.language==e.readingLanguage);f(w)}e.dispatch({type:G.ADD_CHAPTERINFO,payload:{chapterInfo:u}}),p(!1)}).catch(u=>{p(!1),se.custom(S=>r.jsx(le,{text:u,offset:70,visible:S.visible}))})},[e.currentChapter]),Se=i.useCallback((c,u)=>{var S,w;if(P(u),(S=e.chapterInfos)!=null&&S.length){const x=e.chapterInfos.find(M=>M.chapterId===c);if(x){P(x.chapterNumber==0),d(x.verses);const M=(w=x.chapterAudio)==null?void 0:w.find(Y=>Y.language==e.readingLanguage);f(M==null?void 0:M.audio)}else u?Ne(c):Ee(c);p(!1)}else u?Ne(c):Ee(c)},[e.currentChapter]),Ne=i.useCallback(c=>{$e.fetchIntroVerses(c).then(u=>{d(u.verses),e.dispatch({type:G.ADD_CHAPTERINFO,payload:{chapterInfo:u}})}).catch(u=>{se.custom(S=>r.jsx(le,{text:u,offset:70,visible:S.visible}))}).finally(()=>{p(!1)})},[]),Ie=i.useCallback(async c=>{try{const u=await $e.fetchSubBookInfo(c);e.dispatch({type:G.ADD_SUBBOOK,payload:{subBook:u}}),n(u)}catch(u){se.custom(S=>r.jsx(le,{text:u,visible:S.visible}))}finally{p(!1)}},[e.subBooks,e.currentSubBook]),Xe=i.useCallback(c=>{for(const u of e.bookInfos)for(const S of u.subBooks){const w=S.chapterInfos.find(x=>x.chapterId==c);if(w)return w}},[]),ut=i.useCallback(c=>{for(const u of e.subBooks){const S=u.chapterInfos.find(w=>w.chapterId==c);if(S)return S}},[]);i.useEffect(()=>{const c=e.bookInfos.find(u=>u.bookId==e.currentBook);I(c)},[]),i.useEffect(()=>{var S;const c=(S=e.chapterInfos)==null?void 0:S.find(w=>w.chapterId==e.currentChapter),u=(c==null?void 0:c.chapterNumber)||0;U(u)},[e.chapterInfos]),i.useEffect(()=>{var Y,re,he,Ce,_e,Te;const c=e.terms.find(X=>X.pageTitle=="Reading Page"),u=e.terms.find(X=>X.pageTitle==="Chapter Headings"),S=e.terms.find(X=>X.pageTitle==="Origin Injil Sub-book Names"),w=e.terms.find(X=>X.pageTitle==="Origin Qur'an Surah Names"),x=e.terms.find(X=>X.pageTitle==="Origin Tawrat Sub-book Names"),M=e.terms.find(X=>X.pageTitle==="Origin Zabur Sub-book Names");(Y=c==null?void 0:c.isPublished)!=null&&Y[e.appLanguage]&&H(c),(re=u==null?void 0:u.isPublished)!=null&&re[e.readingLanguage]&&q(u),(he=S==null?void 0:S.isPublished)!=null&&he[e.readingLanguage]&&k(S),(Ce=w==null?void 0:w.isPublished)!=null&&Ce[e.readingLanguage]&&oe(w),(_e=x==null?void 0:x.isPublished)!=null&&_e[e.readingLanguage]&&L(x),(Te=M==null?void 0:M.isPublished)!=null&&Te[e.readingLanguage]&&b(M)},[e.terms,e.readingLanguage]),i.useEffect(()=>{const c=e.subBooks.find(u=>u.subBookId==e.currentSubBook);!c&&e.currentSubBook?Ie(e.currentSubBook):c&&e.currentSubBook&&n(c)},[e.subBooks,e.currentSubBook]),i.useEffect(()=>{var c,u,S,w;if(p(!0),e.currentVerse){const x=o.find(M=>M.verseId==e.currentVerse);x&&(Z(((c=x[0])==null?void 0:c.verseNumber)-1),_==de.VERSE_BY_VERSE&&((u=ne.current[x[0].verseNumber-1].current)==null||u.scrollIntoView()))}if(e.currentChapter){const x=Xe(e.currentChapter);if(((S=e.subBookInfos)==null?void 0:S.length)>=0){const M=e.subBookInfos.find(Y=>Y.subBookId===e.currentSubBook);if(M){const Y=M.chapterInfos.find(re=>re.chapterId===e.currentChapter);if(Y){P(Y.chapterNumber==0),d(Y.verses);const re=(w=Y.chapterAudio)==null?void 0:w.find(he=>he.language==e.readingLanguage);f(re)}else P(!!x),Se(e.currentChapter,(x==null?void 0:x.chapterNumber)==0)}else P(!!x),Se(e.currentChapter,(x==null?void 0:x.chapterNumber)==0)}else P(!!x),Se(e.currentChapter,(x==null?void 0:x.chapterNumber)==0)}p(!1)},[C,e.currentVerse,e.currentChapter,_]),i.useEffect(()=>{const c=()=>lt(window.innerHeight);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),i.useEffect(()=>{p(!0);let c=!1;if(e.userHistory&&e.userHistory.length>0&&e.userHistory.forEach(u=>{if(u.readChapterIds.includes(e.currentChapter)){c=!0,p(!1);return}}),!c){const u={chapterId:e.currentChapter};$e.saveHistory(u).then(S=>{e.dispatch({type:G.SET_USER_HISTORY,payload:{userHistories:S}}),p(!1)}).catch(S=>{S.status==401&&S.response.data.message==dt&&(se.custom(w=>r.jsx(le,{text:S.response.data.message,visible:w.visible})),ht.logout(),ve("/login")),p(!1)})}},[]),i.useEffect(()=>{var S,w;const c=(S=t==null?void 0:t.chapterInfos)==null?void 0:S.find(x=>x.chapterId==e.currentChapter),u=(w=c==null?void 0:c.verses)==null?void 0:w.find(x=>x.verseId==e.currentVerse);u!=null&&u.verseNumber?s((u==null?void 0:u.verseNumber)-1):s(1)},[e.currentVerse,t]),i.useEffect(()=>{ae(qe),Z(m)},[m]),i.useEffect(()=>{m<=1&&ie(!0)},[m]),i.useEffect(()=>{(_==de.ONLY_TRNSLATION||C)&&j(0),_!=de.ONLY_TRNSLATION&&!C&&j(a?200:120)},[_,C]),i.useEffect(()=>{var c,u;_==de.VERSE_BY_VERSE&&J>=0&&((u=(c=ne.current[J])==null?void 0:c.current)==null||u.scrollIntoView())},[J,_,ne,o]),i.useEffect(()=>{var c,u;_==de.VERSE_BY_VERSE&&J>=0&&((u=(c=ne.current[0])==null?void 0:c.current)==null||u.scrollIntoView(),Z(0))},[_,o,ne]);const Le=i.useCallback(c=>{var w;p(!0);const u=(w=e.bookmark)==null?void 0:w.find(x=>x.verseId===c),S={verseId:c};try{if(!u)Yt.saveBookmark(S).then(x=>{e.dispatch({type:G.ADD_BOOKMARK,payload:{bookmark:x.bookmark}}),p(!1),se.custom(M=>{var Y,re;return r.jsx(le,{text:((re=(Y=v==null?void 0:v.texts.find(he=>he.variable=="Bookmark Saved"))==null?void 0:Y.text)==null?void 0:re[e.appLanguage])||"Bookmark saved",type:Ge.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:M.visible})})}).catch(x=>{p(!1),x.status==401&&x.response.data.message==dt&&(se.custom(M=>r.jsx(le,{text:x.response.data.message,offset:e.showAudioSeekBar?125:70,visible:M.visible})),ht.logout(),ve("/login"))});else{const x=e.bookmark.filter(M=>M.verseId==c);x&&x.length>0&&Yt.deleteBookmark(x[0]._id).then(()=>{e.dispatch({type:G.REMOVE_BOOKMARK,payload:{bookmarkId:u._id}}),p(!1),se.custom(M=>{var Y,re;return r.jsx(le,{text:((re=(Y=v==null?void 0:v.texts.find(he=>he.variable=="Bookmark Deleted"))==null?void 0:Y.text)==null?void 0:re[e.appLanguage])||"Bookmark deleted",type:Ge.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:M.visible})})}).catch(M=>{p(!1),M.status==401&&M.response.data.message==dt&&(se.custom(Y=>r.jsx(le,{text:M.response.data.message,type:Ge.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:Y.visible})),ht.logout(),ve("/login"))})}}catch(x){p(!1),se.custom(M=>r.jsx(le,{text:x,type:Ge.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:M.visible}))}},[e]),je=i.useCallback((c,u,S)=>{let w=u+(S-c),x=be-150-w;w<me?(w=me,x=be-150-me):x<Pe&&(w=be-150-Pe),j(w)},[be]),ze=c=>{const u=c.clientY,S=D,w=M=>je(u,S,M.clientY),x=()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",x)};document.addEventListener("mousemove",w),document.addEventListener("mouseup",x)},Pn=c=>{const u=c.touches[0].clientY,S=D,w=M=>je(u,S,M.touches[0].clientY),x=()=>{document.removeEventListener("touchmove",w),document.removeEventListener("touchend",x)};document.addEventListener("touchmove",w),document.addEventListener("touchend",x)},Nn=c=>{e.dispatch({type:G.SET_AUDIO_SEEK_BAR_STATUS,payload:{showAudioSeekBar:c}})},jn=()=>{ve("/settings")},Bn=()=>{ve("/sound-settings")},On=()=>{e.dispatch({type:G.SET_CURRENT_CHAPTER,payload:{currentChapter:""}}),e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:G.SET_PREVIOUS_PAGE,payload:{prevPage:nt.READING}}),ve("/book")},Mn=()=>{var S,w;const c=(S=t==null?void 0:t.chapterInfos)==null?void 0:S.find(x=>x.chapterNumber==g),u=(w=c==null?void 0:c.verses)==null?void 0:w.find(x=>x.verseNumber==J+1);e.dispatch({type:G.SET_CURRENT_SUBBOOK,payload:{currentSubBook:t==null?void 0:t.subBookId}}),e.dispatch({type:G.SET_CURRENT_CHAPTER,payload:{currentChapter:c==null?void 0:c.chapterId}}),e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:u==null?void 0:u.verseId}}),ve("/subbookexplorer")},Dn=i.useCallback(c=>{var x,M,Y,re,he,Ce,_e,Te;const u=X=>{var V;const $=(V=t==null?void 0:t.chapterInfos)==null?void 0:V.find(z=>z.chapterNumber==X);$&&(e.dispatch({type:G.SET_CURRENT_CHAPTER,payload:{currentChapter:$.chapterId}}),e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:G.SET_PREVIOUS_PAGE,payload:{prevPage:nt.READING}}),s(0),Z(0),$.chapterNumber==0?P(!0):P(!1),U($.chapterNumber),d($.verses),p(!1))},S=(X,$)=>{if(X&&X.chapterInfos&&X.chapterInfos.length>0){const V=X.chapterInfos[0].chapterId;e.dispatch({type:G.SET_CURRENT_CHAPTER,payload:{currentChapter:V}}),e.dispatch({type:G.SET_CURRENT_SUBBOOK,payload:{currentSubBook:X.subBookId}}),e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:G.SET_PREVIOUS_PAGE,payload:{prevPage:nt.READING}}),s(1),Z(1);const z=ut(V);n(X),Se(V,(z==null?void 0:z.chapterNumber)==0)}else se.custom(V=>{var z,ue,ye,Be;return r.jsx(le,{text:$?((ue=(z=v==null?void 0:v.texts.find(Re=>Re.variable=="Last Chapter"))==null?void 0:z.text)==null?void 0:ue[e.appLanguage])||"Last Chapter":((Be=(ye=v==null?void 0:v.texts.find(Re=>Re.variable=="First Chapter"))==null?void 0:ye.text)==null?void 0:Be[e.appLanguage])||"First Chapter",offset:e.showAudioSeekBar?125:70,visible:V.visible})}),p(!1)};if(((x=l==null?void 0:l.bookTitle)==null?void 0:x.en)=="Qur'an"||((M=l==null?void 0:l.bookTitle)==null?void 0:M.en)=="Zabur"){const X=((Y=l==null?void 0:l.subBooks)==null?void 0:Y.length)||1,$=(t==null?void 0:t.subBookNumber)||1;if(c==Ae)if($+1<X){const V=l.subBooks.find(z=>z.subBookNumber==$+1);e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),s(0),Z(0),V&&S(V,!0)}else se.custom(V=>{var z,ue;return r.jsx(le,{text:((ue=(z=v==null?void 0:v.texts.find(ye=>ye.variable=="Last Chapter"))==null?void 0:z.text)==null?void 0:ue[e.appLanguage])||"",offset:70,visible:V.visible})});else if($-1>0){const V=l.subBooks.find(z=>z.subBookNumber==$-1);e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),s(0),Z(0),V&&S(V,!1)}else se.custom(V=>{var z,ue;return r.jsx(le,{text:((ue=(z=v==null?void 0:v.texts.find(ye=>ye.variable=="First Chapter"))==null?void 0:z.text)==null?void 0:ue[e.appLanguage])||"",offset:70,visible:V.visible})})}else{const X=((re=t==null?void 0:t.chapterInfos)==null?void 0:re.length)||1;if(c==Ae)if(g+1<=X){const $=((Ce=(he=t==null?void 0:t.chapterInfos)==null?void 0:he.find(V=>V.chapterNumber==g+1))==null?void 0:Ce.chapterNumber)||2;e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),s(0),Z(0),u($)}else se.custom($=>{var V,z;return r.jsx(le,{text:((z=(V=v==null?void 0:v.texts.find(ue=>ue.variable=="Last Chapter"))==null?void 0:V.text)==null?void 0:z[e.appLanguage])||"Last Chapter",offset:70,visible:$.visible})});else if(g-1>0){const $=((Te=(_e=t==null?void 0:t.chapterInfos)==null?void 0:_e.find(V=>V.chapterNumber==g-1))==null?void 0:Te.chapterNumber)||1;e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),s(0),Z(0),u($)}else se.custom($=>{var V,z;return r.jsx(le,{text:((z=(V=v==null?void 0:v.texts.find(ue=>ue.variable=="First Chapter"))==null?void 0:V.text)==null?void 0:z[e.appLanguage])||"First Chapter",offset:70,visible:$.visible})})}},[e.subBooks,t,g]),Hn=()=>C&&r.jsx(pn,{showaudioseekbar:"false",children:r.jsx(yn,{verses:o,topVerseNumber:m,showTitle:te,prevPage:e.prevPage,height:Ue,originPanelHeight:D,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:C,readingLanguage:e.readingLanguage,handleBookmark:Le})}),Vn=()=>{var c,u,S,w,x,M,Y,re,he,Ce,_e,Te,X,$,V,z,ue,ye,Be,Re,Rt,At,Pt,Nt,jt,Bt,Ot,Mt,Dt,Ht,Vt,Ft;return!C&&r.jsxs(pn,{showaudioseekbar:e.showAudioSeekBar?"true":"false",children:[_==de.SPLIT_PANEL&&r.jsxs(r.Fragment,{children:[r.jsx(Dr,{verses:o,topVerseNumber:m,prevPage:e.prevPage,height:D}),r.jsx(vi,{style:{backgroundColor:ee},onMouseDown:ze,onTouchStart:Pn})]}),(_==de.ONLY_TRNSLATION||_==de.SPLIT_PANEL)&&r.jsx(yn,{subBookInfo:t,chapterNumber:g,verses:o,topVerseNumber:m,showTitle:te,prevPage:e.prevPage,height:Ue,originPanelHeight:D,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:C,readingLanguage:e.readingLanguage,isSpecialBook:((c=l==null?void 0:l.bookTitle)==null?void 0:c.en)=="Qur'an"||((u=l==null?void 0:l.bookTitle)==null?void 0:u.en)=="Zabur",originTitle:((S=l==null?void 0:l.bookTitle)==null?void 0:S.en)=="Injil"?((M=(x=(w=B==null?void 0:B.texts)==null?void 0:w.find(ce=>{var xe;return ce.variable===((xe=t==null?void 0:t.subBookTitle)==null?void 0:xe.origin)}))==null?void 0:x.text)==null?void 0:M[e.readingLanguage])||((Y=t==null?void 0:t.subBookTitle)==null?void 0:Y.en):((re=l==null?void 0:l.bookTitle)==null?void 0:re.en)=="Qur'an"?((he=t==null?void 0:t.subBookTitle)==null?void 0:he.transliteration)||((Ce=t==null?void 0:t.subBookTitle)==null?void 0:Ce.en):((_e=l==null?void 0:l.bookTitle)==null?void 0:_e.en)=="Tawrat"?(($=(X=(Te=N==null?void 0:N.texts)==null?void 0:Te.find(ce=>{var xe;return ce.variable===((xe=t==null?void 0:t.subBookTitle)==null?void 0:xe.en)}))==null?void 0:X.text)==null?void 0:$[e.readingLanguage])||((V=t==null?void 0:t.subBookTitle)==null?void 0:V.en):((z=t==null?void 0:t.subBookTitle)==null?void 0:z.transliteration)||((ue=t==null?void 0:t.subBookTitle)==null?void 0:ue.en),ordinary:((Re=(Be=(ye=A==null?void 0:A.texts)==null?void 0:ye.find(ce=>ce.variable==`The ${tr(g||1)}`))==null?void 0:Be.text)==null?void 0:Re[e.readingLanguage])||"The 1st",bookUnit:((Rt=l==null?void 0:l.bookTitle)==null?void 0:Rt.en)=="Injil"||((At=l==null?void 0:l.bookTitle)==null?void 0:At.en)=="Tawrat"?((jt=(Nt=(Pt=A==null?void 0:A.texts)==null?void 0:Pt.find(ce=>ce.variable==="Chapter"))==null?void 0:Nt.text)==null?void 0:jt[e.readingLanguage])||"Chapter":((Bt=l==null?void 0:l.bookTitle)==null?void 0:Bt.en)=="Qur'an"?((Dt=(Mt=(Ot=A==null?void 0:A.texts)==null?void 0:Ot.find(ce=>ce.variable==="Surah"))==null?void 0:Mt.text)==null?void 0:Dt[e.readingLanguage])||"Surah":((Ft=(Vt=(Ht=A==null?void 0:A.texts)==null?void 0:Ht.find(ce=>ce.variable==="Psalm"))==null?void 0:Vt.text)==null?void 0:Ft[e.readingLanguage])||"Psalm",handleBookmark:Le}),_==de.VERSE_BY_VERSE&&r.jsx(mi,{children:o.map((ce,xe)=>{var Wt;return r.jsxs(bi,{ref:ne.current[xe],children:[r.jsx(wt,{verse:ce,refer:ge.current[xe],index:xe}),r.jsx(kt,{refer:ge.current[xe],verse:ce,index:xe,readingLanguage:e.readingLanguage,isLoggedIn:!!e.currentUser,handleBookmark:Le,isExistingInBookmark:((Wt=e.bookmark.filter(Wn=>Wn.verseId==ce.verseId))==null?void 0:Wt.length)>0})]},xe)})})]})},Fn=()=>{var c,u,S,w;return r.jsx(gi,{src:h,bookTitle:(l==null?void 0:l.bookTitle.en)||"",bookImage:(l==null?void 0:l.bookImage)||"",subBookTitle:((c=t==null?void 0:t.subBookTitle)==null?void 0:c.en)||"",subBookNumber:(t==null?void 0:t.subBookNumber)||0,chapterNumber:g,showAudioSeekBar:e.showAudioSeekBar,readingLanguage:e.readingLanguage,verses:o,isIntro:C,terms:v||{pageId:"",pageNumber:0,pageTitle:"",isCompleted:{},isPublished:{},texts:[]},subBookTerms:(((u=l==null?void 0:l.bookTitle)==null?void 0:u.en)==="Injil"?B:((S=l==null?void 0:l.bookTitle)==null?void 0:S.en)==="Qur'an"?K:((w=l==null?void 0:l.bookTitle)==null?void 0:w.en)==="Zabur"?fe:N)||{pageId:"",pageNumber:0,pageTitle:"",isCompleted:{},isPublished:{},texts:[]},setAudioSeekBarStatus:Nn,moveToSettingsPage:jn,moveToSoundSettingPage:Bn,moveToIndexPage:On,moveToSubBookExplorer:Mn,handleNavigateBtn:Dn})};return r.jsxs(xi,{style:{backgroundColor:O},children:[Hn(),Vn(),Fn(),R&&r.jsx(ir,{})]})}const yi=e=>({bookmark:e.books.bookmark,bookInfos:e.books.bookInfos,currentBook:e.pageStatus.currentBook,appLanguage:e.user.appLanguage,readingLanguage:e.user.readingLanguage,prevPage:e.pageStatus.prevPage,subBooks:e.books.subBooks,subBookInfos:e.books.subBookInfos,chapterInfos:e.books.chapterInfos,currentSubBook:e.pageStatus.currentSubBook,currentChapter:e.pageStatus.currentChapter,currentVerse:e.pageStatus.currentVerse,userHistory:e.books.userHistory,currentUser:e.user.currentUser,showAudioSeekBar:e.pageStatus.showAudioSeekBar,terms:e.terms.terms}),Ni=Jn(yi)(Si);export{Ni as default};
