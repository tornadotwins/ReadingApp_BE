import{b as a,j as n,Q as U,ah as bn,U as ae,ak as Ze,ay as Be,az as me,aA as Je,ab as Ne,aq as Pe,J as un,X as yn,af as at,$ as Rt,Y as Ue,aB as qe,aC as Ce,aD as At,aE as _n,aF as Cn,aG as Bt,ac as En,ai as wn,ap as st,ao as Xe}from"./index-CJuk4MNS.js";import{S as xe,g as pe,aw as Tn,ax as In,ay as kn,az as Rn,s as y,B as T,aA as nt,F as dn,aB as An,_ as ne,c as Bn,u as Pn,d as G}from"./App-Ci2AqVju.js";import{I as F,T as X,c as Pt}from"./index-oWXBbAb-.js";import{p as Nn}from"./index-Cfz5Q49o.js";import{d as Nt,A as jn,b as jt}from"./bookmark.service-CbH4yzg5.js";import{C as re}from"./index-BxOHwhBY.js";import{L as Ln}from"./index-rQsvgsIi.js";import{a as lt}from"./auth.service-BaYOACCZ.js";import{b as ze}from"./book.service-Dmlxr1bt.js";import"./index-Z3La4gLz.js";import"./axios-BimPEqV4.js";function On(e){const{theme:i}=a.useContext(xe),{buttonColor:o,buttonTextColor:s}=pe(i);return n.jsx(Tn,{ref:e.refer,"data-id":e.dataId,backgroundColor:o,children:n.jsxs(In,{progresscolor:s,children:[n.jsx(kn,{variant:"determinate",value:e.progress,thickness:2}),n.jsx(Rn,{src:i==U.EASY_OCEAN?F.bookmark2_white:F.bookmark2_default})]})})}var hn={};function Mn(e){if(e&&e.__esModule)return e;var i={};if(e!=null){for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};s.get||s.set?Object.defineProperty(i,o,s):i[o]=e[o]}}return i.default=e,i}var fn=Mn,fe={},ct,Lt;function Dn(){if(Lt)return ct;Lt=1;function e(i){return i&&i.__esModule?i:{default:i}}return ct=e,ct}var Ye,Ot;function Hn(){if(Ot)return Ye;Ot=1;function e(){return Ye=e=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(i[c]=s[c])}return i},e.apply(this,arguments)}return Ye=e,Ye}var ut,Mt;function Vn(){if(Mt)return ut;Mt=1;function e(i,o){if(i==null)return{};var s={},c=Object.keys(i),h,P;for(P=0;P<c.length;P++)h=c[P],!(o.indexOf(h)>=0)&&(s[h]=i[h]);return s}return ut=e,ut}var dt,Dt;function Fn(){if(Dt)return dt;Dt=1;var e=Vn();function i(o,s){if(o==null)return{};var c=e(o,s),h,P;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(o);for(P=0;P<_.length;P++)h=_[P],!(s.indexOf(h)>=0)&&Object.prototype.propertyIsEnumerable.call(o,h)&&(c[h]=o[h])}return c}return dt=i,dt}var ht,Ht;function Wn(){if(Ht)return ht;Ht=1;function e(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}return ht=e,ht}var ft,Vt;function Un(){if(Vt)return ft;Vt=1;function e(o,s){for(var c=0;c<s.length;c++){var h=s[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,h.key,h)}}function i(o,s,c){return s&&e(o.prototype,s),c&&e(o,c),o}return ft=i,ft}var we,Ft;function qn(){if(Ft)return we;Ft=1;function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(c){return typeof c}:e=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(o)}function i(o){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?we=i=function(c){return e(c)}:we=i=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":e(c)},i(o)}return we=i,we}var gt,Wt;function Xn(){if(Wt)return gt;Wt=1;function e(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}return gt=e,gt}var xt,Ut;function zn(){if(Ut)return xt;Ut=1;var e=qn(),i=Xn();function o(s,c){return c&&(e(c)==="object"||typeof c=="function")?c:i(s)}return xt=o,xt}var Ke,qt;function Yn(){if(qt)return Ke;qt=1;function e(i){return Ke=e=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},e(i)}return Ke=e,Ke}var Ge,Xt;function Kn(){if(Xt)return Ge;Xt=1;function e(i,o){return Ge=e=Object.setPrototypeOf||function(c,h){return c.__proto__=h,c},e(i,o)}return Ge=e,Ge}var vt,zt;function Gn(){if(zt)return vt;zt=1;var e=Kn();function i(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),s&&e(o,s)}return vt=i,vt}var mt,Yt;function gn(){if(Yt)return mt;Yt=1;var e=function(){};return mt=e,mt}var pt={},St,Kt;function rt(){if(Kt)return St;Kt=1;function e(i){return i&&i.__esModule?i:{default:i}}return St=e,St}var Te={},Gt;function $n(){if(Gt)return Te;Gt=1;var e=rt();Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0;var i=e(a);e(gn());var o=function(h){h.index;var P=h.children;i.default.Children.count(P)},s=o;return Te.default=s,Te}var $e={},Ie={},$t;function xn(){if($t)return Ie;$t=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.default=void 0;var e={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3};return Ie.default=e,Ie}var Qt;function Qn(){if(Qt)return $e;Qt=1;var e=rt();Object.defineProperty($e,"__esModule",{value:!0}),$e.default=s;var i=e(a),o=e(xn());function s(c){var h=c.children,P=c.startIndex,_=c.startX,k=c.pageX,N=c.viewLength,E=c.resistance,M=i.default.Children.count(h)-1,g=P+(_-k)/N,H;return E?g<0?g=Math.exp(g*o.default.RESISTANCE_COEF)-1:g>M&&(g=M+1-Math.exp((M-g)*o.default.RESISTANCE_COEF)):g<0?(g=0,H=(g-P)*N+k):g>M&&(g=M,H=(g-P)*N+k),{index:g,startX:H}}return $e}var ke={},Zt;function Zn(){if(Zt)return ke;Zt=1;var e=rt();Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0;var i=e(a),o=function(h,P){var _=!1,k=function(w){return w?w.key:"empty"};if(h.children.length&&P.children.length){var N=i.default.Children.map(h.children,k),E=N[h.index];if(E!=null){var M=i.default.Children.map(P.children,k),g=M[P.index];E===g&&(_=!0)}}return _},s=o;return ke.default=s,ke}var Re={},Jt;function Jn(){if(Jt)return Re;Jt=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=void 0;function e(o,s){var c=o%s;return c<0?c+s:c}var i=e;return Re.default=i,Re}var en;function er(){return en||(en=1,function(e){var i=rt();Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"checkIndexBounds",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"computeIndex",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"constant",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"getDisplaySameSlide",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return P.default}});var o=i($n()),s=i(Qn()),c=i(xn()),h=i(Zn()),P=i(Jn())}(pt)),pt}var tn;function tr(){if(tn)return fe;tn=1;var e=fn,i=Dn();Object.defineProperty(fe,"__esModule",{value:!0}),fe.getDomTreeShapes=p,fe.findNativeHandler=Z,fe.default=fe.SwipeableViewsContext=void 0;var o=i(Hn()),s=i(Fn()),c=i(Wn()),h=i(Un()),P=i(zn()),_=i(Yn()),k=i(Gn()),N=e(a);i(Nn),i(gn());var E=er();function M(v,j,S,t){return v.addEventListener(j,S,t),{remove:function(){v.removeEventListener(j,S,t)}}}var g={container:{direction:"ltr",display:"flex",willChange:"transform"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},H={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(j){return"translate(".concat(-j,"%, 0)")},"x-reverse":function(j){return"translate(".concat(j,"%, 0)")},y:function(j){return"translate(0, ".concat(-j,"%)")},"y-reverse":function(j){return"translate(0, ".concat(j,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function w(v,j){var S=j.duration,t=j.easeFunction,r=j.delay;return"".concat(v," ").concat(S," ").concat(t," ").concat(r)}function $(v,j){var S=H.rotationMatrix[j];return{pageX:S.x[0]*v.pageX+S.x[1]*v.pageY,pageY:S.y[0]*v.pageX+S.y[1]*v.pageY}}function m(v){return v.touches=[{pageX:v.pageX,pageY:v.pageY}],v}function p(v,j){for(var S=[];v&&v!==j&&v!==document.body&&!v.hasAttribute("data-swipeable");){var t=window.getComputedStyle(v);t.getPropertyValue("position")==="absolute"||t.getPropertyValue("overflow-x")==="hidden"?S=[]:(v.clientWidth>0&&v.scrollWidth>v.clientWidth||v.clientHeight>0&&v.scrollHeight>v.clientHeight)&&S.push({element:v,scrollWidth:v.scrollWidth,scrollHeight:v.scrollHeight,clientWidth:v.clientWidth,clientHeight:v.clientHeight,scrollLeft:v.scrollLeft,scrollTop:v.scrollTop}),v=v.parentNode}return S}var W=null;function Z(v){var j=v.domTreeShapes,S=v.pageX,t=v.startX,r=v.axis;return j.some(function(C){var L=S>=t;(r==="x"||r==="y")&&(L=!L);var A=Math.round(C[H.scrollPosition[r]]),Q=A>0,z=A+C[H.clientLength[r]]<C[H.scrollLength[r]];return L&&z||!L&&Q?(W=C.element,!0):!1})}var R=N.createContext();fe.SwipeableViewsContext=R;var B=function(v){(0,k.default)(j,v);function j(S){var t;return(0,c.default)(this,j),t=(0,P.default)(this,(0,_.default)(j).call(this,S)),t.rootNode=null,t.containerNode=null,t.ignoreNextScrollEvents=!1,t.viewLength=0,t.startX=0,t.lastX=0,t.vx=0,t.startY=0,t.isSwiping=void 0,t.started=!1,t.startIndex=0,t.transitionListener=null,t.touchMoveListener=null,t.activeSlide=null,t.indexCurrent=null,t.firstRenderTimeout=null,t.setRootNode=function(r){t.rootNode=r},t.setContainerNode=function(r){t.containerNode=r},t.setActiveSlide=function(r){t.activeSlide=r,t.updateHeight()},t.handleSwipeStart=function(r){var C=t.props.axis,L=$(r.touches[0],C);t.viewLength=t.rootNode.getBoundingClientRect()[H.length[C]],t.startX=L.pageX,t.lastX=L.pageX,t.vx=0,t.startY=L.pageY,t.isSwiping=void 0,t.started=!0;var A=window.getComputedStyle(t.containerNode),Q=A.getPropertyValue("-webkit-transform")||A.getPropertyValue("transform");if(Q&&Q!=="none"){var z=Q.split("(")[1].split(")")[0].split(","),d=window.getComputedStyle(t.rootNode),f=$({pageX:parseInt(z[4],10),pageY:parseInt(z[5],10)},C);t.startIndex=-f.pageX/(t.viewLength-parseInt(d.paddingLeft,10)-parseInt(d.paddingRight,10))||0}},t.handleSwipeMove=function(r){if(!t.started){t.handleTouchStart(r);return}if(!(W!==null&&W!==t.rootNode)){var C=t.props,L=C.axis,A=C.children,Q=C.ignoreNativeScroll,z=C.onSwitching,d=C.resistance,f=$(r.touches[0],L);if(t.isSwiping===void 0){var D=Math.abs(f.pageX-t.startX),O=Math.abs(f.pageY-t.startY),Y=D>O&&D>E.constant.UNCERTAINTY_THRESHOLD;if(!d&&(L==="y"||L==="y-reverse")&&(t.indexCurrent===0&&t.startX<f.pageX||t.indexCurrent===N.Children.count(t.props.children)-1&&t.startX>f.pageX)){t.isSwiping=!1;return}if(D>O&&r.preventDefault(),Y===!0||O>E.constant.UNCERTAINTY_THRESHOLD){t.isSwiping=Y,t.startX=f.pageX;return}}if(t.isSwiping===!0){r.preventDefault(),t.vx=t.vx*.5+(f.pageX-t.lastX)*.5,t.lastX=f.pageX;var ie=(0,E.computeIndex)({children:A,resistance:d,pageX:f.pageX,startIndex:t.startIndex,startX:t.startX,viewLength:t.viewLength}),te=ie.index,oe=ie.startX;if(W===null&&!Q){var ce=p(r.target,t.rootNode),le=Z({domTreeShapes:ce,startX:t.startX,pageX:f.pageX,axis:L});if(le)return}oe?t.startX=oe:W===null&&(W=t.rootNode),t.setIndexCurrent(te);var ve=function(){z&&z(te,"move")};(t.state.displaySameSlide||!t.state.isDragging)&&t.setState({displaySameSlide:!1,isDragging:!0},ve),ve()}}},t.handleSwipeEnd=function(){if(W=null,!!t.started&&(t.started=!1,t.isSwiping===!0)){var r=t.state.indexLatest,C=t.indexCurrent,L=r-C,A;Math.abs(t.vx)>t.props.threshold?t.vx>0?A=Math.floor(C):A=Math.ceil(C):Math.abs(L)>t.props.hysteresis?A=L>0?Math.floor(C):Math.ceil(C):A=r;var Q=N.Children.count(t.props.children)-1;A<0?A=0:A>Q&&(A=Q),t.setIndexCurrent(A),t.setState({indexLatest:A,isDragging:!1},function(){t.props.onSwitching&&t.props.onSwitching(A,"end"),t.props.onChangeIndex&&A!==r&&t.props.onChangeIndex(A,r,{reason:"swipe"}),C===r&&t.handleTransitionEnd()})}},t.handleTouchStart=function(r){t.props.onTouchStart&&t.props.onTouchStart(r),t.handleSwipeStart(r)},t.handleTouchEnd=function(r){t.props.onTouchEnd&&t.props.onTouchEnd(r),t.handleSwipeEnd(r)},t.handleMouseDown=function(r){t.props.onMouseDown&&t.props.onMouseDown(r),r.persist(),t.handleSwipeStart(m(r))},t.handleMouseUp=function(r){t.props.onMouseUp&&t.props.onMouseUp(r),t.handleSwipeEnd(m(r))},t.handleMouseLeave=function(r){t.props.onMouseLeave&&t.props.onMouseLeave(r),t.started&&t.handleSwipeEnd(m(r))},t.handleMouseMove=function(r){t.props.onMouseMove&&t.props.onMouseMove(r),t.started&&t.handleSwipeMove(m(r))},t.handleScroll=function(r){if(t.props.onScroll&&t.props.onScroll(r),r.target===t.rootNode){if(t.ignoreNextScrollEvents){t.ignoreNextScrollEvents=!1;return}var C=t.state.indexLatest,L=Math.ceil(r.target.scrollLeft/r.target.clientWidth)+C;t.ignoreNextScrollEvents=!0,r.target.scrollLeft=0,t.props.onChangeIndex&&L!==C&&t.props.onChangeIndex(L,C,{reason:"focus"})}},t.updateHeight=function(){if(t.activeSlide!==null){var r=t.activeSlide.children[0];r!==void 0&&r.offsetHeight!==void 0&&t.state.heightLatest!==r.offsetHeight&&t.setState({heightLatest:r.offsetHeight})}},t.state={indexLatest:S.index,isDragging:!1,renderOnlyActive:!S.disableLazyLoading,heightLatest:0,displaySameSlide:!0},t.setIndexCurrent(S.index),t}return(0,h.default)(j,[{key:"componentDidMount",value:function(){var t=this;this.transitionListener=M(this.containerNode,"transitionend",function(r){r.target===t.containerNode&&t.handleTransitionEnd()}),this.touchMoveListener=M(this.rootNode,"touchmove",function(r){t.props.disabled||t.handleSwipeMove(r)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){t.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var r=t.index;typeof r=="number"&&r!==this.props.index&&(this.setIndexCurrent(r),this.setState({displaySameSlide:(0,E.getDisplaySameSlide)(this.props,t),indexLatest:r}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var t=this;return{slideUpdateHeight:function(){t.updateHeight()}}}},{key:"setIndexCurrent",value:function(t){if(!this.props.animateTransitions&&this.indexCurrent!==t&&this.handleTransitionEnd(),this.indexCurrent=t,this.containerNode){var r=this.props.axis,C=H.transform[r](t*100);this.containerNode.style.WebkitTransform=C,this.containerNode.style.transform=C}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var t=this,r=this.props;r.action;var C=r.animateHeight,L=r.animateTransitions,A=r.axis,Q=r.children,z=r.containerStyle,d=r.disabled;r.disableLazyLoading;var f=r.enableMouseEvents;r.hysteresis,r.ignoreNativeScroll,r.index,r.onChangeIndex,r.onSwitching,r.onTransitionEnd,r.resistance;var D=r.slideStyle,O=r.slideClassName,Y=r.springConfig,ie=r.style;r.threshold;var te=(0,s.default)(r,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"]),oe=this.state,ce=oe.displaySameSlide,le=oe.heightLatest,ve=oe.indexLatest,je=oe.isDragging,Le=oe.renderOnlyActive,Ee=d?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},Oe=!d&&f?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},Me=(0,o.default)({},g.slide,D),Se,be;if(je||!L||ce)Se="all 0s ease 0s",be="all 0s ease 0s";else if(Se=w("transform",Y),be=w("-webkit-transform",Y),le!==0){var De=", ".concat(w("height",Y));Se+=De,be+=De}var ye={height:null,WebkitFlexDirection:H.flexDirection[A],flexDirection:H.flexDirection[A],WebkitTransition:be,transition:Se};if(!Le){var He=H.transform[A](this.indexCurrent*100);ye.WebkitTransform=He,ye.transform=He}return C&&(ye.height=le),N.createElement(R.Provider,{value:this.getSwipeableViewsContext()},N.createElement("div",(0,o.default)({ref:this.setRootNode,style:(0,o.default)({},H.root[A],ie)},te,Ee,Oe,{onScroll:this.handleScroll}),N.createElement("div",{ref:this.setContainerNode,style:(0,o.default)({},ye,g.container,z),className:"react-swipeable-view-container"},N.Children.map(Q,function(it,Ve){if(Le&&Ve!==ve)return null;var Fe,We=!0;return Ve===ve&&(We=!1,C&&(Fe=t.setActiveSlide,Me.overflowY="hidden")),N.createElement("div",{ref:Fe,style:Me,className:O,"aria-hidden":We,"data-swipeable":"true"},it)}))))}}]),j}(N.Component);B.displayName="ReactSwipableView",B.propTypes={},B.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var se=B;return fe.default=se,fe}(function(e){var i=fn;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"SwipeableViewsContext",{enumerable:!0,get:function(){return o.SwipeableViewsContext}});var o=i(tr())})(hn);const nr=bn(hn),rr=y(T)({width:"100%",margin:"0px"}),ir=y(T)({margin:"0px",padding:"0px",position:"relative"}),or=y(T)({width:"100%",height:"100%",margin:"0px",padding:"0px",position:"relative"}),vn=y(nr)(({scrollcolor:e})=>({width:"100%",height:"100%",marginBottom:"8px",padding:"14px 0px 20px 0px","::-webkit-scrollbar-thumb":{background:"red"},"::-webkit-scrollbar-thumb: hover":{backgroundColor:e,opacity:"1"},"& .react-swipeable-view-container":{height:"100%"}})),et=y(T)({width:"100%",padding:"0px 14px","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),mn=y(T)({height:"10px",width:"100%",position:"absolute",bottom:"0",display:"flex",justifyContent:"center","& :last-child":{marginRight:"0px"}}),tt=y(T)(({active:e,linecolor:i})=>({borderTop:`1px solid ${i}`,width:e=="true"?"20px":e=="false"?"10px":"0px",color:"black",marginRight:"5px",marginTop:"5px"})),ar=y(T)(({scrollbarcolor:e})=>({width:"100%",height:"100%","::-webkit-scrollbar-thumb":{backgroundColor:"red"},"::-webkit-scrollbar-track":{backgroundColor:"transparent"},scrollbarWidth:"auto",scrollbarColor:`${e} transparent`})),nn=y(T)({width:"100%",padding:"0px",margin:"0px"}),sr=y(T)({width:"100%",margin:"auto",padding:"20px 0px","& .MuiBox-root":{textWrap:"wrap"}}),lr=y(T)({width:"100%",height:"100%",position:"relative",overflowX:"hidden",padding:"0px 15px",scrollbarGutter:"stable both-edges"}),rn=y(T)({}),on=y("img")({width:"100%"}),cr=y(T)({width:"100%","& .MuiAccordion-gutters":{width:"100%"},"& .MuiAccordion-root .MuiAccordionSummary-root .Mui-expanded":{margin:"12px 0px !important"}}),ur=y(T)({width:"100%","& .MuiBox-root":{padding:"0px "}}),dr=y(T)({width:"100%",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"}),hr=y(T)({width:"100%",padding:"20px 0px",position:"relative",display:"flex",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),fr=y(T)({width:"100%",margin:"0px",position:"relative",display:"flex",flexDirection:"column",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}});y(T)({width:"40px",height:"100%",backgroundColor:"#FFAA5D",justifyContent:"center",alignItems:"center"});y(T)({width:"20px",height:"50%",position:"relative"});function bt(e){var M,g;const[i,o]=a.useState(0),{theme:s,textSize:c,referenceLanguage:h,showQuranReferences:P,displayType:_}=a.useContext(xe),{topTextColor:k,backgroundColor:N}=pe(s),E=e.verse.verseReference.ref;return _==ae.VERSE_BY_VERSE?n.jsxs(ir,{children:[n.jsxs(vn,{style:{backgroundColor:N},scrollcolor:k,enableMouseEvents:!0,disabled:!P,onSwitching:H=>o(H),children:[n.jsx(et,{children:n.jsx(nn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,children:n.jsx(X,{fontFamily:"Inter",fontSize:c,lineHeight:c+20,fontWeight:"700",color:k,dataIndex:e.index.toString(),language:h,direction:h==Ze?"rtl":"ltr",children:(M=e.verse.verseText)==null?void 0:M[h]})})}),n.jsx(et,{children:E&&E.map((H,w)=>n.jsx(X,{fontFamily:"Inter",fontWeight:"700",fontSize:c,lineHeight:c+20,color:k,children:H},w))})]}),E&&E.length>0&&P&&n.jsxs(mn,{children:[n.jsx(tt,{active:i==0?"true":"false",linecolor:k}),n.jsx(tt,{active:i==1?"true":"false",linecolor:k})]})]}):n.jsx(nn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,style:{backgroundColor:N},children:n.jsx(X,{fontFamily:"Inter",fontSize:c,lineHeight:c+20,fontWeight:"700",color:k,dataIndex:e.index.toString(),language:h,direction:h==Ze?"rtl":"ltr",onTouchStart:()=>e.onTouchStart&&e.onTouchStart(e.verse.verseReference.ref),onMouseDown:()=>e.onMouseDown&&e.onMouseDown(e.verse.verseReference.ref),children:(g=e.verse.verseText)==null?void 0:g[h]})})}function gr(e){var W,Z;const[i,o]=a.useState([]),[s,c]=a.useState(0),{scrollTopVerseIndex:h,setScrollTopVerseIndex:P,setHiddenTopVersePercentage:_,activeScroll:k,setActiveScroll:N}=a.useContext(nt),E=a.useRef([]);E.current=(W=e.verses)==null?void 0:W.map((R,B)=>E.current[B]??a.createRef());const{theme:M,textSize:g,showQuranReferences:H,displayType:w}=a.useContext(xe),{backgroundColor:$,topTextColor:m}=pe(M);a.useEffect(()=>{var R;if(((R=e.verses)==null?void 0:R.length)>0){const B=E.current[h-1];B!=null&&B.current&&B.current.scrollIntoView(),P(0),_(0)}},[e.verses]),a.useEffect(()=>{var R;if(w==ae.SPLIT_PANEL&&h>=0&&(k==Be||k==me)){const B=E.current[Number(h)];(R=B==null?void 0:B.current)==null||R.scrollIntoView()}},[h,w]),a.useEffect(()=>{var R;E.current[0]&&k!=Je&&k!=Be&&k!=me&&k!=Ne&&e.prevPage!=Pe.SUBBOOKEXPLORER&&((R=E.current[0].current)==null||R.scrollIntoView())},[h]);const p=R=>{if(w==ae.SPLIT_PANEL){N(Je);const B=R.currentTarget.getBoundingClientRect().top,se=R.currentTarget.clientHeight;let v=-1,j=1/0;if(E.current.forEach((S,t)=>{if(S.current){const r=S.current.getBoundingClientRect().top,C=S.current.getBoundingClientRect().bottom,L=r-B;C>B&&r<B+se&&Math.abs(L)<j&&(j=Math.abs(L),v=t)}}),v!==-1){P(v);const S=E.current[v];if(S.current){const t=S.current.getBoundingClientRect().top,r=S.current.clientHeight,C=Math.max(0,Math.min(100,(B-t)/r*100));_(C)}}}};return n.jsx(rr,{style:{height:e.height},children:w===ae.SPLIT_PANEL?n.jsxs(or,{children:[n.jsxs(vn,{style:{backgroundColor:$},scrollcolor:m,enableMouseEvents:!0,disabled:!H,onScrollCapture:k!=Be?R=>p(R):()=>{},onSwitching:R=>c(R),children:[n.jsx(et,{children:(Z=e.verses)==null?void 0:Z.map((R,B)=>n.jsx(bt,{refer:E.current[B],verse:R,index:B,onMouseDown:o,onTouchStart:o},B))}),n.jsx(et,{children:i&&i.map((R,B)=>n.jsx(X,{fontFamily:"Inter",fontWeight:"700",fontSize:g-2,color:m,children:R},B))})]}),H&&n.jsxs(mn,{style:{background:$,bottom:"5px"},children:[n.jsx(tt,{active:s===0?"true":"false",linecolor:m}),n.jsx(tt,{active:s===1?"true":"false",linecolor:m})]})]}):n.jsx(ar,{style:{backgroundColor:$},scrollbarcolor:m,children:e.verses.map((R,B)=>n.jsx(bt,{refer:E.current[B],verse:R,index:B},B))})})}var Ct={},xr=un;Object.defineProperty(Ct,"__esModule",{value:!0});var yt=Ct.default=void 0,vr=xr(dn()),mr=n;yt=Ct.default=(0,vr.default)((0,mr.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft");var Et={},pr=un;Object.defineProperty(Et,"__esModule",{value:!0});var pn=Et.default=void 0,Sr=pr(dn()),br=n;pn=Et.default=(0,Sr.default)((0,br.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"SettingsOutlined");const yr=y(T)({position:"fixed",zIndex:"3",bottom:"0px",width:"100%",height:"150px",overflow:"hidden"}),_r=y(T)({position:"relative",display:"flex",justifyContent:"center","& .MuiBox-root":{alignContent:"center"}}),Cr=y("img")({width:"100%",position:"absolute",top:"20px"}),Er=y(T)({width:"100%",maxWidth:"700px",padding:"0px 20px",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:"1",paddingTop:"20px",alignContent:"center","@media (min-width: 600px)":{paddingTop:"25px"}}),wr=y(T)({position:"relative",bottom:"-75px",height:"100px",display:"flex",alignItems:"center",justifyContent:"space-between"}),Tr=y("img")({width:"100%",position:"absolute","@media (min-width: 750px)":{top:"0px"},"@media (min-width: 1050px)":{top:"-10px"},"@media (min-width: 1450px)":{top:"-20px"}});y(T)(({readingcontrol:e})=>({height:"100px",width:"100%",maxWidth:"700px",margin:"auto",display:"flex",flexDirection:e==yn.LEFT_HANDED?"row":"row-reverse",justifyContent:"space-between",alignItems:"center",padding:"0px 15px","@media (min-width: 1075px)":{width:"80%",margin:"auto"}}));const Ir=y(T)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer"}),kr=y(T)({backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 10px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2,height:"40px","& .MuiBox-root":{width:"70px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),an=y("img")({width:"15px",marginRight:"10px"}),Rr=y(T)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer"}),Ar=y(T)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px",height:"40px"}),Qe=y(T)({width:"24px",height:"24px",cursor:"pointer"}),Br=y(T)({width:"25px"}),Pr=y(T)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",minWidth:"200px",maxWidth:"350px",boxSizing:"border-box",cursor:"pointer","@media (max-width: 360px)":{width:"220px"}}),Nr=y(T)({display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",boxSizing:"border-box",borderRadius:"20px",padding:"5px",height:"40px",width:"100%","@media (max-width: 360px)":{width:"200px"}}),jr=y(T)({minWidth:"170px",maxWidth:"320px",display:"flex",justifyContent:"space-between",alignItems:"center","@media (max-width: 360px)":{width:"150px",minWidth:"140px"}}),Lr=y(T)({display:"flex",alignItems:"center",width:"150px",marginLeft:"10px","& .MuiBox-root":{width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","@media (max-width: 360px)":{width:"90px"}},"@media (max-width: 360px)":{width:"110px"}}),Or=y(T)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer","& :nth-of-type(2)":{marginRight:"10px"}}),Mr=y(T)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 20px",width:"50px",height:"40px"}),Dr=y(T)({width:"40px",height:"40px",marginRight:"10px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"50%",cursor:"pointer","& svg":{fill:"#093C54 !important"}});y(T)({width:"90px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px","@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}});const Hr=y(T)({display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"10px",marginBottom:"20px",cursor:"pointer"}),Ae=y("img")({width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",zIndex:"1"});y(T)(({underlinecolor:e})=>({width:"90px",textDecoration:"underline",textDecorationColor:e,textUnderlineOffset:"3px",zIndex:"1",cursor:"pointer",marginBottom:"20px","& .MuiBox-root":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}}));const Vr=y(T)({width:"100%",height:"60px",overflow:"hidden",padding:"0 10px"}),Fr=y(An)(({barcolor:e})=>({color:e,opacity:"1",height:"5px","& .MuiSlider-thumb":{width:"13.25px",height:"14px",color:e,transition:"0.3s cubic-bezier(.47,1.64,.41,.8)","&::before":{boxShadow:"0 2px 12px 0 rgba(0,0,0,0.4)"},"&:hover, &.Mui-focusVisible":{boxShadow:"0px 0px 0px 8px rgb(0 0 0 / 16%)"},"&.Mui-active":{width:20,height:20}}})),Wr=y(T)({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-20px"});function Ur(e){const{duration:i,currentTime:o,onTimeChange:s}=e,[c,h]=a.useState(o),{theme:P}=a.useContext(xe),{buttonTextColor:_}=pe(P);a.useEffect(()=>{h(o)},[o]);const k=(N,E)=>{h(E),s(E)};return n.jsxs(Vr,{children:[n.jsx(Fr,{"aria-label":"time-indicator",value:c,min:0,max:Math.floor(i),step:1,barcolor:_,onChange:k}),n.jsxs(Wr,{children:[n.jsx(X,{color:_,children:sn(c)}),n.jsx(X,{color:_,children:"-"+sn(Math.floor(i-c))})]})]})}function sn(e){const i=Math.floor(e/60),o=Math.floor(e%60);return`${i}:${o<10?`0${o}`:o}`}function qr(e){const[i,o]=a.useState(!1),[s,c]=a.useState(0),[h,P]=a.useState(0),[_,k]=a.useState(0),N=a.useRef(new Audio),{scrollTopVerseIndex:E,setScrollTopVerseIndex:M,setActiveScroll:g}=a.useContext(nt),{autoScrollText:H,volume:w,audioLanguage:$,pageControl:m,theme:p,readingLanguage:W}=a.useContext(xe);a.useEffect(()=>{const f=N.current;e.src&&(f.src=at+e.src);const D=()=>{P(f.duration)},O=()=>{c(Math.floor(f.currentTime))};return f.addEventListener("loadedmetadata",D),f.addEventListener("timeupdate",O),()=>{f.removeEventListener("loadedmetadata",D),f.removeEventListener("timeupdate",O)}},[e.src]),a.useEffect(()=>{var f;if(N.current.ended)j();else if(H){const D=(f=e.verses)==null?void 0:f.findIndex((O,Y)=>{var oe,ce,le;const ie=(oe=O.verseAudioStart)==null?void 0:oe[$||Rt.TRANSLATION],te=(le=(ce=e.verses[Y+1])==null?void 0:ce.verseAudioStart)==null?void 0:le[$||Rt.TRANSLATION];return s>=ie&&s<te});D!==-1&&(D!==_||D==0)&&(M(D),k(D),g(me))}},[s,e.verses,$,H,i]),a.useEffect(()=>{N.current.volume=w/100},[w]);const Z=()=>{const f=N.current;g(me),f.readyState>=2?(o(!0),f.play().catch(D=>ne.custom(O=>{var Y,ie;return n.jsx(re,{text:((ie=(Y=e.terms.texts.find(te=>te.variable=="Audio Play Error"))==null?void 0:Y.text)==null?void 0:ie[W])||"",offset:125,visible:O.visible})}))):ne.custom(D=>{var O,Y;return n.jsx(re,{text:((Y=(O=e.terms.texts.find(ie=>ie.variable=="Audio Not Ready"))==null?void 0:O.text)==null?void 0:Y[W])||"",offset:125,visible:D.visible})})},R=()=>{o(!1),N.current.pause(),g(Ne)},B=()=>{R(),e.moveToSoundSettingPage()},se=()=>{R(),e.setAudioSeekBarStatus(!1)},v=f=>{N.current.currentTime=f,c(f)},j=()=>{c(0),o(!1),M(0),g(Ne)},S=()=>n.jsxs(_r,{children:[n.jsx(Cr,{src:p==U.DEFAULT||p==U.DARK?F.bar_reading_audio_subtract:p==U.BLACK_AND_WHITE?F.bar_reading_audio_subtract_BAW:p==U.SAPPHIRE?F.bar_reading_audio_subtract_sapphire:F.bar_reading_audio_subtract_easyocean}),n.jsxs(Er,{children:[n.jsx(Ae,{src:p==U.DEFAULT||p==U.DARK?F.btn_sound_setting:p==U.BLACK_AND_WHITE?F.btn_sound_setting_BAW:p==U.SAPPHIRE?F.btn_sound_setting_sapphire:F.btn_sound_setting_easyocean,onClick:B}),n.jsx(Ur,{duration:h,currentTime:s,onTimeChange:v}),n.jsx(Ae,{src:p==U.DEFAULT||p==U.DARK?F.btn_close:p==U.BLACK_AND_WHITE?F.btn_close_BAW:p==U.SAPPHIRE?F.btn_close_sapphire:F.btn_close_easyocean,onClick:se})]})]}),t=()=>n.jsx(Tr,{src:p==U.DEFAULT||p==U.DARK?F.bar_reading_subtract:p==U.BLACK_AND_WHITE?F.bar_reading_subtract_BAW:p==U.SAPPHIRE?F.bar_reading_subtract_sapphire:F.bar_reading_subtract_easyocean}),r=()=>!e.isIntro&&n.jsx(Hr,{children:e.showAudioSeekBar?i?n.jsx(Ae,{src:p==U.DEFAULT||p==U.DARK?F.btn_pause:p==U.BLACK_AND_WHITE?F.btn_pause_BAW:p==U.SAPPHIRE?F.btn_pause_sapphire:F.btn_pause_easyocean,onClick:R}):n.jsx(Ae,{src:p==U.DEFAULT||p==U.DARK?F.btn_play:p==U.BLACK_AND_WHITE?F.btn_play_BAW:p==U.SAPPHIRE?F.btn_play_sapphire:F.btn_play_easyocean,onClick:Z}):n.jsx(Ae,{src:p==U.DEFAULT||p==U.DARK?F.btn_sound:p==U.BLACK_AND_WHITE?F.btn_sound_BAW:p==U.SAPPHIRE?F.btn_sound_sapphire:F.btn_sound_easyocean,onClick:()=>e.setAudioSeekBarStatus(!0)})}),C=()=>e.bookTitle!="Qur'an"&&n.jsxs(Ir,{children:[n.jsxs(kr,{onClick:e.moveToIndexPage,children:[n.jsx(an,{src:at+e.bookImage}),n.jsx(X,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.bookTitle=="Zabur"?"Psalm":e.subBookTitle})]}),n.jsx(X,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Sub book"})]}),L=()=>e.bookTitle!="Qur'an"&&n.jsxs(Rr,{children:[n.jsxs(Ar,{children:[n.jsx(Qe,{onClick:()=>e.handleNavigateBtn(m==Ue.LEFT_TO_RIGHT?qe:Ce),children:n.jsx(yt,{})}),n.jsx(Br,{onClick:e.moveToIndexPage,children:n.jsx(X,{fontFamily:'"Baloo Da 2"',color:"#093C54",textAlign:"center",children:e.bookTitle=="Zabur"?e.subBookNumber.toString():e.chapterNumber.toString()})}),n.jsx(Qe,{onClick:()=>e.handleNavigateBtn(m==Ue.LEFT_TO_RIGHT?Ce:qe),children:n.jsx(Nt,{})})]}),n.jsx(X,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Chapter"})]}),A=()=>e.bookTitle=="Qur'an"&&n.jsxs(Pr,{children:[n.jsxs(Nr,{children:[n.jsx(Qe,{onClick:()=>e.handleNavigateBtn(m==Ue.LEFT_TO_RIGHT?qe:Ce),children:n.jsx(yt,{})}),n.jsxs(jr,{onClick:e.moveToIndexPage,children:[n.jsxs(Lr,{children:[n.jsx(an,{src:at+e.bookImage}),n.jsx(X,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookTitle})]}),n.jsx(X,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookNumber.toString()})]}),n.jsx(Qe,{onClick:()=>e.handleNavigateBtn(m==Ue.LEFT_TO_RIGHT?Ce:qe),children:n.jsx(Nt,{})})]}),n.jsx(X,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Surah"})]}),Q=()=>n.jsxs(Or,{children:[n.jsx(Mr,{onClick:e.moveToSubBookExplorer,children:n.jsx(X,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:(E<=0?1:E+1).toString()})}),n.jsx(X,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Aya"})]}),z=()=>n.jsx(Dr,{onClick:e.moveToSettingsPage,children:n.jsx(pn,{onClick:B})}),d=()=>n.jsxs(wr,{children:[t(),r(),C(),L(),A(),Q(),z()]});return n.jsxs(yr,{children:[e.showAudioSeekBar&&S(),d()]})}function _t(e){const[i,o]=a.useState(e.isExistingInBookmark?100:0),[s,c]=a.useState(null),[h,P]=a.useState(!1),[_,k]=a.useState(0),[N,E]=a.useState(0),{textSize:M,theme:g,readingLanguage:H}=a.useContext(xe),{mainBGColor:w}=pe(g),$=a.useRef(null),m=a.useRef(i),p=e.refer,W=a.useRef(),Z=window.matchMedia("(orientation: portrait)").matches;a.useEffect(()=>{m.current=i},[i]),a.useEffect(()=>{if($.current&&p.current&&("verseHeader"in e.verse&&($.current.style.height=`${p.current.getBoundingClientRect().height-4}px`,$.current.style.bottom="2px",$.current.style.alignSelf="self-end"),p.current.offsetHeight>0&&p.current.offsetHeight<=24)){const t=$.current.children[0];t.style.width="20px",t.style.height="20px",t.children[1].style.width="10px",t.children[1].style.height="10px"}},[e.verse,e.translatePanelHeight,Z]);const R=a.useCallback(t=>{if(t>0&&t<At){const r=t/At*100,C=e.isExistingInBookmark?100-r:r;o(C),m.current=C}else if(t>0){const r=e.isExistingInBookmark?0:100;o(r),m.current=r}else{const r=e.isExistingInBookmark?100:0;o(r),m.current=r}},[e.isExistingInBookmark]),B=a.useCallback(()=>{if(p.current){const t=Math.max(0,Math.min(N,Cn));p.current.style.transform=`translateX(${t}px)`,R(t-_n)}h&&(W.current=requestAnimationFrame(B))},[h,N,R]);a.useEffect(()=>(h?W.current=requestAnimationFrame(B):cancelAnimationFrame(W.current),()=>cancelAnimationFrame(W.current)),[h,B]);const se=t=>{var C;!e.language&&P(!0),k(t);const r=(C=p.current)==null?void 0:C.getAttribute("data-id");r&&c(r)},v=t=>{if(!h)return;const r=Math.max(0,t-_);e.isLoggedIn&&r>Bt&&E(r-Bt)},j=()=>{P(!1),p.current&&(!e.isExistingInBookmark&&m.current==100||e.isExistingInBookmark&&m.current==0?s&&e.handleBookmark(s):e.isExistingInBookmark?(o(100),m.current=100):(o(0),m.current=0),p.current.style.transition="transform 0.3s ease-out",p.current.style.transform="translateX(0)",setTimeout(()=>{p.current&&(p.current.style.transition="")},300)),E(0)};a.useEffect(()=>{const t=p.current;if(t){const r=d=>{d.preventDefault(),se(d.clientX)},C=d=>{d.preventDefault(),v(d.clientX)},L=d=>{d.preventDefault(),j()},A=d=>{se(d.touches[0].clientX)},Q=d=>{v(d.touches[0].clientX)},z=d=>{j()};return t.addEventListener("mousedown",r),document.addEventListener("mousemove",C),document.addEventListener("mouseup",L),t.addEventListener("touchstart",A),t.addEventListener("touchmove",Q),t.addEventListener("touchend",z),()=>{t.removeEventListener("mousedown",r),document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",L),t.removeEventListener("touchstart",A),t.removeEventListener("touchmove",Q),t.removeEventListener("touchend",z)}}},[p,R,e.handleBookmark,_]);const S=t=>{for(var r in t)if(t[r]!==null&&t[r]!=="")return!0;return!1};return n.jsxs(dr,{children:["verseHeader"in e.verse&&S(e.verse.verseHeader)&&n.jsx(hr,{"data-id":e.verse.verseId,"data-index":e.index,style:{backgroundColor:w},children:n.jsx(X,{fontFamily:"Inter",fontWeight:"700",backgroundColor:w,fontSize:M,lineHeight:M+15,direction:e.language||H===Ze?"rtl":"ltr",children:e.verse.verseHeader[e.language||H]})}),!e.language&&n.jsx(On,{progress:i,refer:$,backgroundColor:w}),n.jsx(fr,{"data-id":"verseId"in e.verse?e.verse.verseId:e.verse.id,"data-index":e.index,ref:e.refer,children:n.jsx(X,{fontFamily:"Inter",fontSize:M,backgroundColor:w,dataIndex:e.language?"":e.index.toString(),lineHeight:M+20,direction:H===Ze?"rtl":"ltr",children:"verseText"in e.verse?e.verse.verseText[e.language||H]:e.verse.text[e.language||H]})})]})}function ln(e){var B,se,v,j,S,t,r,C,L,A,Q,z;const[i,o]=a.useState([]),[s,c]=a.useState([]),{scrollTopVerseIndex:h,setScrollTopVerseIndex:P,setHiddenTopVersePercentage:_,activeScroll:k,setActiveScroll:N}=a.useContext(nt),E=a.useRef(null),M=a.useRef(null),g=a.useRef([]);g.current=(B=e.verses)==null?void 0:B.map((d,f)=>g.current[f]??a.createRef());const{theme:H,displayType:w}=a.useContext(xe),{mainBGColor:$,textColor:m}=pe(H),p=localStorage.getItem(En)||wn,W=a.useCallback(()=>{var f;let d=[];return(f=g.current)==null||f.forEach(D=>{D.current&&D.current.children[0]&&d.push(D.current.children[0].offsetHeight)}),d},[g]);a.useEffect(()=>{var d;if(((d=e.verses)==null?void 0:d.length)>0){const f=g.current[h-1];f!=null&&f.current&&f.current.scrollIntoView(),P(0),_(0)}},[e.verses]),a.useEffect(()=>{const d=W();o(d);const f=d.reduce((D,O,Y)=>(D[Y]=(D[Y-1]||0)+O,D),[]);c(f)},[e.verses,W]);const Z=a.useCallback(()=>{if(!E.current)return;const d=E.current.scrollTop;N(Be);let f=0,D=s.length-1;for(;f<=D;){const le=Math.floor((f+D)/2);s[le]>d?D=le-1:f=le+1}const O=f-1;P(O);const Y=O>0?s[O-1]:0,ie=i[O],oe=(d-Y)/ie*100,ce=Math.min(Math.max(oe,0),100);_(ce)},[s,i,P]);a.useEffect(()=>{const d=E.current;if(d)return d.addEventListener("scroll",Z),d.addEventListener("scrollend",()=>N(Ne)),()=>{d.removeEventListener("scroll",Z)}}),a.useEffect(()=>{var d;if((w===ae.SPLIT_PANEL||w===ae.ONLY_TRNSLATION)&&h>=0&&(k==Je||k==me)){const f=g.current[Number(h)];(d=f==null?void 0:f.current)==null||d.scrollIntoView()}},[h,w]);const R=(d,f)=>{var D;return d.image?n.jsx(on,{src:d.image.image,alt:d.image.alt},f):d.isCollapse?n.jsx(cr,{children:n.jsx(jn,{label:(D=d.title)==null?void 0:D[p],outArrow:!0,detail:n.jsx(ur,{children:d.content.map((O,Y)=>O.image?n.jsx(on,{src:O.image,alt:O.alt},Y):n.jsx(X,{children:O==null?void 0:O[p]},Y))})})},f):n.jsx(_t,{refer:g.current[f],verse:d,index:f,language:p,isExistingInBookmark:e.bookmarks.some(O=>O.id===d.id),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,handleBookmark:e.handleBookmark},f)};return a.useEffect(()=>{var d;M.current&&k!=Je&&k!=Be&&k!=me&&k!=Ne&&e.prevPage!=Pe.SUBBOOKEXPLORER&&((d=M.current)==null||d.scrollIntoView())},[h]),n.jsx(sr,{style:{backgroundColor:$,color:m,height:e.height},children:n.jsxs(lr,{ref:E,children:[!e.isIntro&&!e.isSpecialBook&&n.jsxs(rn,{ref:M,children:[n.jsx(X,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(v=(se=e.subBookInfo)==null?void 0:se.subBookTitle)==null?void 0:v.ar}),n.jsx(X,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(S=(j=e.subBookInfo)==null?void 0:j.subBookTitle)==null?void 0:S.origin}),n.jsx(X,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`The ${Pt(e.chapterNumber||1)} Chapter`}),n.jsx(X,{})]}),!e.isIntro&&e.isSpecialBook&&n.jsxs(rn,{ref:M,children:[n.jsx(X,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(r=(t=e.subBookInfo)==null?void 0:t.subBookTitle)==null?void 0:r.ar}),n.jsx(X,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(L=(C=e.subBookInfo)==null?void 0:C.subBookTitle)==null?void 0:L.transliteration}),n.jsx(X,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`The ${Pt(((A=e.subBookInfo)==null?void 0:A.subBookNumber)||1)} Surah`}),n.jsx(X,{})]}),!e.isIntro&&((Q=e.verses)==null?void 0:Q.map((d,f)=>n.jsx(_t,{refer:g.current[f],verse:d,index:f,isExistingInBookmark:e.bookmarks.some(D=>D.verseId===d.verseId),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,handleBookmark:e.handleBookmark},f))),e.isIntro&&((z=e.verses)==null?void 0:z.map((d,f)=>R(d,f)))]})})}const Xr=y(T)({margin:"0px",height:"100dvh"}),cn=y(T)(({showaudioseekbar:e})=>({width:"100%",padding:"20px",height:e=="true"?"calc(100dvh - 150px)":"calc(100dvh - 100px)"})),zr=y(T)({width:"45px",height:"8px",margin:"auto",marginTop:"-4px",position:"relative",zIndex:"2",cursor:"grab","&:active":{cursor:"grabbing"}}),Yr=y(T)({width:"100%",height:"100%",overflowX:"hidden",overflowY:"auto",margin:"0px",paddingBottom:"0px"}),Kr=y(T)({width:"100%",padding:"15px"});function Gr(e){const i=window.matchMedia("(orientation: portrait)").matches,[o,s]=a.useState([]),[c,h]=a.useState(null),[P,_]=a.useState(!1),[k,N]=a.useState(i?200:120),[E,M]=a.useState(!1),[g,H]=a.useState(),[w,$]=a.useState(),[m,p]=a.useState(),[W,Z]=a.useState(0),[R,B]=a.useState(0),[se,v]=a.useState(!0),{theme:j,displayType:S,readingLanguage:t}=a.useContext(xe),{mainBGColor:r,topTextColor:C}=pe(j),{scrollTopVerseIndex:L,setScrollTopVerseIndex:A,setActiveScroll:Q}=a.useContext(nt),z=a.useRef([]),d=a.useRef([]);z.current=o==null?void 0:o.map((u,l)=>(z==null?void 0:z.current[l])??a.createRef()),d.current=o==null?void 0:o.map((u,l)=>(d==null?void 0:d.current[l])??a.createRef());const f=100,D=100;window.matchMedia("(orientation: portrait)").addEventListener("change",u=>{const l=u.matches;N(l?200:120)});const[O,Y]=a.useState(typeof window<"u"?window.innerHeight:1e3),ie=e.showAudioSeekBar?O-150-k:O-100-k,te=Pn(),oe=a.useCallback(u=>{ze.fetchVerses(u).then(l=>{var b;if(s(l.verses),l&&l.length>0){const I=(b=l.chapteraudio)==null?void 0:b.find(x=>x.language==t);h(I)}e.dispatch({type:G.ADD_CHAPTERINFO,payload:{chapterInfo:l}}),_(!1)}).catch(l=>{_(!1),ne.custom(b=>n.jsx(re,{text:l,offset:70,visible:b.visible}))})},[e.currentChapter]),ce=a.useCallback((u,l)=>{var b,I;if(M(l),(b=e.chapterInfos)!=null&&b.length){const x=e.chapterInfos.find(V=>V.chapterId===u);if(x){M(x.chapterNumber==0),s(x.verses);const V=(I=x.chapterAudio)==null?void 0:I.find(ee=>ee.language==t);h(V==null?void 0:V.audio)}else l?le(u):oe(u);_(!1)}else l?le(u):oe(u)},[e.currentChapter]),le=a.useCallback(u=>{ze.fetchIntroVerses(u).then(l=>{s(l.verses),e.dispatch({type:G.ADD_CHAPTERINFO,payload:{chapterInfo:l}})}).catch(l=>{ne.custom(b=>n.jsx(re,{text:l,offset:70,visible:b.visible}))}).finally(()=>{_(!1)})},[]),ve=a.useCallback(async u=>{try{const l=await ze.fetchSubBookInfo(u);e.dispatch({type:G.ADD_SUBBOOK,payload:{subBook:l}}),p(l)}catch(l){ne.custom(b=>n.jsx(re,{text:l,visible:b.visible}))}finally{_(!1)}},[e.subBooks,e.currentSubBook]),je=a.useCallback(u=>{for(const l of e.bookInfos)for(const b of l.subBooks){const I=b.chapterInfos.find(x=>x.chapterId==u);if(I)return I}},[]),Le=a.useCallback(u=>{for(const l of e.subBooks){const b=l.chapterInfos.find(I=>I.chapterId==u);if(b)return b}},[]);a.useEffect(()=>{const u=e.bookInfos.find(l=>l.bookId==e.currentBook);$(u)},[]),a.useEffect(()=>{var b;const u=(b=e.chapterInfos)==null?void 0:b.find(I=>I.chapterId==e.currentChapter),l=(u==null?void 0:u.chapterNumber)||0;B(l)},[e.chapterInfos]),a.useEffect(()=>{var l;const u=e.terms.find(b=>b.pageTitle=="Reading Page");(l=u==null?void 0:u.isPublished)!=null&&l[t]?H(u):ne.custom(b=>n.jsx(re,{text:"The terminologies for this page are not published.",visible:b.visible}))},[e.terms]),a.useEffect(()=>{const u=e.subBooks.find(l=>l.subBookId==e.currentSubBook);!u&&e.currentSubBook?ve(e.currentSubBook):u&&e.currentSubBook&&p(u)},[e.subBooks,e.currentSubBook]),a.useEffect(()=>{var u,l,b,I;if(_(!0),e.currentVerse){const x=o.find(V=>V.verseId==e.currentVerse);x&&(A(((u=x[0])==null?void 0:u.verseNumber)-1),S==ae.VERSE_BY_VERSE&&((l=d.current[x[0].verseNumber-1].current)==null||l.scrollIntoView()))}if(e.currentChapter){const x=je(e.currentChapter);if(((b=e.subBookInfos)==null?void 0:b.length)>=0){const V=e.subBookInfos.find(ee=>ee.subBookId===e.currentSubBook);if(V){const ee=V.chapterInfos.find(ue=>ue.chapterId===e.currentChapter);if(ee){M(ee.chapterNumber==0),s(ee.verses);const ue=(I=ee.chapterAudio)==null?void 0:I.find(ge=>ge.language==t);h(ue)}else M(!!x),ce(e.currentChapter,(x==null?void 0:x.chapterNumber)==0)}else M(!!x),ce(e.currentChapter,(x==null?void 0:x.chapterNumber)==0)}else M(!!x),ce(e.currentChapter,(x==null?void 0:x.chapterNumber)==0)}_(!1)},[E,e.currentVerse,e.currentChapter,S]),a.useEffect(()=>{const u=()=>Y(window.innerHeight);return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),a.useEffect(()=>{_(!0);let u=!1;if(e.userHistory&&e.userHistory.length>0&&e.userHistory.forEach(l=>{if(l.readChapterIds.includes(e.currentChapter)){u=!0,_(!1);return}}),!u){const l={chapterId:e.currentChapter};ze.saveHistory(l).then(b=>{e.dispatch({type:G.SET_USER_HISTORY,payload:{userHistories:b}}),_(!1)}).catch(b=>{b.status==401&&b.response.data.message==st&&(ne.custom(I=>n.jsx(re,{text:b.response.data.message,visible:I.visible})),lt.logout(),te("/login")),_(!1)})}},[]),a.useEffect(()=>{var b,I;const u=(b=m==null?void 0:m.chapterInfos)==null?void 0:b.find(x=>x.chapterId==e.currentChapter),l=(I=u==null?void 0:u.verses)==null?void 0:I.find(x=>x.verseId==e.currentVerse);l!=null&&l.verseNumber?Z((l==null?void 0:l.verseNumber)-1):Z(1)},[e.currentVerse,m]),a.useEffect(()=>{Q(me),A(W)},[W]),a.useEffect(()=>{W<=1&&v(!0)},[W]),a.useEffect(()=>{(S==ae.ONLY_TRNSLATION||E)&&N(0),S!=ae.ONLY_TRNSLATION&&!E&&N(i?200:120)},[S,E]),a.useEffect(()=>{var u,l;S==ae.VERSE_BY_VERSE&&L>=0&&((l=(u=d.current[L])==null?void 0:u.current)==null||l.scrollIntoView())},[L,S,d,o]),a.useEffect(()=>{var u,l;S==ae.VERSE_BY_VERSE&&L>=0&&((l=(u=d.current[0])==null?void 0:u.current)==null||l.scrollIntoView(),A(0))},[S,o,d]);const Ee=a.useCallback(u=>{var I;_(!0);const l=(I=e.bookmark)==null?void 0:I.find(x=>x.verseId===u),b={verseId:u};try{if(!l)jt.saveBookmark(b).then(x=>{e.dispatch({type:G.ADD_BOOKMARK,payload:{bookmark:x.bookmark}}),_(!1),ne.custom(V=>{var ee,ue;return n.jsx(re,{text:((ue=(ee=g==null?void 0:g.texts.find(ge=>ge.variable=="Bookmark Saved"))==null?void 0:ee.text)==null?void 0:ue[t])||"",type:Xe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:V.visible})})}).catch(x=>{_(!1),x.status==401&&x.response.data.message==st&&(ne.custom(V=>n.jsx(re,{text:x.response.data.message,offset:e.showAudioSeekBar?125:70,visible:V.visible})),lt.logout(),te("/login"))});else{const x=e.bookmark.filter(V=>V.verseId==u);x&&x.length>0&&jt.deleteBookmark(x[0]._id).then(()=>{e.dispatch({type:G.REMOVE_BOOKMARK,payload:{bookmarkId:l._id}}),_(!1),ne.custom(V=>{var ee,ue;return n.jsx(re,{text:((ue=(ee=g==null?void 0:g.texts.find(ge=>ge.variable=="Bookmark Deleted"))==null?void 0:ee.text)==null?void 0:ue[t])||"",type:Xe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:V.visible})})}).catch(V=>{_(!1),V.status==401&&V.response.data.message==st&&(ne.custom(ee=>n.jsx(re,{text:V.response.data.message,type:Xe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:ee.visible})),lt.logout(),te("/login"))})}}catch(x){_(!1),ne.custom(V=>n.jsx(re,{text:x,type:Xe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:V.visible}))}},[e]),Oe=a.useCallback((u,l,b)=>{let I=l+(b-u),x=O-150-I;I<f?(I=f,x=O-150-f):x<D&&(I=O-150-D),N(I)},[O]),Me=u=>{const l=u.clientY,b=k,I=V=>Oe(l,b,V.clientY),x=()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",x)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",x)},Se=u=>{const l=u.touches[0].clientY,b=k,I=V=>Oe(l,b,V.touches[0].clientY),x=()=>{document.removeEventListener("touchmove",I),document.removeEventListener("touchend",x)};document.addEventListener("touchmove",I),document.addEventListener("touchend",x)},be=u=>{e.dispatch({type:G.SET_AUDIO_SEEK_BAR_STATUS,payload:{showAudioSeekBar:u}})},De=()=>{te("/settings")},ye=()=>{te("/sound-settings")},He=()=>{e.dispatch({type:G.SET_CURRENT_CHAPTER,payload:{currentChapter:""}}),e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:G.SET_PREVIOUS_PAGE,payload:{prevPage:Pe.READING}}),te("/book")},it=()=>{var b,I;const u=(b=m==null?void 0:m.chapterInfos)==null?void 0:b.find(x=>x.chapterNumber==R),l=(I=u==null?void 0:u.verses)==null?void 0:I.find(x=>x.verseNumber==L+1);e.dispatch({type:G.SET_CURRENT_SUBBOOK,payload:{currentSubBook:m==null?void 0:m.subBookId}}),e.dispatch({type:G.SET_CURRENT_CHAPTER,payload:{currentChapter:u==null?void 0:u.chapterId}}),e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:l==null?void 0:l.verseId}}),te("/subbookexplorer")},Ve=a.useCallback(u=>{var x,V,ee,ue,ge,wt,Tt,It;const l=de=>{var q;const J=(q=m==null?void 0:m.chapterInfos)==null?void 0:q.find(K=>K.chapterNumber==de);J&&(e.dispatch({type:G.SET_CURRENT_CHAPTER,payload:{currentChapter:J.chapterId}}),e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:G.SET_PREVIOUS_PAGE,payload:{prevPage:Pe.READING}}),Z(0),A(0),J.chapterNumber==0?M(!0):M(!1),B(J.chapterNumber),s(J.verses),_(!1))},b=(de,J)=>{if(de&&de.chapterInfos&&de.chapterInfos.length>0){const q=de.chapterInfos[0].chapterId;e.dispatch({type:G.SET_CURRENT_CHAPTER,payload:{currentChapter:q}}),e.dispatch({type:G.SET_CURRENT_SUBBOOK,payload:{currentSubBook:de.subBookId}}),e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:G.SET_PREVIOUS_PAGE,payload:{prevPage:Pe.READING}}),Z(1),A(1);const K=Le(q);p(de),ce(q,(K==null?void 0:K.chapterNumber)==0)}else ne.custom(q=>{var K,he,_e,kt;return n.jsx(re,{text:J?((he=(K=g==null?void 0:g.texts.find(ot=>ot.variable=="Last Chapter"))==null?void 0:K.text)==null?void 0:he[t])||"":((kt=(_e=g==null?void 0:g.texts.find(ot=>ot.variable=="First Chapter"))==null?void 0:_e.text)==null?void 0:kt[t])||"",offset:e.showAudioSeekBar?125:70,visible:q.visible})}),_(!1)};if(((x=w==null?void 0:w.bookTitle)==null?void 0:x.en)=="Qur'an"||((V=w==null?void 0:w.bookTitle)==null?void 0:V.en)=="Zabur"){const de=((ee=w==null?void 0:w.subBooks)==null?void 0:ee.length)||1,J=(m==null?void 0:m.subBookNumber)||1;if(u==Ce)if(J+1<de){const q=w.subBooks.find(K=>K.subBookNumber==J+1);e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),A(0),q&&b(q,!0)}else ne.custom(q=>{var K,he;return n.jsx(re,{text:((he=(K=g==null?void 0:g.texts.find(_e=>_e.variable=="Last Chapter"))==null?void 0:K.text)==null?void 0:he[t])||"",offset:70,visible:q.visible})});else if(J-1>0){const q=w.subBooks.find(K=>K.subBookNumber==J-1);e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),A(0),q&&b(q,!1)}else ne.custom(q=>{var K,he;return n.jsx(re,{text:((he=(K=g==null?void 0:g.texts.find(_e=>_e.variable=="First Chapter"))==null?void 0:K.text)==null?void 0:he[t])||"",offset:70,visible:q.visible})})}else{const de=((ue=m==null?void 0:m.chapterInfos)==null?void 0:ue.length)||1;if(u==Ce)if(R+1<=de){const J=((wt=(ge=m==null?void 0:m.chapterInfos)==null?void 0:ge.find(q=>q.chapterNumber==R+1))==null?void 0:wt.chapterNumber)||2;e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),A(0),l(J)}else ne.custom(J=>{var q,K;return n.jsx(re,{text:((K=(q=g==null?void 0:g.texts.find(he=>he.variable=="Last Chapter"))==null?void 0:q.text)==null?void 0:K[t])||"",offset:70,visible:J.visible})});else if(R-1>0){const J=((It=(Tt=m==null?void 0:m.chapterInfos)==null?void 0:Tt.find(q=>q.chapterNumber==R-1))==null?void 0:It.chapterNumber)||1;e.dispatch({type:G.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),A(0),l(J)}else ne.custom(J=>{var q,K;return n.jsx(re,{text:((K=(q=g==null?void 0:g.texts.find(he=>he.variable=="First Chapter"))==null?void 0:q.text)==null?void 0:K[t])||"",offset:70,visible:J.visible})})}},[e.subBooks,m,R]),Fe=()=>E&&n.jsx(cn,{showaudioseekbar:"false",children:n.jsx(ln,{verses:o,topVerseNumber:W,showTitle:se,prevPage:e.prevPage,height:ie,originPanelHeight:k,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:E,handleBookmark:Ee})}),We=()=>{var u,l;return!E&&n.jsxs(cn,{showaudioseekbar:e.showAudioSeekBar?"true":"false",children:[S==ae.SPLIT_PANEL&&n.jsxs(n.Fragment,{children:[n.jsx(gr,{verses:o,topVerseNumber:W,prevPage:e.prevPage,height:k}),n.jsx(zr,{style:{backgroundColor:C},onMouseDown:Me,onTouchStart:Se})]}),(S==ae.ONLY_TRNSLATION||S==ae.SPLIT_PANEL)&&n.jsx(ln,{subBookInfo:m,chapterNumber:R,verses:o,topVerseNumber:W,showTitle:se,prevPage:e.prevPage,height:ie,originPanelHeight:k,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:E,isSpecialBook:((u=w==null?void 0:w.bookTitle)==null?void 0:u.en)=="Qur'an"||((l=w==null?void 0:w.bookTitle)==null?void 0:l.en)=="Zabur",handleBookmark:Ee}),S==ae.VERSE_BY_VERSE&&n.jsx(Yr,{children:o.map((b,I)=>{var x;return n.jsxs(Kr,{ref:d.current[I],children:[n.jsx(bt,{verse:b,refer:z.current[I],index:I}),n.jsx(_t,{refer:z.current[I],verse:b,index:I,isLoggedIn:!!e.currentUser,handleBookmark:Ee,isExistingInBookmark:((x=e.bookmark.filter(V=>V.verseId==b.verseId))==null?void 0:x.length)>0})]},I)})})]})},Sn=()=>n.jsx(qr,{src:c,bookTitle:(w==null?void 0:w.bookTitle.en)||"",bookImage:(w==null?void 0:w.bookImage)||"",subBookTitle:(m==null?void 0:m.subBookTitle.en)||"",subBookNumber:(m==null?void 0:m.subBookNumber)||0,chapterNumber:R,showAudioSeekBar:e.showAudioSeekBar,verses:o,isIntro:E,terms:g||{pageId:"",pageNumber:0,pageTitle:"",isCompleted:{},isPublished:{},texts:[]},setAudioSeekBarStatus:be,moveToSettingsPage:De,moveToSoundSettingPage:ye,moveToIndexPage:He,moveToSubBookExplorer:it,handleNavigateBtn:Ve});return n.jsxs(Xr,{style:{backgroundColor:r},children:[Fe(),We(),Sn(),P&&n.jsx(Ln,{})]})}const $r=e=>({bookmark:e.books.bookmark,bookInfos:e.books.bookInfos,currentBook:e.pageStatus.currentBook,prevPage:e.pageStatus.prevPage,subBooks:e.books.subBooks,subBookInfos:e.books.subBookInfos,chapterInfos:e.books.chapterInfos,currentSubBook:e.pageStatus.currentSubBook,currentChapter:e.pageStatus.currentChapter,currentVerse:e.pageStatus.currentVerse,userHistory:e.books.userHistory,currentUser:e.user.currentUser,showAudioSeekBar:e.pageStatus.showAudioSeekBar,terms:e.terms.terms}),li=Bn($r)(Gr);export{li as default};
