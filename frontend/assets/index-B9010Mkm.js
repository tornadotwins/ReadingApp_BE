import{b as s,j as e,Q as p,ac as f}from"./index-D44CcyU6.js";import{S as x,g as m,a as k,b as v,s as h,B as U,u as y,c as A,d as _,e as d}from"./App-CijLn3vT.js";import{u as H}from"./useOrientation-YosYZIOA.js";import{B as I,S as R,L as F,T as w,H as G,a as b,b as M,c as N}from"./styled-Bzj8RJ1q.js";import{T as C,I as j}from"./images-DzVw58WC.js";import{H as O}from"./index-Brw-GcCS.js";import{B as z}from"./Button-DpKcEnXQ.js";import{L as P}from"./index-eQASXctR.js";import{S as W}from"./index-DLJb24iN.js";import{a as K}from"./auth.service-B_opaex2.js";import"./index-DLnRJfSY.js";import"./axios-BimPEqV4.js";function D({label:t,checked:n,onChange:a}){const{theme:r}=s.useContext(x),{altTextColor:o}=m(r);return e.jsx(k,{control:e.jsx(v,{checked:n,bordercolor:o,onChange:a}),label:e.jsx(C,{color:o,children:t}),style:{color:o},bordercolor:o})}const Q=h(U)({display:"flex"}),Y=h(Q)({justifyContent:"center",alignItems:"center"}),q=h(Y)({width:"100dvw",height:"100dvh"});function J(t){const{t:n}=y(),{theme:a}=s.useContext(x),{headerBGColor:r,logoTextColor:o}=m(a),[i,l]=s.useState("");return s.useEffect(()=>{t.currentUrl.includes("heaven")?l(n("Welcome Heavenly")):l(n("Welcome"))},[]),e.jsxs(I,{style:{backgroundColor:r},children:[e.jsx(R,{children:e.jsx(O,{isLogin:t.isLoggedIn,textColor:o,itemBgColor:r,onLogin:t.onLogin,onSettings:t.onSettings})}),e.jsx(F,{src:a==p.EASY_OCEAN?j.main_logo_easyocean:j.main_logo}),e.jsx(w,{children:e.jsx(C,{color:o,fontFamily:"Buenard",fontWeight:"700",textAlign:"center",fontSize:36,lineHeight:47,children:i})})]})}function V(t){const{t:n,i18n:a}=y(),{theme:r}=s.useContext(x),{mainBGColor:o,altTextColor:i}=m(r),l=[{value:"en",label:n("English")},{value:"ar",label:n("Arabic")}],[u,S]=s.useState(l[0].value),[L,E]=s.useState(!1);s.useEffect(()=>{const c=localStorage.getItem(f);c&&c.length>0&&S(c)},[]);const T=c=>{const g=c.target.value;S(g),a.changeLanguage(g),localStorage.setItem(f,g)},B=c=>{E(c.target.checked)};return e.jsxs(G,{style:{backgroundColor:o},children:[e.jsx(C,{color:i,children:n("Reading Language")}),e.jsx(b,{children:e.jsx(W,{label:"",options:l,value:u,textColor:i,backgroundColor:o,onChange:T})}),e.jsx(b,{children:e.jsx(D,{label:n("Keep App"),checked:L,onChange:B})}),e.jsx(M,{children:e.jsx(z,{label:n("Start"),onClick:t.onStartClicked,size:"medium"})}),e.jsx(N,{children:e.jsx(P,{label:n("Save App")})})]})}function X(t){const[n,a]=s.useState("");s.useEffect(()=>{a(window.location.href)},[]);const r=H(),o=_(),i=()=>{o("/login")},l=()=>{t.dispatch({type:d.RESET_USER}),t.dispatch({type:d.RESET_BOOK}),t.dispatch({type:d.RESET_PAGE_STATUS}),K.logout()},u=()=>{o("/library")};return e.jsxs(q,{flexDirection:r?"column":"row",children:[e.jsx(J,{isLoggedIn:t.currentUser!=null,currentUrl:n,onLogin:t.currentUser?l:i,onSettings:()=>o("/settings")}),e.jsx(V,{onStartClicked:u})]})}function Z(t){return{currentUser:t.user.currentUser}}const ge=A(Z)(X);export{ge as default};
