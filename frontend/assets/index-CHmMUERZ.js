import{b as c,j as t,a3 as S,a4 as _e,a8 as Ie,a9 as Ee,aI as zt,aJ as kt,aD as Pt,aB as Gt,a5 as X}from"./index-8GXEJ_4u.js";import{S as Me,g as ze,ai as Ht,aj as Ut,s as r,B as u,ak as Wt,c as Yt,u as Tt,k as H,d as Ne}from"./App-CILHVfpg.js";import{a as Kt,I as y,T as p}from"./index-D5pPTTqE.js";import{B as Qt}from"./Button-BvFHyHEf.js";import{R as Xt,N as Vt,S as L,a as Jt,b as Zt,c as V,d as J}from"./index-BgWofYOK.js";import{L as qt}from"./index-JQuIWeH-.js";import{S as Z}from"./index-Dw0zGuTl.js";import{C as U}from"./index-BCtnnp_i.js";import{a as Be}from"./auth.service-A_fsn4LQ.js";import"./index-B7f_unvN.js";import"./axios-upsvKRUO.js";function $t({value:x,options:W,onChange:A}){const[Y]=c.useState(x),{theme:T}=c.useContext(Me),{altTextColor:e}=ze(T),K=C=>{A&&A(C.target.value)};return t.jsx(Ht,{row:!0,"aria-label":"image-radio-group",name:"image-radio-group",defaultValue:Y,value:x,onChange:K,children:W.map((C,Q)=>t.jsx(Ut,{labelPlacement:"top",value:C.value,control:t.jsx(Xt,{}),label:t.jsx("img",{src:C.image}),style:{color:e}},Q))})}const en=r(u)({backgroundColor:"#1B7695",width:"100%",height:"calc(100% + 50px)",padding:"20px 30px 0px 30px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"fixed","@media screen and (orientation: landscape)":{width:"100vw",display:"block"}}),tn=r(u)({backgroundColor:"#FFF",height:"calc(100% + 50px)",padding:"0 25px",paddingBottom:"100px",marginBottom:"20px",width:"100%",maxWidth:"600px",minWidth:"290px",overflowY:"auto","@media screen and (orientation: landscape)":{margin:"auto",marginBottom:"20px",overflowY:"auto",paddingBottom:"250px"},"@media (max-width: 387px)":{paddingBottom:"100px"}}),w=r(u)({display:"flex",flexDirection:"column",width:"100%",padding:"25px 0 25px 0"}),_=r(u)({margin:"0",marginBottom:"14px","@media (max-height: 600px)":{"& .MuiBox-root":{fontSize:"14px"}}});r(Wt)({width:"166px",height:"40px",margin:"0",placeSelf:"end",fontFamily:"Baloo Da 2",fontSize:"16px"});const nn=r(u)({display:"flex",alignItems:"center",marginTop:"16px",justifyContent:"center"}),an=r(u)({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"8px","& .MuiFormControl-root":{alignItems:"end",width:"166px"},"& .css-cw5clm-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input.css-cw5clm-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input.css-cw5clm-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input":{paddingRight:"0px"},"& .MuiInputBase-root":{width:"100%"},"@media (max-height: 600px)":{marginTop:"5px","& p":{fontSize:"14px"},"& .MuiInputBase-root":{height:"30px",width:"140px"},"& .MuiSelect-select":{paddingLeft:"8px",fontSize:"14px"}}}),q=r(u)({width:"100%","@media (max-height: 600px)":{"& p":{fontSize:"14px"}}}),$=r(u)({width:"100%",display:"flex",flexDirection:"column",justifyContent:"right",alignItems:"end",alignSelf:"end","& .MuiFormGroup-root":{width:"70%"},"& .css-1f04vvf-MuiFormControlLabel-root":{marginRight:"0px !important"},"@media (max-height: 600px)":{"& .MuiFormGroup-root":{width:"60%"},"& .MuiFormControlLabel-root":{margin:"0px"},"& .MuiFormControlLabel-label":{fontSize:"14px !important",margin:"0px"}},"@media (min-width: 349px)":{width:"300px"}}),ee=r("h6")({margin:"8px 0px","@media (max-height: 600px)":{fontSize:"14px"}}),on=r(u)(({style:x})=>({width:"100%",padding:"12px",backgroundColor:"#D9D9D9",display:"flex",justifyContent:"space-between",alignItems:"center",margin:"9px 0px","@media (max-height: 600px)":{padding:"8px"}})),sn=r("img")({width:"63px"}),ln=r(u)({margin:"0px",marginLeft:"24px","@media (max-height: 600px)":{fontSize:"14px"}}),rn=r(u)({margin:"0px",marginTop:"12px","@media (max-height: 600px)":{fontSize:"14px",marginTop:"8px"}}),xn=r(u)({margin:"0px","@media (max-height: 600px)":{fontSize:"14px"}}),dn=r(u)({margin:"19px 0px 10px 0px",display:"flex",justifyContent:"center"}),De=r(u)({width:"100%",marginTop:"27px","@media screen and (orientation: landscape)":{display:"flex",justifyContent:"space-between",alignItems:"center"}}),Fe=r(u)({margin:"0px",marginBottom:"9px","@media (max-height: 600px)":{fontSize:"14px"}}),Oe=r(u)({width:"134px",float:"right",marginRight:"10px","@media (max-height: 600px)":{marginTop:"5px","& p":{fontSize:"14px"},"& .MuiInputBase-root":{height:"30px",width:"140px"},"& .MuiSelect-select":{paddingLeft:"8px",fontSize:"14px"}}}),cn=r(u)({width:"100%",margin:"15px 0px","@media (max-height: 600px)":{fontSize:"14px"}}),un=r(u)({margin:"30px 0px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%","& .MuiButtonBase-root":{width:"170px"},"@media (max-height: 600px)":{margin:"20px 0px","& .MuiButtonBase-root":{fontSize:"14px",width:"150px",height:"30px"}}}),gn=r(u)({margin:"0"});function hn(x){var ie,oe,se,le,re,xe,de,ce,ue,ge,he,fe,pe,Se,ye,me,be,je,ve,Ce,Ae,Le,we,Re;const[W,A]=c.useState(!1),[Y,T]=c.useState(0),[e,K]=c.useState(),{textSize:C,setTextSize:Q,theme:m,setTheme:ke,startAyasOnNewLine:Pe,setStartAyasOnNewLine:Ge,showAyasNumbers:te,setShowAyasNumbers:He,ayasNumberDisplayFormat:Ue,setAyasNumberDisplayFormat:We,showQuranReferences:Ye,setShowQuranReferences:Te,displayType:Ke,setDisplayType:Qe,referenceLanguage:Xe,setReferenceLanguage:Ve,readingLanguage:i,setReadingLanguage:Je,readingControls:Ze,setReadingControls:qe,pageControl:$e,setPageControl:et,volume:tt,autoScrollText:nt,audioLanguage:at,audioOtherLanguage:it}=c.useContext(Me),[I,ot]=c.useState(C),[E,st]=c.useState(m),[N,lt]=c.useState(Pe),[B,rt]=c.useState(te),[D,xt]=c.useState(Ue),[F,dt]=c.useState(Ye),[O,ct]=c.useState(Ke),[M,ut]=c.useState(Xe),[R,gt]=c.useState(i),[z,ht]=c.useState(Ze),[k,ft]=c.useState($e),P=Tt(),{headerBGColor:pt,mainBGColor:G,altTextColor:g,backgroundColor:St,topTextColor:yt}=ze(m);c.useEffect(()=>{T(Kt())},[]),c.useEffect(()=>{var o;const n=x.terms.find(s=>s.pageTitle=="Settings");(o=n==null?void 0:n.isPublished)!=null&&o[i]?K(n):H.custom(s=>t.jsx(U,{text:"The terminologies for this page are not published.",visible:s.visible}))},[x.terms]);const mt=[{value:S.DEFAULT,label:((oe=(ie=e==null?void 0:e.texts.find(n=>n.variable=="Default"))==null?void 0:ie.text)==null?void 0:oe[i])||"Default"},{value:S.DARK,label:((le=(se=e==null?void 0:e.texts.find(n=>n.variable=="Dark"))==null?void 0:se.text)==null?void 0:le[i])||"Dark"},{value:S.BLACK_AND_WHITE,label:((xe=(re=e==null?void 0:e.texts.find(n=>n.variable=="BlackAndWhite"))==null?void 0:re.text)==null?void 0:xe[i])||"Black And White"},{value:S.SAPPHIRE,label:((ce=(de=e==null?void 0:e.texts.find(n=>n.variable=="Sapphire"))==null?void 0:de.text)==null?void 0:ce[i])||"Sapphire"},{value:S.EASY_OCEAN,label:((ge=(ue=e==null?void 0:e.texts.find(n=>n.variable=="EasyOcean"))==null?void 0:ue.text)==null?void 0:ge[i])||"EasyOcean"}],bt=[{value:_e.BEFORE,label:((fe=(he=e==null?void 0:e.texts.find(n=>n.variable=="Before Each Aya"))==null?void 0:he.text)==null?void 0:fe[i])||"Before each aya"},{value:_e.AFTER,label:((Se=(pe=e==null?void 0:e.texts.find(n=>n.variable=="After Each Aya"))==null?void 0:pe.text)==null?void 0:Se[i])||"After each aya"}],jt=[{value:X.ONLY_TRNSLATION,image:y.display_type_origin},{value:X.SPLIT_PANEL,image:y.display_type_split},{value:X.VERSE_BY_VERSE,image:y.display_type_several}],ne=x.languages,ae=x.languages,vt=[{value:Ie.RIGHT_HANDED,label:((me=(ye=e==null?void 0:e.texts.find(n=>n.variable=="Right Handed"))==null?void 0:ye.text)==null?void 0:me[i])||"Right Handed"},{value:Ie.LEFT_HANDED,label:((je=(be=e==null?void 0:e.texts.find(n=>n.variable=="Left Handed"))==null?void 0:be.text)==null?void 0:je[i])||"Left Handed"}],Ct=[{value:Ee.RIGTH_TO_LEFT,label:((Ce=(ve=e==null?void 0:e.texts.find(n=>n.variable=="Right Left"))==null?void 0:ve.text)==null?void 0:Ce[i])||"Right to left"},{value:Ee.LEFT_TO_RIGHT,label:((Le=(Ae=e==null?void 0:e.texts.find(n=>n.variable=="Left Right"))==null?void 0:Ae.text)==null?void 0:Le[i])||"Left to right"}],At=()=>{x.currentUser&&H.custom(n=>{var o,s;return t.jsx(U,{text:((s=(o=e==null?void 0:e.texts.find(d=>d.variable=="Not Built Yet"))==null?void 0:o.text)==null?void 0:s[i])||"Not built yet",offset:70,visible:n.visible})})},Lt=()=>{var n,o,s,d,h,f;return t.jsxs(w,{children:[t.jsx(p,{fontWeight:"700",fontFamily:"Inter",color:g,children:((o=(n=e==null?void 0:e.texts.find(l=>l.variable=="Style"))==null?void 0:n.text)==null?void 0:o[i])||"Style"}),t.jsx(nn,{children:t.jsx(Zt,{label:((d=(s=e==null?void 0:e.texts.find(l=>l.variable=="Text Size"))==null?void 0:s.text)==null?void 0:d[i])||"Text size",defaultValue:C,value:I,shiftStep:1,step:1,valueLabelDisplay:"auto",min:zt,max:kt,onChange:l=>ot(l)})}),t.jsxs(an,{children:[t.jsx(gn,{children:t.jsx(p,{fontFamily:"Inter",color:g,children:((f=(h=e==null?void 0:e.texts.find(l=>l.variable=="Theme"))==null?void 0:h.text)==null?void 0:f[i])||"Theme"})}),t.jsx(Z,{label:"",options:mt,value:E,backgroundColor:G,textColor:g,onChange:l=>st(l.target.value)})]})]})},wt=()=>{var n,o,s,d,h,f,l,b,j,v;return t.jsxs(w,{children:[t.jsx(_,{children:t.jsx(p,{fontWeight:"700",fontFamily:"Inter",color:g,children:((o=(n=e==null?void 0:e.texts.find(a=>a.variable=="Ayas"))==null?void 0:n.text)==null?void 0:o[i])||"Ayas"})}),t.jsx(q,{children:t.jsx(V,{label:((d=(s=e==null?void 0:e.texts.find(a=>a.variable=="Ayas New Line"))==null?void 0:s.text)==null?void 0:d[i])||"Ayas New Line",value:N,disable:!0,onChange:a=>lt(a)})}),t.jsx(q,{children:t.jsx(V,{label:((f=(h=e==null?void 0:e.texts.find(a=>a.variable=="Show Aya Numbers"))==null?void 0:h.text)==null?void 0:f[i])||"Show Aya Numbers",value:B,onChange:a=>rt(a)})}),te&&t.jsxs(t.Fragment,{children:[t.jsx(ee,{children:t.jsx(p,{fontFamily:"Inter",color:g,children:((b=(l=e==null?void 0:e.texts.find(a=>a.variable=="Aya Numbers"))==null?void 0:l.text)==null?void 0:b[i])||"Aya Numbers"})}),t.jsx($,{children:t.jsx(J,{label:((v=(j=e==null?void 0:e.texts.find(a=>a.variable=="Aya Numbers"))==null?void 0:j.text)==null?void 0:v[i])||"Aya Numbers",options:bt,value:D,onChange:a=>xt(a)})})]})]})},Rt=()=>{var n,o,s,d,h,f;return t.jsxs(w,{children:[t.jsx(_,{children:t.jsx(p,{fontFamily:"Inter",fontWeight:"700",color:g,children:((o=(n=e==null?void 0:e.texts.find(l=>l.variable=="Study"))==null?void 0:n.text)==null?void 0:o[i])||""})}),t.jsxs(on,{style:{backgroundColor:St,color:yt},children:[t.jsx(sn,{src:m==S.DEFAULT?y.swipe:m==S.EASY_OCEAN?y.swipe_easyocean:y.swipe_white}),t.jsx(ln,{children:t.jsx(p,{fontFamily:"Inter",children:((d=(s=e==null?void 0:e.texts.find(l=>l.variable=="Swipe To Reveal"))==null?void 0:s.text)==null?void 0:d[i])||"Swipe to reveal"})})]}),t.jsx(q,{children:t.jsx(V,{label:((f=(h=e==null?void 0:e.texts.find(l=>l.variable=="Show Reference"))==null?void 0:h.text)==null?void 0:f[i])||"Show reference",value:F,onChange:l=>dt(l)})})]})},_t=()=>{var n,o,s,d,h,f,l,b,j,v;return t.jsxs(w,{children:[t.jsx(_,{children:t.jsx(p,{fontFamily:"Inter",fontWeight:"700",fontSize:16,color:g,children:((o=(n=e==null?void 0:e.texts.find(a=>a.variable=="Languages"))==null?void 0:n.text)==null?void 0:o[i])||"Languages"})}),t.jsx(rn,{children:t.jsx(p,{fontFamily:"Inter",color:g,children:((d=(s=e==null?void 0:e.texts.find(a=>a.variable=="Display Type"))==null?void 0:s.text)==null?void 0:d[i])||"Display type"})}),t.jsx(xn,{children:t.jsx(p,{fontFamily:"Inter",color:g,children:((f=(h=e==null?void 0:e.texts.find(a=>a.variable=="Choose Display Type"))==null?void 0:h.text)==null?void 0:f[i])||"Choose display type"})}),t.jsx(dn,{children:t.jsx($t,{options:jt,value:O,onChange:a=>ct(a)})}),t.jsxs(De,{children:[t.jsx(Fe,{children:t.jsx(p,{fontFamily:"'Baloo Da 2'",color:g,children:((b=(l=e==null?void 0:e.texts.find(a=>a.variable=="Reference Language"))==null?void 0:l.text)==null?void 0:b[i])||"Reference language"})}),t.jsx(Oe,{children:t.jsx(Z,{label:"",value:M||ne[0].value,options:ne,backgroundColor:G,textColor:g,onChange:a=>ut(a.target.value)})})]}),t.jsxs(De,{children:[t.jsx(Fe,{children:t.jsx(p,{fontFamily:"'Baloo Da 2'",color:g,children:((v=(j=e==null?void 0:e.texts.find(a=>a.variable=="Reading Language"))==null?void 0:j.text)==null?void 0:v[i])||"Reading language"})}),t.jsx(Oe,{children:t.jsx(Z,{label:"",value:R||ae[1].value,options:ae,backgroundColor:G,textColor:g,onChange:a=>gt(a.target.value)})})]})]})},It=()=>{var n,o,s,d,h,f,l,b,j,v;return t.jsxs(w,{children:[t.jsx(_,{children:t.jsx(p,{fontFamily:"Inter",fontWeight:"700",fontSize:16,color:g,children:((o=(n=e==null?void 0:e.texts.find(a=>a.variable=="Navigation"))==null?void 0:n.text)==null?void 0:o[i])||"Navigation"})}),t.jsx(ee,{children:t.jsx(p,{fontFamily:"Inter",color:g,children:((d=(s=e==null?void 0:e.texts.find(a=>a.variable=="Reading Controls"))==null?void 0:s.text)==null?void 0:d[i])||"Reading controls"})}),t.jsx($,{children:t.jsx(J,{label:((f=(h=e==null?void 0:e.texts.find(a=>a.variable=="Reading Controls"))==null?void 0:h.text)==null?void 0:f[i])||"Reading controls",options:vt,value:z,onChange:a=>ht(a)})}),t.jsx(ee,{children:t.jsx(p,{fontFamily:"Inter",color:g,children:((b=(l=e==null?void 0:e.texts.find(a=>a.variable=="Pages"))==null?void 0:l.text)==null?void 0:b[i])||"Pages"})}),t.jsx($,{children:t.jsx(J,{label:((v=(j=e==null?void 0:e.texts.find(a=>a.variable=="Pages"))==null?void 0:j.text)==null?void 0:v[i])||"Pages",options:Ct,value:k,onChange:a=>ft(a)})})]})},Et=()=>{var n,o;return t.jsxs(w,{children:[t.jsx(_,{children:t.jsx(p,{fontFamily:"Inter",fontWeight:"700",fontSize:16,color:g,children:((o=(n=e==null?void 0:e.texts.find(s=>s.variable=="Storage"))==null?void 0:n.text)==null?void 0:o[i])||"Storage"})}),t.jsx(cn,{children:t.jsx(p,{fontFamily:"Inter",textAlign:"right",color:g,children:Y+" of "+Pt+"MB  used"})})]})},Nt=()=>{var n,o;return t.jsxs(tn,{style:{backgroundColor:G},children:[Lt(),t.jsx(L,{}),wt(),t.jsx(L,{}),Rt(),t.jsx(L,{}),_t(),t.jsx(L,{}),It(),t.jsx(L,{}),Et(),t.jsx(L,{}),x.currentUser&&t.jsx(un,{children:t.jsx(Qt,{label:((o=(n=e==null?void 0:e.texts.find(s=>s.variable=="Go To Account"))==null?void 0:n.text)==null?void 0:o[i])||"Go to account",onClick:At})})]})},Bt=()=>{P(-1)},Dt=()=>{if(x.currentUser)Ft();else{const o=JSON.stringify({textSize:I,theme:E,startAyasOnNewLine:N,showAyasNumbers:B,ayasNumberDisplayFormat:D,showQuranReferences:F,displayType:O,referenceLanguage:M,readingLanguage:R,readingControls:z,pageControl:k,volume:tt,autoScrollText:nt,audioLanguage:at,audioOtherLanguage:it});localStorage.setItem("settings",o),Q(I),ke(E),Ge(N),He(B),We(D),Te(F),Qe(O),Ve(M),Je(R),qe(z),et(k),x.dispatch({type:Ne.SET_READING_LANGUAGE,payload:{language:R}}),H.custom(s=>{var d,h;return t.jsx(U,{text:((h=(d=e==null?void 0:e.texts.find(f=>f.variable=="Setting Alert Description"))==null?void 0:d.text)==null?void 0:h[i])||"",visible:s.visible})}),P(-1)}},Ft=()=>{A(!0),Be.updateSettings({settings:{textSize:I,theme:E,startAyasOnNewLine:N,showAyasNumbers:B,ayasNumberDisplayFormat:D,showQuranReferences:F,displayType:O,referenceLanguage:M,readingLanguage:R,readingControls:z,pageControl:k}}).then(n=>{n&&x.dispatch({type:Ne.SET_CURRENT_USER,payload:{user:n}}),A(!1),Mt()}).catch(n=>{A(!1),n.status==401&&n.response.data.message==Gt&&(H.custom(o=>t.jsx(U,{text:n.response.data.message,visible:o.visible})),Be.logout(),P("/login"))})},Ot=()=>t.jsx(Jt,{footerImg:y.sound_setting_subtract,closeImg:m==S.DEFAULT||m==S.DARK?y.close2:m==S.BLACK_AND_WHITE?y.close2_BAW:m==S.SAPPHIRE?y.close2_sapphire:y.close2_easyocean,tickImg:m==S.DEFAULT||m==S.DARK?y.tickBtn:m==S.BLACK_AND_WHITE?y.tickBtn_BWA:m==S.SAPPHIRE?y.tickBtn_sapphire:y.tickBtn_easyocean,onClose:Bt,onSave:Dt}),Mt=()=>{P(-1)};return t.jsxs(t.Fragment,{children:[t.jsxs(en,{style:{backgroundColor:pt},children:[t.jsx(Vt,{title:((Re=(we=e==null?void 0:e.texts.find(n=>n.variable=="Settings"))==null?void 0:we.text)==null?void 0:Re[i])||""}),Nt()]}),Ot(),W&&t.jsx(qt,{})]})}function fn(x){return{currentUser:x.user.currentUser,languages:x.user.languages,terms:x.terms.terms}}function pn(x){return{dispatch:x}}const _n=Yt(fn,pn)(hn);export{_n as default};
