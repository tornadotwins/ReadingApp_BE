import{b as E,$ as S,j as t,Q as u,a0 as f,ap as tt}from"./index-D44CcyU6.js";import{s as e,B as s,c as et,u as at,S as nt,d as ot,g as it,e as m,_ as L}from"./App-CijLn3vT.js";import{I as i,T as st}from"./images-DzVw58WC.js";import{H as lt}from"./index-Brw-GcCS.js";import{L as rt,C as A}from"./index-CYitSDh-.js";import{N as ut,b as ct,c as gt,d as dt,S as pt,a as ht}from"./index-BIn_4sVA.js";import{S as mt}from"./index-DLJb24iN.js";import{a as y}from"./auth.service-B_opaex2.js";import"./index-DLnRJfSY.js";import"./axios-BimPEqV4.js";const xt=e(s)({backgroundColor:"#1B7695",width:"100%",height:"100%",padding:"20px 30px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center","@media screen and (orientation: landscape)":{width:"100vw",height:"auto",minHeight:"100dvh",display:"block"}});e(s)({display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"});const St=e(s)({position:"absolute",top:"12px",right:"15px",width:"46px","@media (max-height: 639px)":{top:"8px",right:"10px"},"@media screen and (orientation: landscape)":{right:"15px"}});e(s)({margin:"0px"});const ft=e(s)({backgroundColor:"#FFF",height:"calc(100dvh - 80px)",padding:"24px",width:"100%","@media (min-width: 430px)":{width:"375px"},"@media screen and (orientation: landscape)":{margin:"auto",height:"calc(100dvh + 150px)"}}),yt=e(s)({display:"flex",justifyContent:"space-between"}),Ct=e(s)({display:"flex",justifyContent:"space-between"}),bt=e(s)({marginBottom:"30px","& .MuiFormControlLabel-root":{marginRight:"0px",width:"85%",alignSelf:"end"},"& .css-h145cq-MuiInputBase-root-MuiOutlinedInput-root-MuiSelect-root":{height:"28px"},"& .css-cw5clm-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input.css-cw5clm-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input.css-cw5clm-MuiSelect-select-MuiInputBase-input-MuiOutlinedInput-input":{paddingRight:"0px"}}),wt=e(s)({margin:"12px 0px"});e(s)({width:"100vw",display:"flex"});e("img")({width:"100vw",position:"fixed",bottom:"0px",objectFit:"cover","@media (min-width: 412px)":{height:"150px",width:"100vw"},"@media (min-width: 719px)":{height:"170px",width:"100vw"},"@media (min-width: 949px)":{height:"200px"}});e(s)({display:"flex",justifyContent:"space-between",width:"100px",position:"fixed",left:"0",right:"0",bottom:"30px",margin:"auto","@media (min-width: 599px)":{width:"140px"}});e("img")({width:"40px",cursor:"pointer","&:active":{opacity:"0.8"},"@media (min-width: 599px)":{width:"50px"}});function vt(r){const[_,x]=E.useState(!1),{t:l}=at(),{textSize:I,theme:n,startAyasOnNewLine:B,showAyasNumbers:O,ayasNumberDisplayFormat:N,showQuranReferences:R,displayType:M,referenceLanguage:C,readingLanguage:b,readingControls:D,pageControl:F,volume:g,setVolume:U,autoScrollText:d,setAutoScrollText:k,audioLanguage:p,setAudioLanguage:H,audioOtherLanguage:h,setAudioOtherLanguage:P}=E.useContext(nt),{headerBGColor:w,mainBGColor:v,altTextColor:T,logoTextColor:G}=it(n),c=ot(),K=o=>{const a=o.target.value;P(a)},V=()=>{c("/login")},W=()=>{r.dispatch({type:m.RESET_USER}),r.dispatch({type:m.RESET_BOOK}),r.dispatch({type:m.RESET_PAGE_STATUS}),y.logout()},J=[{value:"en",label:l("English")},{value:"dutch",label:l("Dutch")}],Q=[{value:C,label:l("Original Language")},{value:b,label:l("Translation")},{value:S.OTHER,disable:!0,label:t.jsx(mt,{label:"",value:h||S.TRANSLATION,disabled:!0,options:J,backgroundColor:v,textColor:T,onChange:K})}],q=()=>t.jsxs(ft,{style:{backgroundColor:v},children:[t.jsx(yt,{children:t.jsx(ct,{label:l("Volume"),defaultValue:g,step:5,labelValue:!0,onChange:U})}),t.jsx(Ct,{children:t.jsx(gt,{label:l("Auto Scroll"),value:d,labelValue:!0,onChange:k})}),t.jsxs(bt,{children:[t.jsx(wt,{children:t.jsx(st,{fontFamily:"Inter",color:T,children:l("Language")})}),t.jsx(dt,{value:p||S.TRANSLATION,options:Q,onChange:H})]}),t.jsx(pt,{})]}),z=()=>{c(-1)},X=()=>{if(r.currentUser)Y();else{const o=localStorage.getItem(f);if(o){const a=JSON.parse(o);a.volume=g,a.autoScrollText=d,a.audioLanguage=p,a.audioOtherLanguage=h,localStorage.setItem(f,JSON.stringify(a))}else{const Z=JSON.stringify({textSize:I,theme:n,startAyasOnNewLine:B,showAyasNumbers:O,ayasNumberDisplayFormat:N,showQuranReferences:R,displayType:M,referenceLanguage:C,readingLanguage:b,readingControls:D,pageControl:F,volume:g,autoScrollText:d,audioLanguage:p,audioOtherLanguage:h});localStorage.setItem(f,Z)}L.custom(a=>t.jsx(A,{text:l("Setting Alert Description"),offset:70,visible:a.visible})),j()}},j=()=>{c(-1)},Y=()=>{x(!0),y.updateSettings({soundSettings:{volume:g,autoScrollText:d,language:p,other:h}}).then(o=>{x(!1),o&&r.dispatch({type:m.SET_CURRENT_USER,payload:{user:o}}),j()}).catch(o=>{x(!1),o.status==401&&o.response.data.message==tt&&(L.custom(a=>t.jsx(A,{text:l(o.response.data.message),visible:a.visible})),y.logout(),c("/login"))})},$=()=>t.jsx(ht,{footerImg:i.sound_setting_subtract,closeImg:n==u.DEFAULT||n==u.DARK?i.close2:n==u.BLACK_AND_WHITE?i.close2_BAW:n==u.SAPPHIRE?i.close2_sapphire:i.close2_easyocean,tickImg:n==u.DEFAULT||n==u.DARK?i.tickBtn:n==u.BLACK_AND_WHITE?i.tickBtn_BWA:n==u.SAPPHIRE?i.tickBtn_sapphire:i.tickBtn_easyocean,onClose:z,onSave:X});return t.jsxs(t.Fragment,{children:[t.jsxs(xt,{style:{backgroundColor:w},children:[t.jsx(ut,{title:l("Sound Settings"),icon:n==u.EASY_OCEAN?i.sound_setting_easyocean:i.sound_setting}),t.jsx(St,{children:t.jsx(lt,{isLogin:!!r.currentUser,textColor:G,itemBgColor:w,onLogin:r.currentUser?W:V,onSettings:()=>c("/settings")})}),q()]}),$(),_&&t.jsx(rt,{})]})}function Tt(r){return{currentUser:r.user.currentUser}}const Mt=et(Tt)(vt);export{Mt as default};
