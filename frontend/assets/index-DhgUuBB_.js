var En=Object.defineProperty;var wn=(e,i,a)=>i in e?En(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a;var Rt=(e,i,a)=>wn(e,typeof i!="symbol"?i+"":i,a);import{b as o,j as n,a3 as z,ar as In,a5 as se,au as Pe,aK as Ne,aL as pe,aM as Qe,an as je,ay as me,X as dn,a8 as Tn,ap as Je,ab as At,a9 as We,aN as Ue,aO as Ee,aP as Bt,aQ as kn,aR as Rn,aS as Pt,ao as An,as as Bn,ax as st,aw as qe}from"./index-BlVR3GtE.js";import{S as Se,g as ye,aw as Pn,ax as Nn,ay as jn,az as Ln,s as _,B as R,aA as tt,G as hn,aB as On,k as ne,c as Mn,u as Dn,d as J}from"./App-dEhQyT-Z.js";import{I as X,T as K,c as Nt}from"./index-D7LGY1Nj.js";import{p as Hn}from"./index-CHTSBW6u.js";import{d as jt,A as Vn,b as Lt}from"./bookmark.service-B6dYcEIz.js";import{C as re}from"./index-Ci6p0jh4.js";import{L as Fn}from"./index-CmkTERij.js";import{a as lt}from"./auth.service-BbDv6u2-.js";import{b as Xe}from"./book.service-832DIfAB.js";import{a as Wn}from"./axios-upsvKRUO.js";import"./index-BnMdUn4R.js";function Un(e){const{theme:i}=o.useContext(Se),{buttonColor:a,buttonTextColor:s}=ye(i);return n.jsx(Pn,{ref:e.refer,"data-id":e.dataId,backgroundColor:a,children:n.jsxs(Nn,{progresscolor:s,children:[n.jsx(jn,{variant:"determinate",value:e.progress,thickness:2}),n.jsx(Ln,{src:i==z.EASY_OCEAN?X.bookmark2_white:X.bookmark2_default})]})})}var fn={};function qn(e){if(e&&e.__esModule)return e;var i={};if(e!=null){for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};s.get||s.set?Object.defineProperty(i,a,s):i[a]=e[a]}}return i.default=e,i}var gn=qn,ge={},ct,Ot;function Xn(){if(Ot)return ct;Ot=1;function e(i){return i&&i.__esModule?i:{default:i}}return ct=e,ct}var ze,Mt;function zn(){if(Mt)return ze;Mt=1;function e(){return ze=e=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(i[u]=s[u])}return i},e.apply(this,arguments)}return ze=e,ze}var ut,Dt;function Yn(){if(Dt)return ut;Dt=1;function e(i,a){if(i==null)return{};var s={},u=Object.keys(i),d,O;for(O=0;O<u.length;O++)d=u[O],!(a.indexOf(d)>=0)&&(s[d]=i[d]);return s}return ut=e,ut}var dt,Ht;function Kn(){if(Ht)return dt;Ht=1;var e=Yn();function i(a,s){if(a==null)return{};var u=e(a,s),d,O;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(a);for(O=0;O<C.length;O++)d=C[O],!(s.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(a,d)&&(u[d]=a[d])}return u}return dt=i,dt}var ht,Vt;function Gn(){if(Vt)return ht;Vt=1;function e(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}return ht=e,ht}var ft,Ft;function $n(){if(Ft)return ft;Ft=1;function e(a,s){for(var u=0;u<s.length;u++){var d=s[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function i(a,s,u){return s&&e(a.prototype,s),u&&e(a,u),a}return ft=i,ft}var Ie,Wt;function Jn(){if(Wt)return Ie;Wt=1;function e(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(u){return typeof u}:e=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(a)}function i(a){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?Ie=i=function(u){return e(u)}:Ie=i=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":e(u)},i(a)}return Ie=i,Ie}var gt,Ut;function Qn(){if(Ut)return gt;Ut=1;function e(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}return gt=e,gt}var xt,qt;function Zn(){if(qt)return xt;qt=1;var e=Jn(),i=Qn();function a(s,u){return u&&(e(u)==="object"||typeof u=="function")?u:i(s)}return xt=a,xt}var Ye,Xt;function er(){if(Xt)return Ye;Xt=1;function e(i){return Ye=e=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},e(i)}return Ye=e,Ye}var Ke,zt;function tr(){if(zt)return Ke;zt=1;function e(i,a){return Ke=e=Object.setPrototypeOf||function(u,d){return u.__proto__=d,u},e(i,a)}return Ke=e,Ke}var vt,Yt;function nr(){if(Yt)return vt;Yt=1;var e=tr();function i(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&e(a,s)}return vt=i,vt}var mt,Kt;function xn(){if(Kt)return mt;Kt=1;var e=function(){};return mt=e,mt}var St={},bt,Gt;function nt(){if(Gt)return bt;Gt=1;function e(i){return i&&i.__esModule?i:{default:i}}return bt=e,bt}var Te={},$t;function rr(){if($t)return Te;$t=1;var e=nt();Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0;var i=e(o);e(xn());var a=function(d){d.index;var O=d.children;i.default.Children.count(O)},s=a;return Te.default=s,Te}var Ge={},ke={},Jt;function vn(){if(Jt)return ke;Jt=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0;var e={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3};return ke.default=e,ke}var Qt;function ir(){if(Qt)return Ge;Qt=1;var e=nt();Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.default=s;var i=e(o),a=e(vn());function s(u){var d=u.children,O=u.startIndex,C=u.startX,B=u.pageX,H=u.viewLength,w=u.resistance,M=i.default.Children.count(d)-1,I=O+(C-B)/H,F;return w?I<0?I=Math.exp(I*a.default.RESISTANCE_COEF)-1:I>M&&(I=M+1-Math.exp((M-I)*a.default.RESISTANCE_COEF)):I<0?(I=0,F=(I-O)*H+B):I>M&&(I=M,F=(I-O)*H+B),{index:I,startX:F}}return Ge}var Re={},Zt;function ar(){if(Zt)return Re;Zt=1;var e=nt();Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=void 0;var i=e(o),a=function(d,O){var C=!1,B=function(b){return b?b.key:"empty"};if(d.children.length&&O.children.length){var H=i.default.Children.map(d.children,B),w=H[d.index];if(w!=null){var M=i.default.Children.map(O.children,B),I=M[O.index];w===I&&(C=!0)}}return C},s=a;return Re.default=s,Re}var Ae={},en;function or(){if(en)return Ae;en=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.default=void 0;function e(a,s){var u=a%s;return u<0?u+s:u}var i=e;return Ae.default=i,Ae}var tn;function sr(){return tn||(tn=1,function(e){var i=nt();Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"checkIndexBounds",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"computeIndex",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"constant",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"getDisplaySameSlide",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return O.default}});var a=i(rr()),s=i(ir()),u=i(vn()),d=i(ar()),O=i(or())}(St)),St}var nn;function lr(){if(nn)return ge;nn=1;var e=gn,i=Xn();Object.defineProperty(ge,"__esModule",{value:!0}),ge.getDomTreeShapes=m,ge.findNativeHandler=ae,ge.default=ge.SwipeableViewsContext=void 0;var a=i(zn()),s=i(Kn()),u=i(Gn()),d=i($n()),O=i(Zn()),C=i(er()),B=i(nr()),H=e(o);i(Hn),i(xn());var w=sr();function M(g,D,P,t){return g.addEventListener(D,P,t),{remove:function(){g.removeEventListener(D,P,t)}}}var I={container:{direction:"ltr",display:"flex",willChange:"transform"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},F={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(D){return"translate(".concat(-D,"%, 0)")},"x-reverse":function(D){return"translate(".concat(D,"%, 0)")},y:function(D){return"translate(0, ".concat(-D,"%)")},"y-reverse":function(D){return"translate(0, ".concat(D,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function b(g,D){var P=D.duration,t=D.easeFunction,r=D.delay;return"".concat(g," ").concat(P," ").concat(t," ").concat(r)}function G(g,D){var P=F.rotationMatrix[D];return{pageX:P.x[0]*g.pageX+P.x[1]*g.pageY,pageY:P.y[0]*g.pageX+P.y[1]*g.pageY}}function E(g){return g.touches=[{pageX:g.pageX,pageY:g.pageY}],g}function m(g,D){for(var P=[];g&&g!==D&&g!==document.body&&!g.hasAttribute("data-swipeable");){var t=window.getComputedStyle(g);t.getPropertyValue("position")==="absolute"||t.getPropertyValue("overflow-x")==="hidden"?P=[]:(g.clientWidth>0&&g.scrollWidth>g.clientWidth||g.clientHeight>0&&g.scrollHeight>g.clientHeight)&&P.push({element:g,scrollWidth:g.scrollWidth,scrollHeight:g.scrollHeight,clientWidth:g.clientWidth,clientHeight:g.clientHeight,scrollLeft:g.scrollLeft,scrollTop:g.scrollTop}),g=g.parentNode}return P}var S=null;function ae(g){var D=g.domTreeShapes,P=g.pageX,t=g.startX,r=g.axis;return D.some(function(v){var W=P>=t;(r==="x"||r==="y")&&(W=!W);var f=Math.round(v[F.scrollPosition[r]]),N=f>0,U=f+v[F.clientLength[r]]<v[F.scrollLength[r]];return W&&U||!W&&N?(S=v.element,!0):!1})}var L=H.createContext();ge.SwipeableViewsContext=L;var T=function(g){(0,B.default)(D,g);function D(P){var t;return(0,u.default)(this,D),t=(0,O.default)(this,(0,C.default)(D).call(this,P)),t.rootNode=null,t.containerNode=null,t.ignoreNextScrollEvents=!1,t.viewLength=0,t.startX=0,t.lastX=0,t.vx=0,t.startY=0,t.isSwiping=void 0,t.started=!1,t.startIndex=0,t.transitionListener=null,t.touchMoveListener=null,t.activeSlide=null,t.indexCurrent=null,t.firstRenderTimeout=null,t.setRootNode=function(r){t.rootNode=r},t.setContainerNode=function(r){t.containerNode=r},t.setActiveSlide=function(r){t.activeSlide=r,t.updateHeight()},t.handleSwipeStart=function(r){var v=t.props.axis,W=G(r.touches[0],v);t.viewLength=t.rootNode.getBoundingClientRect()[F.length[v]],t.startX=W.pageX,t.lastX=W.pageX,t.vx=0,t.startY=W.pageY,t.isSwiping=void 0,t.started=!0;var f=window.getComputedStyle(t.containerNode),N=f.getPropertyValue("-webkit-transform")||f.getPropertyValue("transform");if(N&&N!=="none"){var U=N.split("(")[1].split(")")[0].split(","),p=window.getComputedStyle(t.rootNode),h=G({pageX:parseInt(U[4],10),pageY:parseInt(U[5],10)},v);t.startIndex=-h.pageX/(t.viewLength-parseInt(p.paddingLeft,10)-parseInt(p.paddingRight,10))||0}},t.handleSwipeMove=function(r){if(!t.started){t.handleTouchStart(r);return}if(!(S!==null&&S!==t.rootNode)){var v=t.props,W=v.axis,f=v.children,N=v.ignoreNativeScroll,U=v.onSwitching,p=v.resistance,h=G(r.touches[0],W);if(t.isSwiping===void 0){var k=Math.abs(h.pageX-t.startX),j=Math.abs(h.pageY-t.startY),V=k>j&&k>w.constant.UNCERTAINTY_THRESHOLD;if(!p&&(W==="y"||W==="y-reverse")&&(t.indexCurrent===0&&t.startX<h.pageX||t.indexCurrent===H.Children.count(t.props.children)-1&&t.startX>h.pageX)){t.isSwiping=!1;return}if(k>j&&r.preventDefault(),V===!0||j>w.constant.UNCERTAINTY_THRESHOLD){t.isSwiping=V,t.startX=h.pageX;return}}if(t.isSwiping===!0){r.preventDefault(),t.vx=t.vx*.5+(h.pageX-t.lastX)*.5,t.lastX=h.pageX;var Z=(0,w.computeIndex)({children:f,resistance:p,pageX:h.pageX,startIndex:t.startIndex,startX:t.startX,viewLength:t.viewLength}),he=Z.index,oe=Z.startX;if(S===null&&!N){var ie=m(r.target,t.rootNode),le=ae({domTreeShapes:ie,startX:t.startX,pageX:h.pageX,axis:W});if(le)return}oe?t.startX=oe:S===null&&(S=t.rootNode),t.setIndexCurrent(he);var fe=function(){U&&U(he,"move")};(t.state.displaySameSlide||!t.state.isDragging)&&t.setState({displaySameSlide:!1,isDragging:!0},fe),fe()}}},t.handleSwipeEnd=function(){if(S=null,!!t.started&&(t.started=!1,t.isSwiping===!0)){var r=t.state.indexLatest,v=t.indexCurrent,W=r-v,f;Math.abs(t.vx)>t.props.threshold?t.vx>0?f=Math.floor(v):f=Math.ceil(v):Math.abs(W)>t.props.hysteresis?f=W>0?Math.floor(v):Math.ceil(v):f=r;var N=H.Children.count(t.props.children)-1;f<0?f=0:f>N&&(f=N),t.setIndexCurrent(f),t.setState({indexLatest:f,isDragging:!1},function(){t.props.onSwitching&&t.props.onSwitching(f,"end"),t.props.onChangeIndex&&f!==r&&t.props.onChangeIndex(f,r,{reason:"swipe"}),v===r&&t.handleTransitionEnd()})}},t.handleTouchStart=function(r){t.props.onTouchStart&&t.props.onTouchStart(r),t.handleSwipeStart(r)},t.handleTouchEnd=function(r){t.props.onTouchEnd&&t.props.onTouchEnd(r),t.handleSwipeEnd(r)},t.handleMouseDown=function(r){t.props.onMouseDown&&t.props.onMouseDown(r),r.persist(),t.handleSwipeStart(E(r))},t.handleMouseUp=function(r){t.props.onMouseUp&&t.props.onMouseUp(r),t.handleSwipeEnd(E(r))},t.handleMouseLeave=function(r){t.props.onMouseLeave&&t.props.onMouseLeave(r),t.started&&t.handleSwipeEnd(E(r))},t.handleMouseMove=function(r){t.props.onMouseMove&&t.props.onMouseMove(r),t.started&&t.handleSwipeMove(E(r))},t.handleScroll=function(r){if(t.props.onScroll&&t.props.onScroll(r),r.target===t.rootNode){if(t.ignoreNextScrollEvents){t.ignoreNextScrollEvents=!1;return}var v=t.state.indexLatest,W=Math.ceil(r.target.scrollLeft/r.target.clientWidth)+v;t.ignoreNextScrollEvents=!0,r.target.scrollLeft=0,t.props.onChangeIndex&&W!==v&&t.props.onChangeIndex(W,v,{reason:"focus"})}},t.updateHeight=function(){if(t.activeSlide!==null){var r=t.activeSlide.children[0];r!==void 0&&r.offsetHeight!==void 0&&t.state.heightLatest!==r.offsetHeight&&t.setState({heightLatest:r.offsetHeight})}},t.state={indexLatest:P.index,isDragging:!1,renderOnlyActive:!P.disableLazyLoading,heightLatest:0,displaySameSlide:!0},t.setIndexCurrent(P.index),t}return(0,d.default)(D,[{key:"componentDidMount",value:function(){var t=this;this.transitionListener=M(this.containerNode,"transitionend",function(r){r.target===t.containerNode&&t.handleTransitionEnd()}),this.touchMoveListener=M(this.rootNode,"touchmove",function(r){t.props.disabled||t.handleSwipeMove(r)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){t.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var r=t.index;typeof r=="number"&&r!==this.props.index&&(this.setIndexCurrent(r),this.setState({displaySameSlide:(0,w.getDisplaySameSlide)(this.props,t),indexLatest:r}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var t=this;return{slideUpdateHeight:function(){t.updateHeight()}}}},{key:"setIndexCurrent",value:function(t){if(!this.props.animateTransitions&&this.indexCurrent!==t&&this.handleTransitionEnd(),this.indexCurrent=t,this.containerNode){var r=this.props.axis,v=F.transform[r](t*100);this.containerNode.style.WebkitTransform=v,this.containerNode.style.transform=v}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var t=this,r=this.props;r.action;var v=r.animateHeight,W=r.animateTransitions,f=r.axis,N=r.children,U=r.containerStyle,p=r.disabled;r.disableLazyLoading;var h=r.enableMouseEvents;r.hysteresis,r.ignoreNativeScroll,r.index,r.onChangeIndex,r.onSwitching,r.onTransitionEnd,r.resistance;var k=r.slideStyle,j=r.slideClassName,V=r.springConfig,Z=r.style;r.threshold;var he=(0,s.default)(r,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"]),oe=this.state,ie=oe.displaySameSlide,le=oe.heightLatest,fe=oe.indexLatest,we=oe.isDragging,Le=oe.renderOnlyActive,rt=p?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},it=!p&&h?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},Oe=(0,a.default)({},I.slide,k),xe,be;if(we||!W||ie)xe="all 0s ease 0s",be="all 0s ease 0s";else if(xe=b("transform",V),be=b("-webkit-transform",V),le!==0){var Me=", ".concat(b("height",V));xe+=Me,be+=Me}var _e={height:null,WebkitFlexDirection:F.flexDirection[f],flexDirection:F.flexDirection[f],WebkitTransition:be,transition:xe};if(!Le){var De=F.transform[f](this.indexCurrent*100);_e.WebkitTransform=De,_e.transform=De}return v&&(_e.height=le),H.createElement(L.Provider,{value:this.getSwipeableViewsContext()},H.createElement("div",(0,a.default)({ref:this.setRootNode,style:(0,a.default)({},F.root[f],Z)},he,rt,it,{onScroll:this.handleScroll}),H.createElement("div",{ref:this.setContainerNode,style:(0,a.default)({},_e,I.container,U),className:"react-swipeable-view-container"},H.Children.map(N,function(at,He){if(Le&&He!==fe)return null;var Ve,Fe=!0;return He===fe&&(Fe=!1,v&&(Ve=t.setActiveSlide,Oe.overflowY="hidden")),H.createElement("div",{ref:Ve,style:Oe,className:j,"aria-hidden":Fe,"data-swipeable":"true"},at)}))))}}]),D}(H.Component);T.displayName="ReactSwipableView",T.propTypes={},T.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var Q=T;return ge.default=Q,ge}(function(e){var i=gn;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"SwipeableViewsContext",{enumerable:!0,get:function(){return a.SwipeableViewsContext}});var a=i(lr())})(fn);const cr=In(fn),ur=_(R)({width:"100%",margin:"0px"}),dr=_(R)({margin:"0px",padding:"0px",position:"relative"}),hr=_(R)({width:"100%",height:"100%",margin:"0px",padding:"0px",position:"relative"}),mn=_(cr)(({scrollcolor:e})=>({width:"100%",height:"100%",marginBottom:"8px",padding:"14px 0px 20px 0px","::-webkit-scrollbar-thumb":{background:"red"},"::-webkit-scrollbar-thumb: hover":{backgroundColor:e,opacity:"1"},"& .react-swipeable-view-container":{height:"100%"}})),Ze=_(R)({width:"100%",padding:"0px 14px","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),Sn=_(R)({height:"10px",width:"100%",position:"absolute",bottom:"0",display:"flex",justifyContent:"center","& :last-child":{marginRight:"0px"}}),et=_(R)(({active:e,linecolor:i})=>({borderTop:`1px solid ${i}`,width:e=="true"?"20px":e=="false"?"10px":"0px",color:"black",marginRight:"5px",marginTop:"5px"})),fr=_(R)(({scrollbarcolor:e})=>({width:"100%",height:"100%","::-webkit-scrollbar-thumb":{backgroundColor:"red"},"::-webkit-scrollbar-track":{backgroundColor:"transparent"},scrollbarWidth:"auto",scrollbarColor:`${e} transparent`})),rn=_(R)({width:"100%",padding:"0px",margin:"0px"}),gr=_(R)({width:"100%",margin:"auto",padding:"20px 0px","& .MuiBox-root":{textWrap:"wrap"}}),xr=_(R)({width:"100%",height:"100%",position:"relative",overflowX:"hidden",padding:"0px 15px",scrollbarGutter:"stable both-edges"}),an=_(R)({}),on=_("img")({width:"100%",marginTop:"20px"}),vr=_(R)({width:"100%",marginTop:"20px","& .MuiAccordion-gutters":{width:"100%"},"& .MuiAccordion-root .MuiAccordionSummary-root .Mui-expanded":{margin:"12px 0px !important"}}),mr=_(R)({width:"100%","& .MuiBox-root":{padding:"0px "}}),Sr=_(R)({width:"100%",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"}),br=_(R)({width:"100%",padding:"20px 0px",position:"relative",display:"flex",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),pr=_(R)({width:"100%",margin:"0px",position:"relative",display:"flex",flexDirection:"column",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}});_(R)({width:"40px",height:"100%",backgroundColor:"#FFAA5D",justifyContent:"center",alignItems:"center"});_(R)({width:"20px",height:"50%",position:"relative"});function pt(e){var M,I,F,b;const[i,a]=o.useState(0),{theme:s,textSize:u,referenceLanguage:d,showQuranReferences:O,displayType:C}=o.useContext(Se),{topTextColor:B,backgroundColor:H}=ye(s),w=(I=(M=e==null?void 0:e.verse)==null?void 0:M.verseReference)==null?void 0:I.ref;return C==se.VERSE_BY_VERSE?n.jsxs(dr,{children:[n.jsxs(mn,{style:{backgroundColor:H},scrollcolor:B,enableMouseEvents:!0,disabled:!O,onSwitching:G=>a(G),children:[n.jsx(Ze,{children:n.jsx(rn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,children:n.jsx(K,{fontFamily:"Inter",fontSize:u,lineHeight:u+20,fontWeight:"700",color:B,dataIndex:e.index.toString(),language:d,direction:d==Pe?"rtl":"ltr",children:(F=e.verse.verseText)==null?void 0:F[d]})})}),n.jsx(Ze,{children:w&&w.map((G,E)=>n.jsx(K,{fontFamily:"Inter",fontWeight:"700",fontSize:u,lineHeight:u+20,color:B,children:G},E))})]}),w&&w.length>0&&O&&n.jsxs(Sn,{children:[n.jsx(et,{active:i==0?"true":"false",linecolor:B}),n.jsx(et,{active:i==1?"true":"false",linecolor:B})]})]}):n.jsx(rn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,style:{backgroundColor:H},children:n.jsx(K,{fontFamily:"Inter",fontSize:u,lineHeight:u+20,fontWeight:"700",color:B,dataIndex:e.index.toString(),language:d,direction:d==Pe?"rtl":"ltr",onTouchStart:()=>e.onTouchStart&&e.onTouchStart(e.verse.verseReference.ref),onMouseDown:()=>e.onMouseDown&&e.onMouseDown(e.verse.verseReference.ref),children:(b=e.verse.verseText)==null?void 0:b[d]})})}function yr(e){var S,ae;const[i,a]=o.useState([]),[s,u]=o.useState(0),{scrollTopVerseIndex:d,setScrollTopVerseIndex:O,setHiddenTopVersePercentage:C,activeScroll:B,setActiveScroll:H}=o.useContext(tt),w=o.useRef([]);w.current=(S=e.verses)==null?void 0:S.map((L,T)=>w.current[T]??o.createRef());const{theme:M,textSize:I,showQuranReferences:F,displayType:b}=o.useContext(Se),{backgroundColor:G,topTextColor:E}=ye(M);o.useEffect(()=>{var L;if(((L=e.verses)==null?void 0:L.length)>0){const T=w.current[d-1];T!=null&&T.current&&T.current.scrollIntoView(),O(0),C(0)}},[e.verses]),o.useEffect(()=>{var L;if(b==se.SPLIT_PANEL&&d>=0&&(B==Ne||B==pe)){const T=w.current[Number(d)];(L=T==null?void 0:T.current)==null||L.scrollIntoView()}},[d,b]),o.useEffect(()=>{var L;w.current[0]&&B!=Qe&&B!=Ne&&B!=pe&&B!=je&&e.prevPage!=me.SUBBOOKEXPLORER&&((L=w.current[0].current)==null||L.scrollIntoView())},[d]);const m=L=>{if(b==se.SPLIT_PANEL){H(Qe);const T=L.currentTarget.getBoundingClientRect().top,Q=L.currentTarget.clientHeight;let g=-1,D=1/0;if(w.current.forEach((P,t)=>{if(P.current){const r=P.current.getBoundingClientRect().top,v=P.current.getBoundingClientRect().bottom,W=r-T;v>T&&r<T+Q&&Math.abs(W)<D&&(D=Math.abs(W),g=t)}}),g!==-1){O(g);const P=w.current[g];if(P.current){const t=P.current.getBoundingClientRect().top,r=P.current.clientHeight,v=Math.max(0,Math.min(100,(T-t)/r*100));C(v)}}}};return n.jsx(ur,{style:{height:e.height},children:b===se.SPLIT_PANEL?n.jsxs(hr,{children:[n.jsxs(mn,{style:{backgroundColor:G},scrollcolor:E,enableMouseEvents:!0,disabled:!F,onScrollCapture:B!=Ne?L=>m(L):()=>{},onSwitching:L=>u(L),children:[n.jsx(Ze,{children:(ae=e.verses)==null?void 0:ae.map((L,T)=>n.jsx(pt,{refer:w.current[T],verse:L,index:T,onMouseDown:a,onTouchStart:a},T))}),n.jsx(Ze,{children:i&&i.map((L,T)=>n.jsx(K,{fontFamily:"Inter",fontWeight:"700",fontSize:I-2,color:E,children:L},T))})]}),F&&n.jsxs(Sn,{style:{background:G,bottom:"5px"},children:[n.jsx(et,{active:s===0?"true":"false",linecolor:E}),n.jsx(et,{active:s===1?"true":"false",linecolor:E})]})]}):n.jsx(fr,{style:{backgroundColor:G},scrollbarcolor:E,children:e.verses.map((L,T)=>n.jsx(pt,{refer:w.current[T],verse:L,index:T},T))})})}var Ct={},_r=dn;Object.defineProperty(Ct,"__esModule",{value:!0});var yt=Ct.default=void 0,Cr=_r(hn()),Er=n;yt=Ct.default=(0,Cr.default)((0,Er.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft");var Et={},wr=dn;Object.defineProperty(Et,"__esModule",{value:!0});var bn=Et.default=void 0,Ir=wr(hn()),Tr=n;bn=Et.default=(0,Ir.default)((0,Tr.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"SettingsOutlined");const kr=_(R)({position:"fixed",zIndex:"3",bottom:"0px",width:"100%",height:"150px",overflow:"hidden"}),Rr=_(R)({position:"relative",display:"flex",justifyContent:"center","& .MuiBox-root":{alignContent:"center"}}),Ar=_("img")({width:"100%",position:"absolute",top:"20px"}),Br=_(R)({width:"100%",maxWidth:"700px",padding:"0px 20px",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:"1",paddingTop:"20px",alignContent:"center","@media (min-width: 600px)":{paddingTop:"25px"}}),Pr=_(R)({position:"relative",bottom:"-75px",height:"100px",display:"flex",alignItems:"center",justifyContent:"space-between"}),Nr=_("img")({width:"100%",position:"absolute","@media (min-width: 750px)":{top:"0px"},"@media (min-width: 1050px)":{top:"-10px"},"@media (min-width: 1450px)":{top:"-20px"}});_(R)(({readingcontrol:e})=>({height:"100px",width:"100%",maxWidth:"700px",margin:"auto",display:"flex",flexDirection:e==Tn.LEFT_HANDED?"row":"row-reverse",justifyContent:"space-between",alignItems:"center",padding:"0px 15px","@media (min-width: 1075px)":{width:"80%",margin:"auto"}}));const jr=_(R)(({isintro:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer",marginLeft:e=="true"?"10px":"0px"})),Lr=_(R)({backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 10px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2,height:"40px","& .MuiBox-root":{width:"70px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),sn=_("img")({width:"15px",marginRight:"10px"}),Or=_(R)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer"}),Mr=_(R)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px",height:"40px"}),$e=_(R)({width:"24px",height:"24px",cursor:"pointer"}),Dr=_(R)({width:"25px"}),Hr=_(R)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",minWidth:"200px",maxWidth:"350px",boxSizing:"border-box",cursor:"pointer","@media (max-width: 360px)":{width:"220px"}}),Vr=_(R)({display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",boxSizing:"border-box",borderRadius:"20px",padding:"5px",height:"40px",width:"100%","@media (max-width: 360px)":{width:"200px"}}),Fr=_(R)({minWidth:"170px",maxWidth:"320px",display:"flex",justifyContent:"space-between",alignItems:"center","@media (max-width: 360px)":{width:"150px",minWidth:"140px"}}),Wr=_(R)({display:"flex",alignItems:"center",width:"150px",marginLeft:"10px","& .MuiBox-root":{width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","@media (max-width: 360px)":{width:"90px"}},"@media (max-width: 360px)":{width:"110px"}}),Ur=_(R)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer","& :nth-of-type(2)":{marginRight:"10px"}}),qr=_(R)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 20px",width:"50px",height:"40px"}),Xr=_(R)({width:"40px",height:"40px",marginRight:"10px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"50%",cursor:"pointer","& svg":{fill:"#093C54 !important"}});_(R)({width:"90px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px","@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}});const zr=_(R)({display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"10px",marginBottom:"20px",cursor:"pointer"}),Be=_("img")({width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",zIndex:"1"});_(R)(({underlinecolor:e})=>({width:"90px",textDecoration:"underline",textDecorationColor:e,textUnderlineOffset:"3px",zIndex:"1",cursor:"pointer",marginBottom:"20px","& .MuiBox-root":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}}));const Yr=_(R)({width:"100%",height:"60px",overflow:"hidden",padding:"0 10px"}),Kr=_(On)(({barcolor:e})=>({color:e,opacity:"1",height:"5px","& .MuiSlider-thumb":{width:"13.25px",height:"14px",color:e,transition:"0.3s cubic-bezier(.47,1.64,.41,.8)","&::before":{boxShadow:"0 2px 12px 0 rgba(0,0,0,0.4)"},"&:hover, &.Mui-focusVisible":{boxShadow:"0px 0px 0px 8px rgb(0 0 0 / 16%)"},"&.Mui-active":{width:20,height:20}}})),Gr=_(R)({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-20px"});function $r(e){const{duration:i,currentTime:a,onTimeChange:s}=e,[u,d]=o.useState(a),{theme:O}=o.useContext(Se),{buttonTextColor:C}=ye(O);o.useEffect(()=>{d(a)},[a]);const B=(H,w)=>{d(w),s(w)};return n.jsxs(Yr,{children:[n.jsx(Kr,{"aria-label":"time-indicator",value:u,min:0,max:Math.floor(i),step:1,barcolor:C,onChange:B}),n.jsxs(Gr,{children:[n.jsx(K,{color:C,children:ln(u)}),n.jsx(K,{color:C,children:"-"+ln(Math.floor(i-u))})]})]})}function ln(e){const i=Math.floor(e/60),a=Math.floor(e%60);return`${i}:${a<10?`0${a}`:a}`}function Jr(e){const[i,a]=o.useState(!1),[s,u]=o.useState(0),[d,O]=o.useState(0),[C,B]=o.useState(0),H=o.useRef(new Audio),{scrollTopVerseIndex:w,setScrollTopVerseIndex:M,setActiveScroll:I}=o.useContext(tt),{autoScrollText:F,volume:b,audioLanguage:G,pageControl:E,theme:m,readingLanguage:S}=o.useContext(Se);o.useEffect(()=>{const h=H.current;e.src&&(h.src=Je+e.src);const k=()=>{O(h.duration)},j=()=>{u(Math.floor(h.currentTime))};return h.addEventListener("loadedmetadata",k),h.addEventListener("timeupdate",j),()=>{h.removeEventListener("loadedmetadata",k),h.removeEventListener("timeupdate",j)}},[e.src]),o.useEffect(()=>{var h;if(H.current.ended)D();else if(F){const k=(h=e.verses)==null?void 0:h.findIndex((j,V)=>{var oe,ie,le;const Z=(oe=j.verseAudioStart)==null?void 0:oe[G||At.TRANSLATION],he=(le=(ie=e.verses[V+1])==null?void 0:ie.verseAudioStart)==null?void 0:le[G||At.TRANSLATION];return s>=Z&&s<he});k!==-1&&(k!==C||k==0)&&(M(k),B(k),I(pe))}},[s,e.verses,G,F,i]),o.useEffect(()=>{H.current.volume=b/100},[b]);const ae=()=>{const h=H.current;I(pe),h.readyState>=2?(a(!0),h.play().catch(k=>ne.custom(j=>{var V,Z;return n.jsx(re,{text:((Z=(V=e.terms.texts.find(he=>he.variable=="Audio Play Error"))==null?void 0:V.text)==null?void 0:Z[S])||"",offset:125,visible:j.visible})}))):ne.custom(k=>{var j,V;return n.jsx(re,{text:((V=(j=e.terms.texts.find(Z=>Z.variable=="Audio Not Ready"))==null?void 0:j.text)==null?void 0:V[S])||"",offset:125,visible:k.visible})})},L=()=>{a(!1),H.current.pause(),I(je)},T=()=>{L(),e.moveToSoundSettingPage()},Q=()=>{L(),e.setAudioSeekBarStatus(!1)},g=h=>{H.current.currentTime=h,u(h)},D=()=>{u(0),a(!1),M(0),I(je)},P=()=>n.jsxs(Rr,{children:[n.jsx(Ar,{src:m==z.DEFAULT||m==z.DARK?X.bar_reading_audio_subtract:m==z.BLACK_AND_WHITE?X.bar_reading_audio_subtract_BAW:m==z.SAPPHIRE?X.bar_reading_audio_subtract_sapphire:X.bar_reading_audio_subtract_easyocean}),n.jsxs(Br,{children:[n.jsx(Be,{src:m==z.DEFAULT||m==z.DARK?X.btn_sound_setting:m==z.BLACK_AND_WHITE?X.btn_sound_setting_BAW:m==z.SAPPHIRE?X.btn_sound_setting_sapphire:X.btn_sound_setting_easyocean,onClick:T}),n.jsx($r,{duration:d,currentTime:s,onTimeChange:g}),n.jsx(Be,{src:m==z.DEFAULT||m==z.DARK?X.btn_close:m==z.BLACK_AND_WHITE?X.btn_close_BAW:m==z.SAPPHIRE?X.btn_close_sapphire:X.btn_close_easyocean,onClick:Q})]})]}),t=()=>n.jsx(Nr,{src:m==z.DEFAULT||m==z.DARK?X.bar_reading_subtract:m==z.BLACK_AND_WHITE?X.bar_reading_subtract_BAW:m==z.SAPPHIRE?X.bar_reading_subtract_sapphire:X.bar_reading_subtract_easyocean}),r=()=>!e.isIntro&&n.jsx(zr,{children:e.showAudioSeekBar?i?n.jsx(Be,{src:m==z.DEFAULT||m==z.DARK?X.btn_pause:m==z.BLACK_AND_WHITE?X.btn_pause_BAW:m==z.SAPPHIRE?X.btn_pause_sapphire:X.btn_pause_easyocean,onClick:L}):n.jsx(Be,{src:m==z.DEFAULT||m==z.DARK?X.btn_play:m==z.BLACK_AND_WHITE?X.btn_play_BAW:m==z.SAPPHIRE?X.btn_play_sapphire:X.btn_play_easyocean,onClick:ae}):n.jsx(Be,{src:m==z.DEFAULT||m==z.DARK?X.btn_sound:m==z.BLACK_AND_WHITE?X.btn_sound_BAW:m==z.SAPPHIRE?X.btn_sound_sapphire:X.btn_sound_easyocean,onClick:()=>e.setAudioSeekBarStatus(!0)})}),v=()=>e.bookTitle!="Qur'an"&&n.jsxs(jr,{isintro:e.isIntro||e.isJourneyArticle?"true":"false",children:[n.jsxs(Lr,{onClick:e.moveToIndexPage,children:[n.jsx(sn,{src:Je+e.bookImage}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.bookTitle=="Zabur"?"Psalm":e.subBookTitle})]}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Sub book"})]}),W=()=>e.bookTitle!="Qur'an"&&n.jsxs(Or,{children:[n.jsxs(Mr,{children:[n.jsx($e,{onClick:()=>e.handleNavigateBtn(E==We.LEFT_TO_RIGHT?Ue:Ee),children:n.jsx(yt,{})}),n.jsx(Dr,{onClick:e.moveToIndexPage,children:n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",textAlign:"center",children:e.isIntro?"In":e.isJourneyArticle?"Jo":e.bookTitle=="Zabur"?e.subBookNumber.toString():e.chapterNumber.toString()})}),n.jsx($e,{onClick:()=>e.handleNavigateBtn(E==We.LEFT_TO_RIGHT?Ee:Ue),children:n.jsx(jt,{})})]}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Chapter"})]}),f=()=>e.bookTitle=="Qur'an"&&n.jsxs(Hr,{children:[n.jsxs(Vr,{children:[n.jsx($e,{onClick:()=>e.handleNavigateBtn(E==We.LEFT_TO_RIGHT?Ue:Ee),children:n.jsx(yt,{})}),n.jsxs(Fr,{onClick:e.moveToIndexPage,children:[n.jsxs(Wr,{children:[n.jsx(sn,{src:Je+e.bookImage}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookTitle})]}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookNumber.toString()})]}),n.jsx($e,{onClick:()=>e.handleNavigateBtn(E==We.LEFT_TO_RIGHT?Ee:Ue),children:n.jsx(jt,{})})]}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Surah"})]}),N=()=>!e.isIntro&&n.jsxs(Ur,{children:[n.jsx(qr,{onClick:e.moveToSubBookExplorer,children:n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:(w<=0?1:w+1).toString()})}),n.jsx(K,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Aya"})]}),U=()=>n.jsx(Xr,{onClick:e.moveToSettingsPage,children:n.jsx(bn,{})}),p=()=>n.jsxs(Pr,{children:[t(),r(),v(),W(),f(),N(),U()]});return n.jsxs(kr,{children:[e.showAudioSeekBar&&P(),p()]})}function _t(e){var t,r,v,W;const[i,a]=o.useState(e.isExistingInBookmark?100:0),[s,u]=o.useState(null),[d,O]=o.useState(!1),[C,B]=o.useState(0),[H,w]=o.useState(0),{textSize:M,theme:I,readingLanguage:F}=o.useContext(Se),{mainBGColor:b}=ye(I),G=o.useRef(null),E=o.useRef(i),m=e.refer,S=o.useRef(0),ae=window.matchMedia("(orientation: portrait)").matches;o.useEffect(()=>{E.current=i},[i]),o.useEffect(()=>{if(G.current&&m.current&&("verseHeader"in e.verse&&(G.current.style.height=`${m.current.getBoundingClientRect().height-4}px`,G.current.style.bottom="2px",G.current.style.alignSelf="self-end"),m.current.offsetHeight>0&&m.current.offsetHeight<=24)){const f=G.current.children[0];f.style.width="20px",f.style.height="20px",f.children[1].style.width="10px",f.children[1].style.height="10px"}},[e.verse,e.translatePanelHeight,ae]);const L=o.useCallback(f=>{if(f>0&&f<Bt){const N=f/Bt*100,U=e.isExistingInBookmark?100-N:N;a(U),E.current=U}else if(f>0){const N=e.isExistingInBookmark?0:100;a(N),E.current=N}else{const N=e.isExistingInBookmark?100:0;a(N),E.current=N}},[e.isExistingInBookmark]),T=o.useCallback(()=>{if(m.current){const f=Math.max(0,Math.min(H,Rn));m.current.style.transform=`translateX(${f}px)`,L(f-kn)}d&&(S.current=requestAnimationFrame(T))},[d,H,L]);o.useEffect(()=>(d?S.current=requestAnimationFrame(T):cancelAnimationFrame(S.current),()=>cancelAnimationFrame(S.current)),[d,T]);const Q=f=>{var U;!e.language&&O(!0),B(f);const N=(U=m.current)==null?void 0:U.getAttribute("data-id");N&&u(N)},g=f=>{if(!d)return;const N=Math.max(0,f-C);e.isLoggedIn&&N>Pt&&w(N-Pt)},D=()=>{O(!1),m.current&&(!e.isExistingInBookmark&&E.current==100||e.isExistingInBookmark&&E.current==0?s&&e.handleBookmark(s):e.isExistingInBookmark?(a(100),E.current=100):(a(0),E.current=0),m.current.style.transition="transform 0.3s ease-out",m.current.style.transform="translateX(0)",setTimeout(()=>{m.current&&(m.current.style.transition="")},300)),w(0)};o.useEffect(()=>{const f=m.current;if(f){const N=V=>{V.preventDefault(),Q(V.clientX)},U=V=>{V.preventDefault(),g(V.clientX)},p=V=>{V.preventDefault(),D()},h=V=>{Q(V.touches[0].clientX)},k=V=>{g(V.touches[0].clientX)},j=V=>{D()};return f.addEventListener("mousedown",N),document.addEventListener("mousemove",U),document.addEventListener("mouseup",p),f.addEventListener("touchstart",h),f.addEventListener("touchmove",k),f.addEventListener("touchend",j),()=>{f.removeEventListener("mousedown",N),document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",p),f.removeEventListener("touchstart",h),f.removeEventListener("touchmove",k),f.removeEventListener("touchend",j)}}},[m,L,e.handleBookmark,C]);const P=f=>{for(var N in f)if(f[N]!==null&&f[N]!=="")return!0;return!1};return n.jsxs(Sr,{children:["verseHeader"in e.verse&&P(e.verse.verseHeader)&&n.jsx(br,{"data-id":e.verse.verseId,"data-index":e.index,style:{backgroundColor:b},children:n.jsx(K,{fontFamily:"Inter",fontWeight:"700",backgroundColor:b,fontSize:M,lineHeight:M+15,direction:e.language||F===Pe?"rtl":"ltr",children:e.verse.verseHeader[e.language||F]})}),!e.language&&n.jsx(Un,{progress:i,refer:G,backgroundColor:b}),n.jsx(pr,{"data-id":"verseId"in e.verse?e.verse.verseId:e.verse.id,"data-index":e.index,ref:e.refer,children:e.isIntro?n.jsx(K,{fontFamily:"Inter",backgroundColor:b,dataIndex:e.language?"":e.index.toString(),lineHeight:M+20,direction:F===Pe?"rtl":"ltr",fontSize:e.verse.title?M+2:M,fontWeight:e.verse.title?"bold":"500",textAlign:e.verse.title?"center":"left",children:((t=e.verse.title)==null?void 0:t[e.language||F])||((r=e.verse.text)==null?void 0:r[e.language||F])}):n.jsx(K,{fontFamily:"Inter",fontSize:M,backgroundColor:b,dataIndex:e.language?"":e.index.toString(),lineHeight:M+20,direction:F===Pe?"rtl":"ltr",children:"verseText"in e.verse?(v=e.verse.verseText)==null?void 0:v[e.language||F]:(W=e.verse.text)==null?void 0:W[e.language||F]})})]})}function cn(e){var T,Q,g,D,P,t,r,v,W,f,N,U;const[i,a]=o.useState([]),[s,u]=o.useState([]),{scrollTopVerseIndex:d,setScrollTopVerseIndex:O,setHiddenTopVersePercentage:C,activeScroll:B,setActiveScroll:H}=o.useContext(tt),w=o.useRef(null),M=o.useRef(null),I=o.useRef([]);I.current=(T=e.verses)==null?void 0:T.map((p,h)=>I.current[h]??o.createRef());const{theme:F,displayType:b}=o.useContext(Se),{mainBGColor:G,textColor:E}=ye(F),m=localStorage.getItem(An)||Bn,S=o.useCallback(()=>{var h;let p=[];return(h=I.current)==null||h.forEach(k=>{k.current&&k.current.children[0]&&p.push(k.current.children[0].offsetHeight)}),p},[I]);o.useEffect(()=>{var p;if(((p=e.verses)==null?void 0:p.length)>0){const h=I.current[d-1];h!=null&&h.current&&h.current.scrollIntoView(),O(0),C(0)}},[e.verses]),o.useEffect(()=>{const p=S();a(p);const h=p.reduce((k,j,V)=>(k[V]=(k[V-1]||0)+j,k),[]);u(h)},[e.verses,S]);const ae=o.useCallback(()=>{if(!w.current)return;const p=w.current.scrollTop;H(Ne);let h=0,k=s.length-1;for(;h<=k;){const le=Math.floor((h+k)/2);s[le]>p?k=le-1:h=le+1}const j=h-1;O(j);const V=j>0?s[j-1]:0,Z=i[j],oe=(p-V)/Z*100,ie=Math.min(Math.max(oe,0),100);C(ie)},[s,i,O]);o.useEffect(()=>{const p=w.current;if(p)return p.addEventListener("scroll",ae),p.addEventListener("scrollend",()=>H(je)),()=>{p.removeEventListener("scroll",ae)}}),o.useEffect(()=>{var p;if((b===se.SPLIT_PANEL||b===se.ONLY_TRNSLATION)&&d>=0&&(B==Qe||B==pe)){const h=I.current[Number(d)];(p=h==null?void 0:h.current)==null||p.scrollIntoView()}},[d,b]);const L=(p,h)=>{var k;return p.image?n.jsx(on,{src:p.image.url,alt:p.image.alt},h):p.isCollapse?n.jsx(vr,{children:n.jsx(Vn,{label:(k=p.title)==null?void 0:k[m],outArrow:!0,detail:n.jsx(mr,{children:p.content.map((j,V)=>!j.url&&!j.isTitle?n.jsx(K,{children:j==null?void 0:j[m]},V):!j.url&&j.isTitle?n.jsx(K,{fontWeight:"bold",isTitle:!0,children:j==null?void 0:j[m]},V):n.jsx(on,{src:j.url,alt:j.alt},V))})})},h):n.jsx(_t,{refer:I.current[h],verse:p,index:h,language:m,isExistingInBookmark:e.bookmarks.some(j=>j.id===p.id),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,isIntro:!0,handleBookmark:e.handleBookmark},h)};return o.useEffect(()=>{var p;M.current&&B!=Qe&&B!=Ne&&B!=pe&&B!=je&&e.prevPage!=me.SUBBOOKEXPLORER&&((p=M.current)==null||p.scrollIntoView())},[d]),n.jsx(gr,{style:{backgroundColor:G,color:E,height:e.height},children:n.jsxs(xr,{ref:w,children:[!e.isIntro&&!e.isSpecialBook&&n.jsxs(an,{ref:M,children:[n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(g=(Q=e.subBookInfo)==null?void 0:Q.subBookTitle)==null?void 0:g.ar}),n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(P=(D=e.subBookInfo)==null?void 0:D.subBookTitle)==null?void 0:P.origin}),n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`The ${Nt(e.chapterNumber||1)} Chapter`}),n.jsx(K,{})]}),!e.isIntro&&e.isSpecialBook&&n.jsxs(an,{ref:M,children:[n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(r=(t=e.subBookInfo)==null?void 0:t.subBookTitle)==null?void 0:r.ar}),n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(W=(v=e.subBookInfo)==null?void 0:v.subBookTitle)==null?void 0:W.transliteration}),n.jsx(K,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`The ${Nt(((f=e.subBookInfo)==null?void 0:f.subBookNumber)||1)} Surah`}),n.jsx(K,{})]}),!e.isIntro&&((N=e.verses)==null?void 0:N.map((p,h)=>n.jsx(_t,{refer:I.current[h],verse:p,index:h,isExistingInBookmark:e.bookmarks.some(k=>k.verseId===p.verseId),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,handleBookmark:e.handleBookmark},h))),e.isIntro&&((U=e.verses)==null?void 0:U.map((p,h)=>L(p,h)))]})})}const Qr=_(R)({margin:"0px",height:"100dvh"}),un=_(R)(({showaudioseekbar:e})=>({width:"100%",padding:"20px",height:e=="true"?"calc(100dvh - 150px)":"calc(100dvh - 100px)"})),Zr=_(R)({width:"45px",height:"8px",margin:"auto",marginTop:"-4px",position:"relative",zIndex:"2",cursor:"grab","&:active":{cursor:"grabbing"}}),ei=_(R)({width:"100%",height:"100%",overflowX:"hidden",overflowY:"auto",margin:"0px",paddingBottom:"0px"}),ti=_(R)({width:"100%",padding:"15px"});class ni{constructor(){Rt(this,"fetchArticle",i=>new Promise((a,s)=>{const u=Je+`/article/${i}/article`;Wn.get(u).then(d=>{d.data?a(d.data):s(d.data.error)}).catch(d=>{s(this.getErrorMessage(d))})}))}getErrorMessage(i){let a=i.message;return i.response&&i.response.data&&i.response.data.message&&(a=i.response.data.message),a}}const ri=new ni;function ii(e){const i=window.matchMedia("(orientation: portrait)").matches,[a,s]=o.useState([]),[u,d]=o.useState(null),[O,C]=o.useState(!1),[B,H]=o.useState(i?200:120),[w,M]=o.useState(!1),[I,F]=o.useState(!1),[b,G]=o.useState(),[E,m]=o.useState(),[S,ae]=o.useState(),[L,T]=o.useState(0),[Q,g]=o.useState(0),[D,P]=o.useState(!0),{theme:t,displayType:r,readingLanguage:v}=o.useContext(Se),{mainBGColor:W,topTextColor:f}=ye(t),{scrollTopVerseIndex:N,setScrollTopVerseIndex:U,setActiveScroll:p}=o.useContext(tt),h=o.useRef([]),k=o.useRef([]);h.current=a==null?void 0:a.map((l,c)=>(h==null?void 0:h.current[c])??o.createRef()),k.current=a==null?void 0:a.map((l,c)=>(k==null?void 0:k.current[c])??o.createRef());const j=100,V=100;window.matchMedia("(orientation: portrait)").addEventListener("change",l=>{const c=l.matches;H(c?200:120)});const[Z,he]=o.useState(typeof window<"u"?window.innerHeight:1e3),oe=e.showAudioSeekBar?Z-150-B:Z-100-B,ie=Dn(),le=o.useCallback(l=>{Xe.fetchVerses(l).then(c=>{var y;if(s(c.verses),c&&c.length>0){const A=(y=c.chapteraudio)==null?void 0:y.find(x=>x.language==v);d(A)}e.dispatch({type:J.ADD_CHAPTERINFO,payload:{chapterInfo:c}}),C(!1)}).catch(c=>{C(!1),ne.custom(y=>n.jsx(re,{text:c,offset:70,visible:y.visible}))})},[e.currentChapter]),fe=o.useCallback((l,c)=>{var y,A;if(M(c),(y=e.chapterInfos)!=null&&y.length){const x=e.chapterInfos.find(q=>q.chapterId===l);if(x){M(x.chapterNumber==0),s(x.verses);const q=(A=x.chapterAudio)==null?void 0:A.find(te=>te.language==v);d(q==null?void 0:q.audio)}else c?we(l):le(l);C(!1)}else c?we(l):le(l)},[e.currentChapter]),we=o.useCallback(l=>{Xe.fetchIntroVerses(l).then(c=>{s(c.verses),e.dispatch({type:J.ADD_CHAPTERINFO,payload:{chapterInfo:c}})}).catch(c=>{ne.custom(y=>n.jsx(re,{text:c,offset:70,visible:y.visible}))}).finally(()=>{C(!1)})},[]),Le=o.useCallback(()=>{ri.fetchArticle(e.currentArticle).then(l=>{s(l),F(!0)}).catch(l=>{ne.custom(c=>n.jsx(re,{text:l,offset:70,visible:c.visible}))}).finally(()=>{C(!1)})},[]);o.useEffect(()=>{e.prevPage===me.JOURNEYS&&e.currentArticle&&Le()},[e.prevPage,e.currentArticle]);const rt=o.useCallback(async l=>{try{const c=await Xe.fetchSubBookInfo(l);e.dispatch({type:J.ADD_SUBBOOK,payload:{subBook:c}}),ae(c)}catch(c){ne.custom(y=>n.jsx(re,{text:c,visible:y.visible}))}finally{C(!1)}},[e.subBooks,e.currentSubBook]),it=o.useCallback(l=>{for(const c of e.bookInfos)for(const y of c.subBooks){const A=y.chapterInfos.find(x=>x.chapterId==l);if(A)return A}},[]),Oe=o.useCallback(l=>{for(const c of e.subBooks){const y=c.chapterInfos.find(A=>A.chapterId==l);if(y)return y}},[]);o.useEffect(()=>{const l=e.bookInfos.find(c=>c.bookId==e.currentBook);m(l)},[]),o.useEffect(()=>{var y;const l=(y=e.chapterInfos)==null?void 0:y.find(A=>A.chapterId==e.currentChapter),c=(l==null?void 0:l.chapterNumber)||0;g(c)},[e.chapterInfos]),o.useEffect(()=>{var c;const l=e.terms.find(y=>y.pageTitle=="Reading Page");(c=l==null?void 0:l.isPublished)!=null&&c[v]?G(l):ne.custom(y=>n.jsx(re,{text:"The terminologies for this page are not published.",visible:y.visible}))},[e.terms]),o.useEffect(()=>{const l=e.subBooks.find(c=>c.subBookId==e.currentSubBook);!l&&e.currentSubBook?rt(e.currentSubBook):l&&e.currentSubBook&&ae(l)},[e.subBooks,e.currentSubBook]),o.useEffect(()=>{var l,c,y,A;if(C(!0),e.currentVerse){const x=a.find(q=>q.verseId==e.currentVerse);x&&(U(((l=x[0])==null?void 0:l.verseNumber)-1),r==se.VERSE_BY_VERSE&&((c=k.current[x[0].verseNumber-1].current)==null||c.scrollIntoView()))}if(e.currentChapter){const x=it(e.currentChapter);if(((y=e.subBookInfos)==null?void 0:y.length)>=0){const q=e.subBookInfos.find(te=>te.subBookId===e.currentSubBook);if(q){const te=q.chapterInfos.find(ce=>ce.chapterId===e.currentChapter);if(te){M(te.chapterNumber==0),s(te.verses);const ce=(A=te.chapterAudio)==null?void 0:A.find(ve=>ve.language==v);d(ce)}else M(!!x),fe(e.currentChapter,(x==null?void 0:x.chapterNumber)==0)}else M(!!x),fe(e.currentChapter,(x==null?void 0:x.chapterNumber)==0)}else M(!!x),fe(e.currentChapter,(x==null?void 0:x.chapterNumber)==0)}C(!1)},[w,I,e.currentVerse,e.currentChapter,r]),o.useEffect(()=>{const l=()=>he(window.innerHeight);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),o.useEffect(()=>{C(!0);let l=!1;if(e.userHistory&&e.userHistory.length>0&&e.userHistory.forEach(c=>{if(c.readChapterIds.includes(e.currentChapter)){l=!0,C(!1);return}}),!l){const c={chapterId:e.currentChapter};Xe.saveHistory(c).then(y=>{e.dispatch({type:J.SET_USER_HISTORY,payload:{userHistories:y}}),C(!1)}).catch(y=>{y.status==401&&y.response.data.message==st&&(ne.custom(A=>n.jsx(re,{text:y.response.data.message,visible:A.visible})),lt.logout(),ie("/login")),C(!1)})}},[]),o.useEffect(()=>{var y,A;const l=(y=S==null?void 0:S.chapterInfos)==null?void 0:y.find(x=>x.chapterId==e.currentChapter),c=(A=l==null?void 0:l.verses)==null?void 0:A.find(x=>x.verseId==e.currentVerse);c!=null&&c.verseNumber?T((c==null?void 0:c.verseNumber)-1):T(1)},[e.currentVerse,S]),o.useEffect(()=>{p(pe),U(L)},[L]),o.useEffect(()=>{L<=1&&P(!0)},[L]),o.useEffect(()=>{(r==se.ONLY_TRNSLATION||w||I)&&H(0),r!=se.ONLY_TRNSLATION&&!w&&!I&&H(i?200:120)},[r,w,I]),o.useEffect(()=>{var l,c;r==se.VERSE_BY_VERSE&&N>=0&&((c=(l=k.current[N])==null?void 0:l.current)==null||c.scrollIntoView())},[N,r,k,a]),o.useEffect(()=>{var l,c;r==se.VERSE_BY_VERSE&&N>=0&&((c=(l=k.current[0])==null?void 0:l.current)==null||c.scrollIntoView(),U(0))},[r,a,k]);const xe=o.useCallback(l=>{var A;C(!0);const c=(A=e.bookmark)==null?void 0:A.find(x=>x.verseId===l),y={verseId:l};try{if(!c)Lt.saveBookmark(y).then(x=>{e.dispatch({type:J.ADD_BOOKMARK,payload:{bookmark:x.bookmark}}),C(!1),ne.custom(q=>{var te,ce;return n.jsx(re,{text:((ce=(te=b==null?void 0:b.texts.find(ve=>ve.variable=="Bookmark Saved"))==null?void 0:te.text)==null?void 0:ce[v])||"",type:qe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:q.visible})})}).catch(x=>{C(!1),x.status==401&&x.response.data.message==st&&(ne.custom(q=>n.jsx(re,{text:x.response.data.message,offset:e.showAudioSeekBar?125:70,visible:q.visible})),lt.logout(),ie("/login"))});else{const x=e.bookmark.filter(q=>q.verseId==l);x&&x.length>0&&Lt.deleteBookmark(x[0]._id).then(()=>{e.dispatch({type:J.REMOVE_BOOKMARK,payload:{bookmarkId:c._id}}),C(!1),ne.custom(q=>{var te,ce;return n.jsx(re,{text:((ce=(te=b==null?void 0:b.texts.find(ve=>ve.variable=="Bookmark Deleted"))==null?void 0:te.text)==null?void 0:ce[v])||"",type:qe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:q.visible})})}).catch(q=>{C(!1),q.status==401&&q.response.data.message==st&&(ne.custom(te=>n.jsx(re,{text:q.response.data.message,type:qe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:te.visible})),lt.logout(),ie("/login"))})}}catch(x){C(!1),ne.custom(q=>n.jsx(re,{text:x,type:qe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:q.visible}))}},[e]),be=o.useCallback((l,c,y)=>{let A=c+(y-l),x=Z-150-A;A<j?(A=j,x=Z-150-j):x<V&&(A=Z-150-V),H(A)},[Z]),Me=l=>{const c=l.clientY,y=B,A=q=>be(c,y,q.clientY),x=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",x)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",x)},_e=l=>{const c=l.touches[0].clientY,y=B,A=q=>be(c,y,q.touches[0].clientY),x=()=>{document.removeEventListener("touchmove",A),document.removeEventListener("touchend",x)};document.addEventListener("touchmove",A),document.addEventListener("touchend",x)},De=l=>{e.dispatch({type:J.SET_AUDIO_SEEK_BAR_STATUS,payload:{showAudioSeekBar:l}})},at=()=>{ie("/settings")},He=()=>{ie("/sound-settings")},Ve=()=>{e.dispatch({type:J.SET_CURRENT_CHAPTER,payload:{currentChapter:""}}),e.dispatch({type:J.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:J.SET_PREVIOUS_PAGE,payload:{prevPage:me.READING}}),e.prevPage===me.BOOKS?ie("/book"):e.prevPage===me.JOURNEYS&&ie("/journey")},Fe=()=>{var y,A;const l=(y=S==null?void 0:S.chapterInfos)==null?void 0:y.find(x=>x.chapterNumber==Q),c=(A=l==null?void 0:l.verses)==null?void 0:A.find(x=>x.verseNumber==N+1);e.dispatch({type:J.SET_CURRENT_SUBBOOK,payload:{currentSubBook:S==null?void 0:S.subBookId}}),e.dispatch({type:J.SET_CURRENT_CHAPTER,payload:{currentChapter:l==null?void 0:l.chapterId}}),e.dispatch({type:J.SET_CURRENT_VERSE,payload:{currentVerse:c==null?void 0:c.verseId}}),ie("/subbookexplorer")},pn=o.useCallback(l=>{var x,q,te,ce,ve,wt,It,Tt;const c=ue=>{var Y;const ee=(Y=S==null?void 0:S.chapterInfos)==null?void 0:Y.find($=>$.chapterNumber==ue);ee&&(e.dispatch({type:J.SET_CURRENT_CHAPTER,payload:{currentChapter:ee.chapterId}}),e.dispatch({type:J.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:J.SET_PREVIOUS_PAGE,payload:{prevPage:me.READING}}),T(0),U(0),ee.chapterNumber==0?M(!0):M(!1),g(ee.chapterNumber),s(ee.verses),C(!1))},y=(ue,ee)=>{if(ue&&ue.chapterInfos&&ue.chapterInfos.length>0){const Y=ue.chapterInfos[0].chapterId;e.dispatch({type:J.SET_CURRENT_CHAPTER,payload:{currentChapter:Y}}),e.dispatch({type:J.SET_CURRENT_SUBBOOK,payload:{currentSubBook:ue.subBookId}}),e.dispatch({type:J.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:J.SET_PREVIOUS_PAGE,payload:{prevPage:me.READING}}),T(1),U(1);const $=Oe(Y);ae(ue),fe(Y,($==null?void 0:$.chapterNumber)==0)}else ne.custom(Y=>{var $,de,Ce,kt;return n.jsx(re,{text:ee?((de=($=b==null?void 0:b.texts.find(ot=>ot.variable=="Last Chapter"))==null?void 0:$.text)==null?void 0:de[v])||"":((kt=(Ce=b==null?void 0:b.texts.find(ot=>ot.variable=="First Chapter"))==null?void 0:Ce.text)==null?void 0:kt[v])||"",offset:e.showAudioSeekBar?125:70,visible:Y.visible})}),C(!1)};if(((x=E==null?void 0:E.bookTitle)==null?void 0:x.en)=="Qur'an"||((q=E==null?void 0:E.bookTitle)==null?void 0:q.en)=="Zabur"){const ue=((te=E==null?void 0:E.subBooks)==null?void 0:te.length)||1,ee=(S==null?void 0:S.subBookNumber)||1;if(l==Ee)if(ee+1<ue){const Y=E.subBooks.find($=>$.subBookNumber==ee+1);e.dispatch({type:J.SET_CURRENT_VERSE,payload:{currentVerse:""}}),T(0),U(0),Y&&y(Y,!0)}else ne.custom(Y=>{var $,de;return n.jsx(re,{text:((de=($=b==null?void 0:b.texts.find(Ce=>Ce.variable=="Last Chapter"))==null?void 0:$.text)==null?void 0:de[v])||"",offset:70,visible:Y.visible})});else if(ee-1>0){const Y=E.subBooks.find($=>$.subBookNumber==ee-1);e.dispatch({type:J.SET_CURRENT_VERSE,payload:{currentVerse:""}}),T(0),U(0),Y&&y(Y,!1)}else ne.custom(Y=>{var $,de;return n.jsx(re,{text:((de=($=b==null?void 0:b.texts.find(Ce=>Ce.variable=="First Chapter"))==null?void 0:$.text)==null?void 0:de[v])||"",offset:70,visible:Y.visible})})}else{const ue=((ce=S==null?void 0:S.chapterInfos)==null?void 0:ce.length)||1;if(l==Ee)if(Q+1<=ue){const ee=((wt=(ve=S==null?void 0:S.chapterInfos)==null?void 0:ve.find(Y=>Y.chapterNumber==Q+1))==null?void 0:wt.chapterNumber)||2;e.dispatch({type:J.SET_CURRENT_VERSE,payload:{currentVerse:""}}),T(0),U(0),c(ee)}else ne.custom(ee=>{var Y,$;return n.jsx(re,{text:(($=(Y=b==null?void 0:b.texts.find(de=>de.variable=="Last Chapter"))==null?void 0:Y.text)==null?void 0:$[v])||"",offset:70,visible:ee.visible})});else if(Q-1>0){const ee=((Tt=(It=S==null?void 0:S.chapterInfos)==null?void 0:It.find(Y=>Y.chapterNumber==Q-1))==null?void 0:Tt.chapterNumber)||1;e.dispatch({type:J.SET_CURRENT_VERSE,payload:{currentVerse:""}}),T(0),U(0),c(ee)}else ne.custom(ee=>{var Y,$;return n.jsx(re,{text:(($=(Y=b==null?void 0:b.texts.find(de=>de.variable=="First Chapter"))==null?void 0:Y.text)==null?void 0:$[v])||"",offset:70,visible:ee.visible})})}},[e.subBooks,S,Q]),yn=()=>(w||I)&&n.jsx(un,{showaudioseekbar:"false",children:n.jsx(cn,{verses:a,topVerseNumber:L,showTitle:D,prevPage:e.prevPage,height:oe,originPanelHeight:B,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:w||I,handleBookmark:xe})}),_n=()=>{var l,c;return!w&&!I&&n.jsxs(un,{showaudioseekbar:e.showAudioSeekBar?"true":"false",children:[r==se.SPLIT_PANEL&&n.jsxs(n.Fragment,{children:[n.jsx(yr,{verses:a,topVerseNumber:L,prevPage:e.prevPage,height:B}),n.jsx(Zr,{style:{backgroundColor:f},onMouseDown:Me,onTouchStart:_e})]}),(r==se.ONLY_TRNSLATION||r==se.SPLIT_PANEL)&&n.jsx(cn,{subBookInfo:S,chapterNumber:Q,verses:a,topVerseNumber:L,showTitle:D,prevPage:e.prevPage,height:oe,originPanelHeight:B,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:w||I,isSpecialBook:((l=E==null?void 0:E.bookTitle)==null?void 0:l.en)=="Qur'an"||((c=E==null?void 0:E.bookTitle)==null?void 0:c.en)=="Zabur",handleBookmark:xe}),r==se.VERSE_BY_VERSE&&n.jsx(ei,{children:a.map((y,A)=>{var x;return n.jsxs(ti,{ref:k.current[A],children:[n.jsx(pt,{verse:y,refer:h.current[A],index:A}),n.jsx(_t,{refer:h.current[A],verse:y,index:A,isLoggedIn:!!e.currentUser,handleBookmark:xe,isExistingInBookmark:((x=e.bookmark.filter(q=>q.verseId==y.verseId))==null?void 0:x.length)>0})]},A)})})]})},Cn=()=>n.jsx(Jr,{src:u,bookTitle:(E==null?void 0:E.bookTitle.en)||"",bookImage:(E==null?void 0:E.bookImage)||"",subBookTitle:(S==null?void 0:S.subBookTitle.en)||"",subBookNumber:(S==null?void 0:S.subBookNumber)||0,chapterNumber:Q,showAudioSeekBar:e.showAudioSeekBar,verses:a,isIntro:w,isJourneyArticle:I,terms:b||{pageId:"",pageNumber:0,pageTitle:"",isCompleted:{},isPublished:{},texts:[]},setAudioSeekBarStatus:De,moveToSettingsPage:at,moveToSoundSettingPage:He,moveToIndexPage:Ve,moveToSubBookExplorer:Fe,handleNavigateBtn:pn});return n.jsxs(Qr,{style:{backgroundColor:W},children:[yn(),_n(),Cn(),O&&n.jsx(Fn,{})]})}const ai=e=>({bookmark:e.books.bookmark,bookInfos:e.books.bookInfos,currentBook:e.pageStatus.currentBook,prevPage:e.pageStatus.prevPage,subBooks:e.books.subBooks,subBookInfos:e.books.subBookInfos,chapterInfos:e.books.chapterInfos,currentSubBook:e.pageStatus.currentSubBook,currentChapter:e.pageStatus.currentChapter,currentVerse:e.pageStatus.currentVerse,userHistory:e.books.userHistory,currentUser:e.user.currentUser,showAudioSeekBar:e.pageStatus.showAudioSeekBar,terms:e.terms.terms,currentArticle:e.journeys.currentArticle}),Si=Mn(ai)(ii);export{Si as default};
