import{b as o,j as n,a3 as U,aw as bn,a5 as ae,ay as Ae,aK as Be,aL as ve,aM as Ze,as as Ne,aC as Pe,X as cn,a8 as pn,au as ot,ab as Rt,a9 as Ue,aN as qe,aO as Ee,aP as Lt,aQ as yn,aR as Cn,aS as At,at as _n,aT as En,aB as st,aA as Xe}from"./index-DC16-UlT.js";import{S as xe,g as Se,aG as wn,aH as In,aI as Tn,aJ as kn,s as y,B as R,aK as tt,J as dn,aL as Rn,k as re,c as Ln,u as An,d as Q}from"./App-B6IVJFDP.js";import{I as W,T as Y,c as Bt}from"./index-q08Ug-Dw.js";import{p as Bn}from"./index-DdzKjFAg.js";import{d as Pt,A as Pn}from"./index-DIOP2OWX.js";import{C as ie}from"./index-D0ZiCPAQ.js";import{L as Nn}from"./index-ChAK6QqK.js";import{a as lt}from"./auth.service-BJ40tbp-.js";import{b as ze}from"./book.service-CA6l12H4.js";import{b as Nt}from"./bookmark.service-DF90dwJ-.js";import"./index-FgFbVugl.js";import"./axios-upsvKRUO.js";function jn(e){const{theme:i}=o.useContext(xe),{buttonColor:a,buttonTextColor:l}=Se(i);return n.jsx(wn,{ref:e.refer,"data-id":e.dataId,backgroundColor:a,children:n.jsxs(In,{progresscolor:l,children:[n.jsx(Tn,{variant:"determinate",value:e.progress,thickness:2}),n.jsx(kn,{src:i==U.EASY_OCEAN?W.bookmark2_white:W.bookmark2_default})]})})}var hn={};function On(e){if(e&&e.__esModule)return e;var i={};if(e!=null){for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};l.get||l.set?Object.defineProperty(i,a,l):i[a]=e[a]}}return i.default=e,i}var fn=On,fe={},ut,jt;function Mn(){if(jt)return ut;jt=1;function e(i){return i&&i.__esModule?i:{default:i}}return ut=e,ut}var Ye,Ot;function Dn(){if(Ot)return Ye;Ot=1;function e(){return Ye=e=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e.apply(this,arguments)}return Ye=e,Ye}var ct,Mt;function Hn(){if(Mt)return ct;Mt=1;function e(i,a){if(i==null)return{};var l={},c=Object.keys(i),g,N;for(N=0;N<c.length;N++)g=c[N],!(a.indexOf(g)>=0)&&(l[g]=i[g]);return l}return ct=e,ct}var dt,Dt;function Fn(){if(Dt)return dt;Dt=1;var e=Hn();function i(a,l){if(a==null)return{};var c=e(a,l),g,N;if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(a);for(N=0;N<E.length;N++)g=E[N],!(l.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(a,g)&&(c[g]=a[g])}return c}return dt=i,dt}var ht,Ht;function Vn(){if(Ht)return ht;Ht=1;function e(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}return ht=e,ht}var ft,Ft;function Wn(){if(Ft)return ft;Ft=1;function e(a,l){for(var c=0;c<l.length;c++){var g=l[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(a,g.key,g)}}function i(a,l,c){return l&&e(a.prototype,l),c&&e(a,c),a}return ft=i,ft}var we,Vt;function Un(){if(Vt)return we;Vt=1;function e(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(c){return typeof c}:e=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(a)}function i(a){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?we=i=function(c){return e(c)}:we=i=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":e(c)},i(a)}return we=i,we}var gt,Wt;function qn(){if(Wt)return gt;Wt=1;function e(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}return gt=e,gt}var xt,Ut;function Xn(){if(Ut)return xt;Ut=1;var e=Un(),i=qn();function a(l,c){return c&&(e(c)==="object"||typeof c=="function")?c:i(l)}return xt=a,xt}var Ke,qt;function zn(){if(qt)return Ke;qt=1;function e(i){return Ke=e=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},e(i)}return Ke=e,Ke}var Ge,Xt;function Yn(){if(Xt)return Ge;Xt=1;function e(i,a){return Ge=e=Object.setPrototypeOf||function(c,g){return c.__proto__=g,c},e(i,a)}return Ge=e,Ge}var mt,zt;function Kn(){if(zt)return mt;zt=1;var e=Yn();function i(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),l&&e(a,l)}return mt=i,mt}var vt,Yt;function gn(){if(Yt)return vt;Yt=1;var e=function(){};return vt=e,vt}var St={},bt,Kt;function nt(){if(Kt)return bt;Kt=1;function e(i){return i&&i.__esModule?i:{default:i}}return bt=e,bt}var Ie={},Gt;function Gn(){if(Gt)return Ie;Gt=1;var e=nt();Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.default=void 0;var i=e(o);e(gn());var a=function(g){g.index;var N=g.children;i.default.Children.count(N)},l=a;return Ie.default=l,Ie}var $e={},Te={},$t;function xn(){if($t)return Te;$t=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0;var e={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3};return Te.default=e,Te}var Qt;function $n(){if(Qt)return $e;Qt=1;var e=nt();Object.defineProperty($e,"__esModule",{value:!0}),$e.default=l;var i=e(o),a=e(xn());function l(c){var g=c.children,N=c.startIndex,E=c.startX,A=c.pageX,M=c.viewLength,I=c.resistance,O=i.default.Children.count(g)-1,x=N+(E-A)/M,H;return I?x<0?x=Math.exp(x*a.default.RESISTANCE_COEF)-1:x>O&&(x=O+1-Math.exp((O-x)*a.default.RESISTANCE_COEF)):x<0?(x=0,H=(x-N)*M+A):x>O&&(x=O,H=(x-N)*M+A),{index:x,startX:H}}return $e}var ke={},Zt;function Qn(){if(Zt)return ke;Zt=1;var e=nt();Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0;var i=e(o),a=function(g,N){var E=!1,A=function(C){return C?C.key:"empty"};if(g.children.length&&N.children.length){var M=i.default.Children.map(g.children,A),I=M[g.index];if(I!=null){var O=i.default.Children.map(N.children,A),x=O[N.index];I===x&&(E=!0)}}return E},l=a;return ke.default=l,ke}var Re={},Jt;function Zn(){if(Jt)return Re;Jt=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=void 0;function e(a,l){var c=a%l;return c<0?c+l:c}var i=e;return Re.default=i,Re}var en;function Jn(){return en||(en=1,function(e){var i=nt();Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"checkIndexBounds",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"computeIndex",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"constant",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"getDisplaySameSlide",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return N.default}});var a=i(Gn()),l=i($n()),c=i(xn()),g=i(Qn()),N=i(Zn())}(St)),St}var tn;function er(){if(tn)return fe;tn=1;var e=fn,i=Mn();Object.defineProperty(fe,"__esModule",{value:!0}),fe.getDomTreeShapes=k,fe.findNativeHandler=Z,fe.default=fe.SwipeableViewsContext=void 0;var a=i(Dn()),l=i(Fn()),c=i(Vn()),g=i(Wn()),N=i(Xn()),E=i(zn()),A=i(Kn()),M=e(o);i(Bn),i(gn());var I=Jn();function O(v,D,S,t){return v.addEventListener(D,S,t),{remove:function(){v.removeEventListener(D,S,t)}}}var x={container:{direction:"ltr",display:"flex",willChange:"transform"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},H={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(D){return"translate(".concat(-D,"%, 0)")},"x-reverse":function(D){return"translate(".concat(D,"%, 0)")},y:function(D){return"translate(0, ".concat(-D,"%)")},"y-reverse":function(D){return"translate(0, ".concat(D,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function C(v,D){var S=D.duration,t=D.easeFunction,r=D.delay;return"".concat(v," ").concat(S," ").concat(t," ").concat(r)}function q(v,D){var S=H.rotationMatrix[D];return{pageX:S.x[0]*v.pageX+S.x[1]*v.pageY,pageY:S.y[0]*v.pageX+S.y[1]*v.pageY}}function f(v){return v.touches=[{pageX:v.pageX,pageY:v.pageY}],v}function k(v,D){for(var S=[];v&&v!==D&&v!==document.body&&!v.hasAttribute("data-swipeable");){var t=window.getComputedStyle(v);t.getPropertyValue("position")==="absolute"||t.getPropertyValue("overflow-x")==="hidden"?S=[]:(v.clientWidth>0&&v.scrollWidth>v.clientWidth||v.clientHeight>0&&v.scrollHeight>v.clientHeight)&&S.push({element:v,scrollWidth:v.scrollWidth,scrollHeight:v.scrollHeight,clientWidth:v.clientWidth,clientHeight:v.clientHeight,scrollLeft:v.scrollLeft,scrollTop:v.scrollTop}),v=v.parentNode}return S}var K=null;function Z(v){var D=v.domTreeShapes,S=v.pageX,t=v.startX,r=v.axis;return D.some(function(T){var d=S>=t;(r==="x"||r==="y")&&(d=!d);var p=Math.round(T[H.scrollPosition[r]]),F=p>0,X=p+T[H.clientLength[r]]<T[H.scrollLength[r]];return d&&X||!d&&F?(K=T.element,!0):!1})}var B=M.createContext();fe.SwipeableViewsContext=B;var j=function(v){(0,A.default)(D,v);function D(S){var t;return(0,c.default)(this,D),t=(0,N.default)(this,(0,E.default)(D).call(this,S)),t.rootNode=null,t.containerNode=null,t.ignoreNextScrollEvents=!1,t.viewLength=0,t.startX=0,t.lastX=0,t.vx=0,t.startY=0,t.isSwiping=void 0,t.started=!1,t.startIndex=0,t.transitionListener=null,t.touchMoveListener=null,t.activeSlide=null,t.indexCurrent=null,t.firstRenderTimeout=null,t.setRootNode=function(r){t.rootNode=r},t.setContainerNode=function(r){t.containerNode=r},t.setActiveSlide=function(r){t.activeSlide=r,t.updateHeight()},t.handleSwipeStart=function(r){var T=t.props.axis,d=q(r.touches[0],T);t.viewLength=t.rootNode.getBoundingClientRect()[H.length[T]],t.startX=d.pageX,t.lastX=d.pageX,t.vx=0,t.startY=d.pageY,t.isSwiping=void 0,t.started=!0;var p=window.getComputedStyle(t.containerNode),F=p.getPropertyValue("-webkit-transform")||p.getPropertyValue("transform");if(F&&F!=="none"){var X=F.split("(")[1].split(")")[0].split(","),b=window.getComputedStyle(t.rootNode),h=q({pageX:parseInt(X[4],10),pageY:parseInt(X[5],10)},T);t.startIndex=-h.pageX/(t.viewLength-parseInt(b.paddingLeft,10)-parseInt(b.paddingRight,10))||0}},t.handleSwipeMove=function(r){if(!t.started){t.handleTouchStart(r);return}if(!(K!==null&&K!==t.rootNode)){var T=t.props,d=T.axis,p=T.children,F=T.ignoreNativeScroll,X=T.onSwitching,b=T.resistance,h=q(r.touches[0],d);if(t.isSwiping===void 0){var P=Math.abs(h.pageX-t.startX),_=Math.abs(h.pageY-t.startY),G=P>_&&P>I.constant.UNCERTAINTY_THRESHOLD;if(!b&&(d==="y"||d==="y-reverse")&&(t.indexCurrent===0&&t.startX<h.pageX||t.indexCurrent===M.Children.count(t.props.children)-1&&t.startX>h.pageX)){t.isSwiping=!1;return}if(P>_&&r.preventDefault(),G===!0||_>I.constant.UNCERTAINTY_THRESHOLD){t.isSwiping=G,t.startX=h.pageX;return}}if(t.isSwiping===!0){r.preventDefault(),t.vx=t.vx*.5+(h.pageX-t.lastX)*.5,t.lastX=h.pageX;var J=(0,I.computeIndex)({children:p,resistance:b,pageX:h.pageX,startIndex:t.startIndex,startX:t.startX,viewLength:t.viewLength}),le=J.index,ne=J.startX;if(K===null&&!F){var he=k(r.target,t.rootNode),se=Z({domTreeShapes:he,startX:t.startX,pageX:h.pageX,axis:d});if(se)return}ne?t.startX=ne:K===null&&(K=t.rootNode),t.setIndexCurrent(le);var me=function(){X&&X(le,"move")};(t.state.displaySameSlide||!t.state.isDragging)&&t.setState({displaySameSlide:!1,isDragging:!0},me),me()}}},t.handleSwipeEnd=function(){if(K=null,!!t.started&&(t.started=!1,t.isSwiping===!0)){var r=t.state.indexLatest,T=t.indexCurrent,d=r-T,p;Math.abs(t.vx)>t.props.threshold?t.vx>0?p=Math.floor(T):p=Math.ceil(T):Math.abs(d)>t.props.hysteresis?p=d>0?Math.floor(T):Math.ceil(T):p=r;var F=M.Children.count(t.props.children)-1;p<0?p=0:p>F&&(p=F),t.setIndexCurrent(p),t.setState({indexLatest:p,isDragging:!1},function(){t.props.onSwitching&&t.props.onSwitching(p,"end"),t.props.onChangeIndex&&p!==r&&t.props.onChangeIndex(p,r,{reason:"swipe"}),T===r&&t.handleTransitionEnd()})}},t.handleTouchStart=function(r){t.props.onTouchStart&&t.props.onTouchStart(r),t.handleSwipeStart(r)},t.handleTouchEnd=function(r){t.props.onTouchEnd&&t.props.onTouchEnd(r),t.handleSwipeEnd(r)},t.handleMouseDown=function(r){t.props.onMouseDown&&t.props.onMouseDown(r),r.persist(),t.handleSwipeStart(f(r))},t.handleMouseUp=function(r){t.props.onMouseUp&&t.props.onMouseUp(r),t.handleSwipeEnd(f(r))},t.handleMouseLeave=function(r){t.props.onMouseLeave&&t.props.onMouseLeave(r),t.started&&t.handleSwipeEnd(f(r))},t.handleMouseMove=function(r){t.props.onMouseMove&&t.props.onMouseMove(r),t.started&&t.handleSwipeMove(f(r))},t.handleScroll=function(r){if(t.props.onScroll&&t.props.onScroll(r),r.target===t.rootNode){if(t.ignoreNextScrollEvents){t.ignoreNextScrollEvents=!1;return}var T=t.state.indexLatest,d=Math.ceil(r.target.scrollLeft/r.target.clientWidth)+T;t.ignoreNextScrollEvents=!0,r.target.scrollLeft=0,t.props.onChangeIndex&&d!==T&&t.props.onChangeIndex(d,T,{reason:"focus"})}},t.updateHeight=function(){if(t.activeSlide!==null){var r=t.activeSlide.children[0];r!==void 0&&r.offsetHeight!==void 0&&t.state.heightLatest!==r.offsetHeight&&t.setState({heightLatest:r.offsetHeight})}},t.state={indexLatest:S.index,isDragging:!1,renderOnlyActive:!S.disableLazyLoading,heightLatest:0,displaySameSlide:!0},t.setIndexCurrent(S.index),t}return(0,g.default)(D,[{key:"componentDidMount",value:function(){var t=this;this.transitionListener=O(this.containerNode,"transitionend",function(r){r.target===t.containerNode&&t.handleTransitionEnd()}),this.touchMoveListener=O(this.rootNode,"touchmove",function(r){t.props.disabled||t.handleSwipeMove(r)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){t.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var r=t.index;typeof r=="number"&&r!==this.props.index&&(this.setIndexCurrent(r),this.setState({displaySameSlide:(0,I.getDisplaySameSlide)(this.props,t),indexLatest:r}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var t=this;return{slideUpdateHeight:function(){t.updateHeight()}}}},{key:"setIndexCurrent",value:function(t){if(!this.props.animateTransitions&&this.indexCurrent!==t&&this.handleTransitionEnd(),this.indexCurrent=t,this.containerNode){var r=this.props.axis,T=H.transform[r](t*100);this.containerNode.style.WebkitTransform=T,this.containerNode.style.transform=T}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var t=this,r=this.props;r.action;var T=r.animateHeight,d=r.animateTransitions,p=r.axis,F=r.children,X=r.containerStyle,b=r.disabled;r.disableLazyLoading;var h=r.enableMouseEvents;r.hysteresis,r.ignoreNativeScroll,r.index,r.onChangeIndex,r.onSwitching,r.onTransitionEnd,r.resistance;var P=r.slideStyle,_=r.slideClassName,G=r.springConfig,J=r.style;r.threshold;var le=(0,l.default)(r,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"]),ne=this.state,he=ne.displaySameSlide,se=ne.heightLatest,me=ne.indexLatest,je=ne.isDragging,be=ne.renderOnlyActive,Oe=b?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},rt=!b&&h?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},Me=(0,a.default)({},x.slide,P),pe,ye;if(je||!d||he)pe="all 0s ease 0s",ye="all 0s ease 0s";else if(pe=C("transform",G),ye=C("-webkit-transform",G),se!==0){var De=", ".concat(C("height",G));pe+=De,ye+=De}var Ce={height:null,WebkitFlexDirection:H.flexDirection[p],flexDirection:H.flexDirection[p],WebkitTransition:ye,transition:pe};if(!be){var He=H.transform[p](this.indexCurrent*100);Ce.WebkitTransform=He,Ce.transform=He}return T&&(Ce.height=se),M.createElement(B.Provider,{value:this.getSwipeableViewsContext()},M.createElement("div",(0,a.default)({ref:this.setRootNode,style:(0,a.default)({},H.root[p],J)},le,Oe,rt,{onScroll:this.handleScroll}),M.createElement("div",{ref:this.setContainerNode,style:(0,a.default)({},Ce,x.container,X),className:"react-swipeable-view-container"},M.Children.map(F,function(it,Fe){if(be&&Fe!==me)return null;var Ve,We=!0;return Fe===me&&(We=!1,T&&(Ve=t.setActiveSlide,Me.overflowY="hidden")),M.createElement("div",{ref:Ve,style:Me,className:_,"aria-hidden":We,"data-swipeable":"true"},it)}))))}}]),D}(M.Component);j.displayName="ReactSwipableView",j.propTypes={},j.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var oe=j;return fe.default=oe,fe}(function(e){var i=fn;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"SwipeableViewsContext",{enumerable:!0,get:function(){return a.SwipeableViewsContext}});var a=i(er())})(hn);const tr=bn(hn),nr=y(R)({width:"100%",margin:"0px"}),rr=y(R)({margin:"0px",padding:"0px",position:"relative"}),ir=y(R)({width:"100%",height:"100%",margin:"0px",padding:"0px",position:"relative"}),mn=y(tr)(({scrollcolor:e})=>({width:"100%",height:"100%",marginBottom:"8px",padding:"14px 0px 20px 0px","::-webkit-scrollbar-thumb":{background:"red"},"::-webkit-scrollbar-thumb: hover":{backgroundColor:e,opacity:"1"},"& .react-swipeable-view-container":{height:"100%"}})),Je=y(R)({width:"100%",padding:"0px 14px","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),vn=y(R)({height:"10px",width:"100%",position:"absolute",bottom:"0",display:"flex",justifyContent:"center","& :last-child":{marginRight:"0px"}}),et=y(R)(({active:e,linecolor:i})=>({borderTop:`1px solid ${i}`,width:e=="true"?"20px":e=="false"?"10px":"0px",color:"black",marginRight:"5px",marginTop:"5px"})),ar=y(R)(({scrollbarcolor:e})=>({width:"100%",height:"100%","::-webkit-scrollbar-thumb":{backgroundColor:"red"},"::-webkit-scrollbar-track":{backgroundColor:"transparent"},scrollbarWidth:"auto",scrollbarColor:`${e} transparent`})),nn=y(R)({width:"100%",padding:"0px",margin:"0px"}),or=y(R)({width:"100%",margin:"auto",padding:"20px 0px","& .MuiBox-root":{textWrap:"wrap"}}),sr=y(R)({width:"100%",height:"100%",position:"relative",overflowX:"hidden",padding:"0px 15px",scrollbarGutter:"stable both-edges"}),rn=y(R)({}),an=y("img")({width:"100%",marginTop:"20px"}),lr=y(R)({width:"100%",marginTop:"20px","& .MuiAccordion-gutters":{width:"100%"},"& .MuiAccordion-root .MuiAccordionSummary-root .Mui-expanded":{margin:"12px 0px !important"}}),ur=y(R)({width:"100%","& .MuiBox-root":{padding:"0px "}}),cr=y(R)({width:"100%",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"}),dr=y(R)({width:"100%",padding:"20px 0px",position:"relative",display:"flex",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}}),hr=y(R)({width:"100%",margin:"0px",position:"relative",display:"flex",flexDirection:"column",zIndex:"2","& .MuiBox-root":{userSelect:"none"},"& .MuiBox-root:active":{cursor:"grabbing"}});y(R)({width:"40px",height:"100%",backgroundColor:"#FFAA5D",justifyContent:"center",alignItems:"center"});y(R)({width:"20px",height:"50%",position:"relative"});function pt(e){var O,x,H,C;const[i,a]=o.useState(0),{theme:l,textSize:c,referenceLanguage:g,showQuranReferences:N,displayType:E}=o.useContext(xe),{topTextColor:A,backgroundColor:M}=Se(l),I=(x=(O=e==null?void 0:e.verse)==null?void 0:O.verseReference)==null?void 0:x.ref;return E==ae.VERSE_BY_VERSE?n.jsxs(rr,{children:[n.jsxs(mn,{style:{backgroundColor:M},scrollcolor:A,enableMouseEvents:!0,disabled:!N,onSwitching:q=>a(q),children:[n.jsx(Je,{children:n.jsx(nn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,children:n.jsx(Y,{fontFamily:"Inter",fontSize:c,lineHeight:c+20,fontWeight:"700",color:A,dataIndex:e.index.toString(),language:g,direction:g==Ae?"rtl":"ltr",children:(H=e.verse.verseText)==null?void 0:H[g]})})}),n.jsx(Je,{children:I&&I.map((q,f)=>n.jsx(Y,{fontFamily:"Inter",fontWeight:"700",fontSize:c,lineHeight:c+20,color:A,children:q},f))})]}),I&&I.length>0&&N&&n.jsxs(vn,{children:[n.jsx(et,{active:i==0?"true":"false",linecolor:A}),n.jsx(et,{active:i==1?"true":"false",linecolor:A})]})]}):n.jsx(nn,{"data-id":e.verse.verseId,"data-index":e.index,ref:e.refer,style:{backgroundColor:M},children:n.jsx(Y,{fontFamily:"Inter",fontSize:c,lineHeight:c+20,fontWeight:"700",color:A,dataIndex:e.index.toString(),language:g,direction:g==Ae?"rtl":"ltr",onTouchStart:()=>e.onTouchStart&&e.onTouchStart(e.verse.verseReference.ref),onMouseDown:()=>e.onMouseDown&&e.onMouseDown(e.verse.verseReference.ref),children:(C=e.verse.verseText)==null?void 0:C[g]})})}function fr(e){var K,Z;const[i,a]=o.useState([]),[l,c]=o.useState(0),{scrollTopVerseIndex:g,setScrollTopVerseIndex:N,setHiddenTopVersePercentage:E,activeScroll:A,setActiveScroll:M}=o.useContext(tt),I=o.useRef([]);I.current=(K=e.verses)==null?void 0:K.map((B,j)=>I.current[j]??o.createRef());const{theme:O,textSize:x,showQuranReferences:H,displayType:C}=o.useContext(xe),{backgroundColor:q,topTextColor:f}=Se(O);o.useEffect(()=>{var B;if(((B=e.verses)==null?void 0:B.length)>0){const j=I.current[g-1];j!=null&&j.current&&j.current.scrollIntoView(),N(0),E(0)}},[e.verses]),o.useEffect(()=>{var B;if(C==ae.SPLIT_PANEL&&g>=0&&(A==Be||A==ve)){const j=I.current[Number(g)];(B=j==null?void 0:j.current)==null||B.scrollIntoView()}},[g,C]),o.useEffect(()=>{var B;I.current[0]&&A!=Ze&&A!=Be&&A!=ve&&A!=Ne&&e.prevPage!=Pe.SUBBOOKEXPLORER&&((B=I.current[0].current)==null||B.scrollIntoView())},[g]);const k=B=>{if(C==ae.SPLIT_PANEL){M(Ze);const j=B.currentTarget.getBoundingClientRect().top,oe=B.currentTarget.clientHeight;let v=-1,D=1/0;if(I.current.forEach((S,t)=>{if(S.current){const r=S.current.getBoundingClientRect().top,T=S.current.getBoundingClientRect().bottom,d=r-j;T>j&&r<j+oe&&Math.abs(d)<D&&(D=Math.abs(d),v=t)}}),v!==-1){N(v);const S=I.current[v];if(S.current){const t=S.current.getBoundingClientRect().top,r=S.current.clientHeight,T=Math.max(0,Math.min(100,(j-t)/r*100));E(T)}}}};return n.jsx(nr,{style:{height:e.height},children:C===ae.SPLIT_PANEL?n.jsxs(ir,{children:[n.jsxs(mn,{style:{backgroundColor:q},scrollcolor:f,enableMouseEvents:!0,disabled:!H,onScrollCapture:A!=Be?B=>k(B):()=>{},onSwitching:B=>c(B),children:[n.jsx(Je,{children:(Z=e.verses)==null?void 0:Z.map((B,j)=>n.jsx(pt,{refer:I.current[j],verse:B,index:j,onMouseDown:a,onTouchStart:a},j))}),n.jsx(Je,{children:i&&i.map((B,j)=>n.jsx(Y,{fontFamily:"Inter",fontWeight:"700",fontSize:x-2,color:f,children:B},j))})]}),H&&n.jsxs(vn,{style:{background:q,bottom:"5px"},children:[n.jsx(et,{active:l===0?"true":"false",linecolor:f}),n.jsx(et,{active:l===1?"true":"false",linecolor:f})]})]}):n.jsx(ar,{style:{backgroundColor:q},scrollbarcolor:f,children:e.verses.map((B,j)=>n.jsx(pt,{refer:I.current[j],verse:B,index:j},j))})})}var _t={},gr=cn;Object.defineProperty(_t,"__esModule",{value:!0});var yt=_t.default=void 0,xr=gr(dn()),mr=n;yt=_t.default=(0,xr.default)((0,mr.jsx)("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft");var Et={},vr=cn;Object.defineProperty(Et,"__esModule",{value:!0});var Sn=Et.default=void 0,Sr=vr(dn()),br=n;Sn=Et.default=(0,Sr.default)((0,br.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"SettingsOutlined");const pr=y(R)({position:"fixed",zIndex:"3",bottom:"0px",width:"100%",height:"150px",overflow:"hidden"}),yr=y(R)({position:"relative",display:"flex",justifyContent:"center","& .MuiBox-root":{alignContent:"center"}}),Cr=y("img")({width:"100%",position:"absolute",top:"20px"}),_r=y(R)({width:"100%",maxWidth:"700px",padding:"0px 20px",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:"1",paddingTop:"20px",alignContent:"center","@media (min-width: 600px)":{paddingTop:"25px"}}),Er=y(R)({position:"relative",bottom:"-75px",height:"100px",display:"flex",alignItems:"center",justifyContent:"space-between"}),wr=y("img")({width:"100%",position:"absolute","@media (min-width: 750px)":{top:"0px"},"@media (min-width: 1050px)":{top:"-10px"},"@media (min-width: 1450px)":{top:"-20px"}});y(R)(({readingcontrol:e})=>({height:"100px",width:"100%",maxWidth:"700px",margin:"auto",display:"flex",flexDirection:e==pn.LEFT_HANDED?"row":"row-reverse",justifyContent:"space-between",alignItems:"center",padding:"0px 15px","@media (min-width: 1075px)":{width:"80%",margin:"auto"}}));const Ir=y(R)(({isintro:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer",marginLeft:e=="true"?"10px":"0px"})),Tr=y(R)({backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 10px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2,height:"40px","& .MuiBox-root":{width:"70px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),on=y("img")({width:"15px",marginRight:"10px"}),kr=y(R)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer"}),Rr=y(R)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px",height:"40px"}),Qe=y(R)({width:"24px",height:"24px",cursor:"pointer"}),Lr=y(R)({width:"25px"}),Ar=y(R)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",minWidth:"200px",maxWidth:"350px",boxSizing:"border-box",cursor:"pointer","@media (max-width: 360px)":{width:"220px"}}),Br=y(R)({display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",boxSizing:"border-box",borderRadius:"20px",padding:"5px",height:"40px",width:"100%","@media (max-width: 360px)":{width:"200px"}}),Pr=y(R)({minWidth:"170px",maxWidth:"320px",display:"flex",justifyContent:"space-between",alignItems:"center","@media (max-width: 360px)":{width:"150px",minWidth:"140px"}}),Nr=y(R)({display:"flex",alignItems:"center",width:"150px",marginLeft:"10px","& .MuiBox-root":{width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","@media (max-width: 360px)":{width:"90px"}},"@media (max-width: 360px)":{width:"110px"}}),jr=y(R)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"5px",cursor:"pointer","& :nth-of-type(2)":{marginRight:"10px"}}),Or=y(R)({display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"20px",padding:"5px 20px",width:"50px",height:"40px"}),Mr=y(R)({width:"40px",height:"40px",marginRight:"10px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",backgroundColor:"#FFF",borderRadius:"50%",cursor:"pointer","& svg":{fill:"#093C54 !important"}});y(R)({width:"90px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px","@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}});const Dr=y(R)({display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"10px",marginBottom:"20px",cursor:"pointer"}),Le=y("img")({width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",zIndex:"1"});y(R)(({underlinecolor:e})=>({width:"90px",textDecoration:"underline",textDecorationColor:e,textUnderlineOffset:"3px",zIndex:"1",cursor:"pointer",marginBottom:"20px","& .MuiBox-root":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"@media (min-width: 400px) and (max-width: 499px)":{width:"120px"},"@media (min-width: 500px)":{width:"180px"}}));const Hr=y(R)({width:"100%",height:"60px",overflow:"hidden",padding:"0 10px"}),Fr=y(Rn)(({barcolor:e})=>({color:e,opacity:"1",height:"5px","& .MuiSlider-thumb":{width:"13.25px",height:"14px",color:e,transition:"0.3s cubic-bezier(.47,1.64,.41,.8)","&::before":{boxShadow:"0 2px 12px 0 rgba(0,0,0,0.4)"},"&:hover, &.Mui-focusVisible":{boxShadow:"0px 0px 0px 8px rgb(0 0 0 / 16%)"},"&.Mui-active":{width:20,height:20}}})),Vr=y(R)({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-20px"});function Wr(e){const{duration:i,currentTime:a,onTimeChange:l}=e,[c,g]=o.useState(a),{theme:N}=o.useContext(xe),{buttonTextColor:E}=Se(N);o.useEffect(()=>{g(a)},[a]);const A=(M,I)=>{g(I),l(I)};return n.jsxs(Hr,{children:[n.jsx(Fr,{"aria-label":"time-indicator",value:c,min:0,max:Math.floor(i),step:1,barcolor:E,onChange:A}),n.jsxs(Vr,{children:[n.jsx(Y,{color:E,children:sn(c)}),n.jsx(Y,{color:E,children:"-"+sn(Math.floor(i-c))})]})]})}function sn(e){const i=Math.floor(e/60),a=Math.floor(e%60);return`${i}:${a<10?`0${a}`:a}`}function Ur(e){const[i,a]=o.useState(!1),[l,c]=o.useState(0),[g,N]=o.useState(0),[E,A]=o.useState(0),M=o.useRef(new Audio),{scrollTopVerseIndex:I,setScrollTopVerseIndex:O,setActiveScroll:x}=o.useContext(tt),{autoScrollText:H,volume:C,audioLanguage:q,pageControl:f,theme:k,readingLanguage:K}=o.useContext(xe);o.useEffect(()=>{const h=M.current;e.src&&(h.src=ot+e.src);const P=()=>{N(h.duration)},_=()=>{c(Math.floor(h.currentTime))};return h.addEventListener("loadedmetadata",P),h.addEventListener("timeupdate",_),()=>{h.removeEventListener("loadedmetadata",P),h.removeEventListener("timeupdate",_)}},[e.src]),o.useEffect(()=>{var h;if(M.current.ended)D();else if(H){const P=(h=e.verses)==null?void 0:h.findIndex((_,G)=>{var ne,he,se;const J=(ne=_.verseAudioStart)==null?void 0:ne[q||Rt.TRANSLATION],le=(se=(he=e.verses[G+1])==null?void 0:he.verseAudioStart)==null?void 0:se[q||Rt.TRANSLATION];return l>=J&&l<le});P!==-1&&(P!==E||P==0)&&(O(P),A(P),x(ve))}},[l,e.verses,q,H,i]),o.useEffect(()=>{M.current.volume=C/100},[C]);const Z=()=>{const h=M.current;x(ve),h.readyState>=2?(a(!0),h.play().catch(P=>re.custom(_=>{var G,J;return n.jsx(ie,{text:((J=(G=e.terms.texts.find(le=>le.variable=="Audio Play Error"))==null?void 0:G.text)==null?void 0:J[K])||"",offset:125,visible:_.visible})}))):re.custom(P=>{var _,G;return n.jsx(ie,{text:((G=(_=e.terms.texts.find(J=>J.variable=="Audio Not Ready"))==null?void 0:_.text)==null?void 0:G[K])||"",offset:125,visible:P.visible})})},B=()=>{a(!1),M.current.pause(),x(Ne)},j=()=>{B(),e.moveToSoundSettingPage()},oe=()=>{B(),e.setAudioSeekBarStatus(!1)},v=h=>{M.current.currentTime=h,c(h)},D=()=>{c(0),a(!1),O(0),x(Ne)},S=()=>n.jsxs(yr,{children:[n.jsx(Cr,{src:k==U.DEFAULT||k==U.DARK?W.bar_reading_audio_subtract:k==U.BLACK_AND_WHITE?W.bar_reading_audio_subtract_BAW:k==U.SAPPHIRE?W.bar_reading_audio_subtract_sapphire:W.bar_reading_audio_subtract_easyocean}),n.jsxs(_r,{children:[n.jsx(Le,{src:k==U.DEFAULT||k==U.DARK?W.btn_sound_setting:k==U.BLACK_AND_WHITE?W.btn_sound_setting_BAW:k==U.SAPPHIRE?W.btn_sound_setting_sapphire:W.btn_sound_setting_easyocean,onClick:j}),n.jsx(Wr,{duration:g,currentTime:l,onTimeChange:v}),n.jsx(Le,{src:k==U.DEFAULT||k==U.DARK?W.btn_close:k==U.BLACK_AND_WHITE?W.btn_close_BAW:k==U.SAPPHIRE?W.btn_close_sapphire:W.btn_close_easyocean,onClick:oe})]})]}),t=()=>n.jsx(wr,{src:k==U.DEFAULT||k==U.DARK?W.bar_reading_subtract:k==U.BLACK_AND_WHITE?W.bar_reading_subtract_BAW:k==U.SAPPHIRE?W.bar_reading_subtract_sapphire:W.bar_reading_subtract_easyocean}),r=()=>!e.isIntro&&n.jsx(Dr,{children:e.showAudioSeekBar?i?n.jsx(Le,{src:k==U.DEFAULT||k==U.DARK?W.btn_pause:k==U.BLACK_AND_WHITE?W.btn_pause_BAW:k==U.SAPPHIRE?W.btn_pause_sapphire:W.btn_pause_easyocean,onClick:B}):n.jsx(Le,{src:k==U.DEFAULT||k==U.DARK?W.btn_play:k==U.BLACK_AND_WHITE?W.btn_play_BAW:k==U.SAPPHIRE?W.btn_play_sapphire:W.btn_play_easyocean,onClick:Z}):n.jsx(Le,{src:k==U.DEFAULT||k==U.DARK?W.btn_sound:k==U.BLACK_AND_WHITE?W.btn_sound_BAW:k==U.SAPPHIRE?W.btn_sound_sapphire:W.btn_sound_easyocean,onClick:()=>e.setAudioSeekBarStatus(!0)})}),T=()=>e.bookTitle!="Qur'an"&&n.jsxs(Ir,{isintro:e.isIntro?"true":"false",children:[n.jsxs(Tr,{onClick:e.moveToIndexPage,children:[n.jsx(on,{src:ot+e.bookImage}),n.jsx(Y,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.bookTitle=="Zabur"?"Psalm":e.subBookTitle})]}),n.jsx(Y,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Sub book"})]}),d=()=>e.bookTitle!="Qur'an"&&n.jsxs(kr,{children:[n.jsxs(Rr,{children:[n.jsx(Qe,{onClick:()=>e.handleNavigateBtn(f==Ue.LEFT_TO_RIGHT?qe:Ee),children:n.jsx(yt,{})}),n.jsx(Lr,{onClick:e.moveToIndexPage,children:n.jsx(Y,{fontFamily:'"Baloo Da 2"',color:"#093C54",textAlign:"center",children:e.isIntro?"In":e.bookTitle=="Zabur"?e.subBookNumber.toString():e.chapterNumber.toString()})}),n.jsx(Qe,{onClick:()=>e.handleNavigateBtn(f==Ue.LEFT_TO_RIGHT?Ee:qe),children:n.jsx(Pt,{})})]}),n.jsx(Y,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Chapter"})]}),p=()=>e.bookTitle=="Qur'an"&&n.jsxs(Ar,{children:[n.jsxs(Br,{children:[n.jsx(Qe,{onClick:()=>e.handleNavigateBtn(f==Ue.LEFT_TO_RIGHT?qe:Ee),children:n.jsx(yt,{})}),n.jsxs(Pr,{onClick:e.moveToIndexPage,children:[n.jsxs(Nr,{children:[n.jsx(on,{src:ot+e.bookImage}),n.jsx(Y,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookTitle})]}),n.jsx(Y,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:e.subBookNumber.toString()})]}),n.jsx(Qe,{onClick:()=>e.handleNavigateBtn(f==Ue.LEFT_TO_RIGHT?Ee:qe),children:n.jsx(Pt,{})})]}),n.jsx(Y,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Surah"})]}),F=()=>!e.isIntro&&n.jsxs(jr,{children:[n.jsx(Or,{onClick:e.moveToSubBookExplorer,children:n.jsx(Y,{fontFamily:'"Baloo Da 2"',color:"#093C54",children:(I<=0?1:I+1).toString()})}),n.jsx(Y,{fontFamily:'"Baloo Da 2"',color:"#FFF",fontSize:9,lineHeight:16,children:"Aya"})]}),X=()=>n.jsx(Mr,{onClick:e.moveToSettingsPage,children:n.jsx(Sn,{})}),b=()=>n.jsxs(Er,{children:[t(),r(),T(),d(),p(),F(),X()]});return n.jsxs(pr,{children:[e.showAudioSeekBar&&S(),b()]})}function Ct(e){var S,t,r,T;const[i,a]=o.useState(e.isExistingInBookmark?100:0),[l,c]=o.useState(null),[g,N]=o.useState(!1),[E,A]=o.useState(0),[M,I]=o.useState(0),{textSize:O,theme:x}=o.useContext(xe),{mainBGColor:H}=Se(x),C=o.useRef(null),q=o.useRef(i),f=e.refer,k=o.useRef(0),K=window.matchMedia("(orientation: portrait)").matches;o.useEffect(()=>{q.current=i},[i]),o.useEffect(()=>{if(C.current&&f.current&&("verseHeader"in e.verse&&(C.current.style.height=`${f.current.getBoundingClientRect().height-4}px`,C.current.style.bottom="2px",C.current.style.alignSelf="self-end"),f.current.offsetHeight>0&&f.current.offsetHeight<=24)){const d=C.current.children[0];d.style.width="20px",d.style.height="20px",d.children[1].style.width="10px",d.children[1].style.height="10px"}},[e.verse,e.translatePanelHeight,K]);const Z=o.useCallback(d=>{if(d>0&&d<Lt){const p=d/Lt*100,F=e.isExistingInBookmark?100-p:p;a(F),q.current=F}else if(d>0){const p=e.isExistingInBookmark?0:100;a(p),q.current=p}else{const p=e.isExistingInBookmark?100:0;a(p),q.current=p}},[e.isExistingInBookmark]),B=o.useCallback(()=>{if(f.current){const d=Math.max(0,Math.min(M,Cn));f.current.style.transform=`translateX(${d}px)`,Z(d-yn)}g&&(k.current=requestAnimationFrame(B))},[g,M,Z]);o.useEffect(()=>(g?k.current=requestAnimationFrame(B):cancelAnimationFrame(k.current),()=>cancelAnimationFrame(k.current)),[g,B]);const j=d=>{var F;!e.language&&N(!0),A(d);const p=(F=f.current)==null?void 0:F.getAttribute("data-id");p&&c(p)},oe=d=>{if(!g)return;const p=Math.max(0,d-E);e.isLoggedIn&&p>At&&I(p-At)},v=()=>{N(!1),f.current&&(!e.isExistingInBookmark&&q.current==100||e.isExistingInBookmark&&q.current==0?l&&e.handleBookmark(l):e.isExistingInBookmark?(a(100),q.current=100):(a(0),q.current=0),f.current.style.transition="transform 0.3s ease-out",f.current.style.transform="translateX(0)",setTimeout(()=>{f.current&&(f.current.style.transition="")},300)),I(0)};o.useEffect(()=>{const d=f.current;if(d){const p=_=>{_.preventDefault(),j(_.clientX)},F=_=>{_.preventDefault(),oe(_.clientX)},X=_=>{_.preventDefault(),v()},b=_=>{j(_.touches[0].clientX)},h=_=>{oe(_.touches[0].clientX)},P=_=>{v()};return d.addEventListener("mousedown",p),document.addEventListener("mousemove",F),document.addEventListener("mouseup",X),d.addEventListener("touchstart",b),d.addEventListener("touchmove",h),d.addEventListener("touchend",P),()=>{d.removeEventListener("mousedown",p),document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",X),d.removeEventListener("touchstart",b),d.removeEventListener("touchmove",h),d.removeEventListener("touchend",P)}}},[f,Z,e.handleBookmark,E]);const D=d=>{for(var p in d)if(d[p]!==null&&d[p]!=="")return!0;return!1};return n.jsxs(cr,{children:["verseHeader"in e.verse&&D(e.verse.verseHeader)&&n.jsx(dr,{"data-id":e.verse.verseId,"data-index":e.index,style:{backgroundColor:H},children:n.jsx(Y,{fontFamily:"Inter",fontWeight:"700",backgroundColor:H,fontSize:O,lineHeight:O+15,direction:e.language||e.readingLanguage===Ae?"rtl":"ltr",children:e.verse.verseHeader[e.language||e.readingLanguage]})}),!e.language&&n.jsx(jn,{progress:i,refer:C,backgroundColor:H}),n.jsx(hr,{"data-id":"verseId"in e.verse?e.verse.verseId:e.verse.id,"data-index":e.index,ref:e.refer,children:e.isIntro?n.jsx(Y,{fontFamily:"Inter",backgroundColor:H,dataIndex:e.language?"":e.index.toString(),lineHeight:O+20,direction:e.readingLanguage===Ae?"rtl":"ltr",fontSize:e.verse.title?O+2:O,fontWeight:e.verse.title?"bold":"500",textAlign:e.verse.title?"center":"left",children:((S=e.verse.title)==null?void 0:S[e.language||e.readingLanguage])||((t=e.verse.text)==null?void 0:t[e.language||e.readingLanguage])}):n.jsx(Y,{fontFamily:"Inter",fontSize:O,backgroundColor:H,dataIndex:e.language?"":e.index.toString(),lineHeight:O+20,direction:e.readingLanguage===Ae?"rtl":"ltr",children:"verseText"in e.verse?(r=e.verse.verseText)==null?void 0:r[e.language||e.readingLanguage]:(T=e.verse.text)==null?void 0:T[e.language||e.readingLanguage]})})]})}function ln(e){var j,oe,v,D,S,t,r,T,d,p,F,X;const[i,a]=o.useState([]),[l,c]=o.useState([]),{scrollTopVerseIndex:g,setScrollTopVerseIndex:N,setHiddenTopVersePercentage:E,activeScroll:A,setActiveScroll:M}=o.useContext(tt),I=o.useRef(null),O=o.useRef(null),x=o.useRef([]);x.current=(j=e.verses)==null?void 0:j.map((b,h)=>x.current[h]??o.createRef());const{theme:H,displayType:C}=o.useContext(xe),{mainBGColor:q,textColor:f}=Se(H),k=localStorage.getItem(_n)||En,K=o.useCallback(()=>{var h;let b=[];return(h=x.current)==null||h.forEach(P=>{P.current&&P.current.children[0]&&b.push(P.current.children[0].offsetHeight)}),b},[x]);o.useEffect(()=>{var b;if(((b=e.verses)==null?void 0:b.length)>0){const h=x.current[g-1];h!=null&&h.current&&h.current.scrollIntoView(),N(0),E(0)}},[e.verses]),o.useEffect(()=>{const b=K();a(b);const h=b.reduce((P,_,G)=>(P[G]=(P[G-1]||0)+_,P),[]);c(h)},[e.verses,K]);const Z=o.useCallback(()=>{if(!I.current)return;const b=I.current.scrollTop;M(Be);let h=0,P=l.length-1;for(;h<=P;){const se=Math.floor((h+P)/2);l[se]>b?P=se-1:h=se+1}const _=h-1;N(_);const G=_>0?l[_-1]:0,J=i[_],ne=(b-G)/J*100,he=Math.min(Math.max(ne,0),100);E(he)},[l,i,N]);o.useEffect(()=>{const b=I.current;if(b)return b.addEventListener("scroll",Z),b.addEventListener("scrollend",()=>M(Ne)),()=>{b.removeEventListener("scroll",Z)}}),o.useEffect(()=>{var b;if((C===ae.SPLIT_PANEL||C===ae.ONLY_TRNSLATION)&&g>=0&&(A==Ze||A==ve)){const h=x.current[Number(g)];(b=h==null?void 0:h.current)==null||b.scrollIntoView()}},[g,C]);const B=(b,h)=>{var P;return b.image?n.jsx(an,{src:b.image.url,alt:b.image.alt},h):b.isCollapse?n.jsx(lr,{children:n.jsx(Pn,{label:(P=b.title)==null?void 0:P[k],outArrow:!0,detail:n.jsx(ur,{children:b.content.map((_,G)=>!_.url&&!_.isTitle?n.jsx(Y,{children:_==null?void 0:_[k]},G):!_.url&&_.isTitle?n.jsx(Y,{fontWeight:"bold",isTitle:!0,children:_==null?void 0:_[k]},G):n.jsx(an,{src:_.url,alt:_.alt},G))})})},h):n.jsx(Ct,{refer:x.current[h],verse:b,index:h,language:k,isExistingInBookmark:e.bookmarks.some(_=>_.id===b.id),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,isIntro:!0,readingLanguage:e.readingLanguage,handleBookmark:e.handleBookmark},h)};return o.useEffect(()=>{var b;O.current&&A!=Ze&&A!=Be&&A!=ve&&A!=Ne&&e.prevPage!=Pe.SUBBOOKEXPLORER&&((b=O.current)==null||b.scrollIntoView())},[g]),n.jsx(or,{style:{backgroundColor:q,color:f,height:e.height},children:n.jsxs(sr,{ref:I,children:[!e.isIntro&&!e.isSpecialBook&&n.jsxs(rn,{ref:O,children:[n.jsx(Y,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(v=(oe=e.subBookInfo)==null?void 0:oe.subBookTitle)==null?void 0:v.ar}),n.jsx(Y,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(S=(D=e.subBookInfo)==null?void 0:D.subBookTitle)==null?void 0:S.origin}),n.jsx(Y,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`The ${Bt(e.chapterNumber||1)} Chapter`}),n.jsx(Y,{})]}),!e.isIntro&&e.isSpecialBook&&n.jsxs(rn,{ref:O,children:[n.jsx(Y,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(r=(t=e.subBookInfo)==null?void 0:t.subBookTitle)==null?void 0:r.ar}),n.jsx(Y,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:(d=(T=e.subBookInfo)==null?void 0:T.subBookTitle)==null?void 0:d.transliteration}),n.jsx(Y,{textAlign:"center",fontSize:16,fontFamily:"Inter",fontWeight:"700",lineHeight:24,children:`The ${Bt(((p=e.subBookInfo)==null?void 0:p.subBookNumber)||1)} Surah`}),n.jsx(Y,{})]}),!e.isIntro&&((F=e.verses)==null?void 0:F.map((b,h)=>n.jsx(Ct,{refer:x.current[h],verse:b,index:h,isExistingInBookmark:e.bookmarks.some(P=>P.verseId===b.verseId),isLoggedIn:e.isLoggedIn,translatePanelHeight:e.height,readingLanguage:e.readingLanguage,handleBookmark:e.handleBookmark},h))),e.isIntro&&((X=e.verses)==null?void 0:X.map((b,h)=>B(b,h)))]})})}const qr=y(R)({margin:"0px",height:"100dvh"}),un=y(R)(({showaudioseekbar:e})=>({width:"100%",padding:"20px",height:e=="true"?"calc(100dvh - 150px)":"calc(100dvh - 100px)"})),Xr=y(R)({width:"45px",height:"8px",margin:"auto",marginTop:"-4px",position:"relative",zIndex:"2",cursor:"grab","&:active":{cursor:"grabbing"}}),zr=y(R)({width:"100%",height:"100%",overflowX:"hidden",overflowY:"auto",margin:"0px",paddingBottom:"0px"}),Yr=y(R)({width:"100%",padding:"15px"});function Kr(e){const i=window.matchMedia("(orientation: portrait)").matches,[a,l]=o.useState([]),[c,g]=o.useState(null),[N,E]=o.useState(!1),[A,M]=o.useState(i?200:120),[I,O]=o.useState(!1),[x,H]=o.useState(),[C,q]=o.useState(),[f,k]=o.useState(),[K,Z]=o.useState(0),[B,j]=o.useState(0),[oe,v]=o.useState(!0),{theme:D,displayType:S}=o.useContext(xe),{mainBGColor:t,topTextColor:r}=Se(D),{scrollTopVerseIndex:T,setScrollTopVerseIndex:d,setActiveScroll:p}=o.useContext(tt),F=o.useRef([]),X=o.useRef([]);F.current=a==null?void 0:a.map((s,u)=>(F==null?void 0:F.current[u])??o.createRef()),X.current=a==null?void 0:a.map((s,u)=>(X==null?void 0:X.current[u])??o.createRef());const b=100,h=100;window.matchMedia("(orientation: portrait)").addEventListener("change",s=>{const u=s.matches;M(u?200:120)});const[P,_]=o.useState(typeof window<"u"?window.innerHeight:1e3),G=e.showAudioSeekBar?P-150-A:P-100-A,J=An(),le=o.useCallback(s=>{ze.fetchVerses(s).then(u=>{var w;if(l(u.verses),u&&u.length>0){const L=(w=u.chapteraudio)==null?void 0:w.find(m=>m.language==e.readingLanguage);g(L)}e.dispatch({type:Q.ADD_CHAPTERINFO,payload:{chapterInfo:u}}),E(!1)}).catch(u=>{E(!1),re.custom(w=>n.jsx(ie,{text:u,offset:70,visible:w.visible}))})},[e.currentChapter]),ne=o.useCallback((s,u)=>{var w,L;if(O(u),(w=e.chapterInfos)!=null&&w.length){const m=e.chapterInfos.find(V=>V.chapterId===s);if(m){O(m.chapterNumber==0),l(m.verses);const V=(L=m.chapterAudio)==null?void 0:L.find(te=>te.language==e.readingLanguage);g(V==null?void 0:V.audio)}else u?he(s):le(s);E(!1)}else u?he(s):le(s)},[e.currentChapter]),he=o.useCallback(s=>{ze.fetchIntroVerses(s).then(u=>{l(u.verses),e.dispatch({type:Q.ADD_CHAPTERINFO,payload:{chapterInfo:u}})}).catch(u=>{re.custom(w=>n.jsx(ie,{text:u,offset:70,visible:w.visible}))}).finally(()=>{E(!1)})},[]),se=o.useCallback(async s=>{try{const u=await ze.fetchSubBookInfo(s);e.dispatch({type:Q.ADD_SUBBOOK,payload:{subBook:u}}),k(u)}catch(u){re.custom(w=>n.jsx(ie,{text:u,visible:w.visible}))}finally{E(!1)}},[e.subBooks,e.currentSubBook]),me=o.useCallback(s=>{for(const u of e.bookInfos)for(const w of u.subBooks){const L=w.chapterInfos.find(m=>m.chapterId==s);if(L)return L}},[]),je=o.useCallback(s=>{for(const u of e.subBooks){const w=u.chapterInfos.find(L=>L.chapterId==s);if(w)return w}},[]);o.useEffect(()=>{const s=e.bookInfos.find(u=>u.bookId==e.currentBook);q(s)},[]),o.useEffect(()=>{var w;const s=(w=e.chapterInfos)==null?void 0:w.find(L=>L.chapterId==e.currentChapter),u=(s==null?void 0:s.chapterNumber)||0;j(u)},[e.chapterInfos]),o.useEffect(()=>{var u;const s=e.terms.find(w=>w.pageTitle=="Reading Page");(u=s==null?void 0:s.isPublished)!=null&&u[e.appLanguage]&&H(s)},[e.terms]),o.useEffect(()=>{const s=e.subBooks.find(u=>u.subBookId==e.currentSubBook);!s&&e.currentSubBook?se(e.currentSubBook):s&&e.currentSubBook&&k(s)},[e.subBooks,e.currentSubBook]),o.useEffect(()=>{var s,u,w,L;if(E(!0),e.currentVerse){const m=a.find(V=>V.verseId==e.currentVerse);m&&(d(((s=m[0])==null?void 0:s.verseNumber)-1),S==ae.VERSE_BY_VERSE&&((u=X.current[m[0].verseNumber-1].current)==null||u.scrollIntoView()))}if(e.currentChapter){const m=me(e.currentChapter);if(((w=e.subBookInfos)==null?void 0:w.length)>=0){const V=e.subBookInfos.find(te=>te.subBookId===e.currentSubBook);if(V){const te=V.chapterInfos.find(ue=>ue.chapterId===e.currentChapter);if(te){O(te.chapterNumber==0),l(te.verses);const ue=(L=te.chapterAudio)==null?void 0:L.find(ge=>ge.language==e.readingLanguage);g(ue)}else O(!!m),ne(e.currentChapter,(m==null?void 0:m.chapterNumber)==0)}else O(!!m),ne(e.currentChapter,(m==null?void 0:m.chapterNumber)==0)}else O(!!m),ne(e.currentChapter,(m==null?void 0:m.chapterNumber)==0)}E(!1)},[I,e.currentVerse,e.currentChapter,S]),o.useEffect(()=>{const s=()=>_(window.innerHeight);return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),o.useEffect(()=>{E(!0);let s=!1;if(e.userHistory&&e.userHistory.length>0&&e.userHistory.forEach(u=>{if(u.readChapterIds.includes(e.currentChapter)){s=!0,E(!1);return}}),!s){const u={chapterId:e.currentChapter};ze.saveHistory(u).then(w=>{e.dispatch({type:Q.SET_USER_HISTORY,payload:{userHistories:w}}),E(!1)}).catch(w=>{w.status==401&&w.response.data.message==st&&(re.custom(L=>n.jsx(ie,{text:w.response.data.message,visible:L.visible})),lt.logout(),J("/login")),E(!1)})}},[]),o.useEffect(()=>{var w,L;const s=(w=f==null?void 0:f.chapterInfos)==null?void 0:w.find(m=>m.chapterId==e.currentChapter),u=(L=s==null?void 0:s.verses)==null?void 0:L.find(m=>m.verseId==e.currentVerse);u!=null&&u.verseNumber?Z((u==null?void 0:u.verseNumber)-1):Z(1)},[e.currentVerse,f]),o.useEffect(()=>{p(ve),d(K)},[K]),o.useEffect(()=>{K<=1&&v(!0)},[K]),o.useEffect(()=>{(S==ae.ONLY_TRNSLATION||I)&&M(0),S!=ae.ONLY_TRNSLATION&&!I&&M(i?200:120)},[S,I]),o.useEffect(()=>{var s,u;S==ae.VERSE_BY_VERSE&&T>=0&&((u=(s=X.current[T])==null?void 0:s.current)==null||u.scrollIntoView())},[T,S,X,a]),o.useEffect(()=>{var s,u;S==ae.VERSE_BY_VERSE&&T>=0&&((u=(s=X.current[0])==null?void 0:s.current)==null||u.scrollIntoView(),d(0))},[S,a,X]);const be=o.useCallback(s=>{var L;E(!0);const u=(L=e.bookmark)==null?void 0:L.find(m=>m.verseId===s),w={verseId:s};try{if(!u)Nt.saveBookmark(w).then(m=>{e.dispatch({type:Q.ADD_BOOKMARK,payload:{bookmark:m.bookmark}}),E(!1),re.custom(V=>{var te,ue;return n.jsx(ie,{text:((ue=(te=x==null?void 0:x.texts.find(ge=>ge.variable=="Bookmark Saved"))==null?void 0:te.text)==null?void 0:ue[e.appLanguage])||"Bookmark saved",type:Xe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:V.visible})})}).catch(m=>{E(!1),m.status==401&&m.response.data.message==st&&(re.custom(V=>n.jsx(ie,{text:m.response.data.message,offset:e.showAudioSeekBar?125:70,visible:V.visible})),lt.logout(),J("/login"))});else{const m=e.bookmark.filter(V=>V.verseId==s);m&&m.length>0&&Nt.deleteBookmark(m[0]._id).then(()=>{e.dispatch({type:Q.REMOVE_BOOKMARK,payload:{bookmarkId:u._id}}),E(!1),re.custom(V=>{var te,ue;return n.jsx(ie,{text:((ue=(te=x==null?void 0:x.texts.find(ge=>ge.variable=="Bookmark Deleted"))==null?void 0:te.text)==null?void 0:ue[e.appLanguage])||"Bookmark deleted",type:Xe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:V.visible})})}).catch(V=>{E(!1),V.status==401&&V.response.data.message==st&&(re.custom(te=>n.jsx(ie,{text:V.response.data.message,type:Xe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:te.visible})),lt.logout(),J("/login"))})}}catch(m){E(!1),re.custom(V=>n.jsx(ie,{text:m,type:Xe.BOOKMARK,offset:e.showAudioSeekBar?125:70,visible:V.visible}))}},[e]),Oe=o.useCallback((s,u,w)=>{let L=u+(w-s),m=P-150-L;L<b?(L=b,m=P-150-b):m<h&&(L=P-150-h),M(L)},[P]),rt=s=>{const u=s.clientY,w=A,L=V=>Oe(u,w,V.clientY),m=()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",L),document.addEventListener("mouseup",m)},Me=s=>{const u=s.touches[0].clientY,w=A,L=V=>Oe(u,w,V.touches[0].clientY),m=()=>{document.removeEventListener("touchmove",L),document.removeEventListener("touchend",m)};document.addEventListener("touchmove",L),document.addEventListener("touchend",m)},pe=s=>{e.dispatch({type:Q.SET_AUDIO_SEEK_BAR_STATUS,payload:{showAudioSeekBar:s}})},ye=()=>{J("/settings")},De=()=>{J("/sound-settings")},Ce=()=>{e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:""}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:Pe.READING}}),J("/book")},He=()=>{var w,L;const s=(w=f==null?void 0:f.chapterInfos)==null?void 0:w.find(m=>m.chapterNumber==B),u=(L=s==null?void 0:s.verses)==null?void 0:L.find(m=>m.verseNumber==T+1);e.dispatch({type:Q.SET_CURRENT_SUBBOOK,payload:{currentSubBook:f==null?void 0:f.subBookId}}),e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:s==null?void 0:s.chapterId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:u==null?void 0:u.verseId}}),J("/subbookexplorer")},it=o.useCallback(s=>{var m,V,te,ue,ge,wt,It,Tt;const u=ce=>{var z;const ee=(z=f==null?void 0:f.chapterInfos)==null?void 0:z.find($=>$.chapterNumber==ce);ee&&(e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:ee.chapterId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:Pe.READING}}),Z(0),d(0),ee.chapterNumber==0?O(!0):O(!1),j(ee.chapterNumber),l(ee.verses),E(!1))},w=(ce,ee)=>{if(ce&&ce.chapterInfos&&ce.chapterInfos.length>0){const z=ce.chapterInfos[0].chapterId;e.dispatch({type:Q.SET_CURRENT_CHAPTER,payload:{currentChapter:z}}),e.dispatch({type:Q.SET_CURRENT_SUBBOOK,payload:{currentSubBook:ce.subBookId}}),e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),e.dispatch({type:Q.SET_PREVIOUS_PAGE,payload:{prevPage:Pe.READING}}),Z(1),d(1);const $=je(z);k(ce),ne(z,($==null?void 0:$.chapterNumber)==0)}else re.custom(z=>{var $,de,_e,kt;return n.jsx(ie,{text:ee?((de=($=x==null?void 0:x.texts.find(at=>at.variable=="Last Chapter"))==null?void 0:$.text)==null?void 0:de[e.appLanguage])||"Last Chapter":((kt=(_e=x==null?void 0:x.texts.find(at=>at.variable=="First Chapter"))==null?void 0:_e.text)==null?void 0:kt[e.appLanguage])||"First Chapter",offset:e.showAudioSeekBar?125:70,visible:z.visible})}),E(!1)};if(((m=C==null?void 0:C.bookTitle)==null?void 0:m.en)=="Qur'an"||((V=C==null?void 0:C.bookTitle)==null?void 0:V.en)=="Zabur"){const ce=((te=C==null?void 0:C.subBooks)==null?void 0:te.length)||1,ee=(f==null?void 0:f.subBookNumber)||1;if(s==Ee)if(ee+1<ce){const z=C.subBooks.find($=>$.subBookNumber==ee+1);e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),d(0),z&&w(z,!0)}else re.custom(z=>{var $,de;return n.jsx(ie,{text:((de=($=x==null?void 0:x.texts.find(_e=>_e.variable=="Last Chapter"))==null?void 0:$.text)==null?void 0:de[e.appLanguage])||"",offset:70,visible:z.visible})});else if(ee-1>0){const z=C.subBooks.find($=>$.subBookNumber==ee-1);e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),d(0),z&&w(z,!1)}else re.custom(z=>{var $,de;return n.jsx(ie,{text:((de=($=x==null?void 0:x.texts.find(_e=>_e.variable=="First Chapter"))==null?void 0:$.text)==null?void 0:de[e.appLanguage])||"",offset:70,visible:z.visible})})}else{const ce=((ue=f==null?void 0:f.chapterInfos)==null?void 0:ue.length)||1;if(s==Ee)if(B+1<=ce){const ee=((wt=(ge=f==null?void 0:f.chapterInfos)==null?void 0:ge.find(z=>z.chapterNumber==B+1))==null?void 0:wt.chapterNumber)||2;e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),d(0),u(ee)}else re.custom(ee=>{var z,$;return n.jsx(ie,{text:(($=(z=x==null?void 0:x.texts.find(de=>de.variable=="Last Chapter"))==null?void 0:z.text)==null?void 0:$[e.appLanguage])||"Last Chapter",offset:70,visible:ee.visible})});else if(B-1>0){const ee=((Tt=(It=f==null?void 0:f.chapterInfos)==null?void 0:It.find(z=>z.chapterNumber==B-1))==null?void 0:Tt.chapterNumber)||1;e.dispatch({type:Q.SET_CURRENT_VERSE,payload:{currentVerse:""}}),Z(0),d(0),u(ee)}else re.custom(ee=>{var z,$;return n.jsx(ie,{text:(($=(z=x==null?void 0:x.texts.find(de=>de.variable=="First Chapter"))==null?void 0:z.text)==null?void 0:$[e.appLanguage])||"First Chapter",offset:70,visible:ee.visible})})}},[e.subBooks,f,B]),Fe=()=>I&&n.jsx(un,{showaudioseekbar:"false",children:n.jsx(ln,{verses:a,topVerseNumber:K,showTitle:oe,prevPage:e.prevPage,height:G,originPanelHeight:A,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:I,readingLanguage:e.readingLanguage,handleBookmark:be})}),Ve=()=>{var s,u;return!I&&n.jsxs(un,{showaudioseekbar:e.showAudioSeekBar?"true":"false",children:[S==ae.SPLIT_PANEL&&n.jsxs(n.Fragment,{children:[n.jsx(fr,{verses:a,topVerseNumber:K,prevPage:e.prevPage,height:A}),n.jsx(Xr,{style:{backgroundColor:r},onMouseDown:rt,onTouchStart:Me})]}),(S==ae.ONLY_TRNSLATION||S==ae.SPLIT_PANEL)&&n.jsx(ln,{subBookInfo:f,chapterNumber:B,verses:a,topVerseNumber:K,showTitle:oe,prevPage:e.prevPage,height:G,originPanelHeight:A,bookmarks:e.bookmark,isLoggedIn:!!e.currentUser,isIntro:I,readingLanguage:e.readingLanguage,isSpecialBook:((s=C==null?void 0:C.bookTitle)==null?void 0:s.en)=="Qur'an"||((u=C==null?void 0:C.bookTitle)==null?void 0:u.en)=="Zabur",handleBookmark:be}),S==ae.VERSE_BY_VERSE&&n.jsx(zr,{children:a.map((w,L)=>{var m;return n.jsxs(Yr,{ref:X.current[L],children:[n.jsx(pt,{verse:w,refer:F.current[L],index:L}),n.jsx(Ct,{refer:F.current[L],verse:w,index:L,readingLanguage:e.readingLanguage,isLoggedIn:!!e.currentUser,handleBookmark:be,isExistingInBookmark:((m=e.bookmark.filter(V=>V.verseId==w.verseId))==null?void 0:m.length)>0})]},L)})})]})},We=()=>{var s;return n.jsx(Ur,{src:c,bookTitle:(C==null?void 0:C.bookTitle.en)||"",bookImage:(C==null?void 0:C.bookImage)||"",subBookTitle:((s=f==null?void 0:f.subBookTitle)==null?void 0:s[e.readingLanguage])||"",subBookNumber:(f==null?void 0:f.subBookNumber)||0,chapterNumber:B,showAudioSeekBar:e.showAudioSeekBar,verses:a,isIntro:I,terms:x||{pageId:"",pageNumber:0,pageTitle:"",isCompleted:{},isPublished:{},texts:[]},setAudioSeekBarStatus:pe,moveToSettingsPage:ye,moveToSoundSettingPage:De,moveToIndexPage:Ce,moveToSubBookExplorer:He,handleNavigateBtn:it})};return n.jsxs(qr,{style:{backgroundColor:t},children:[Fe(),Ve(),We(),N&&n.jsx(Nn,{})]})}const Gr=e=>({bookmark:e.books.bookmark,bookInfos:e.books.bookInfos,currentBook:e.pageStatus.currentBook,appLanguage:e.user.appLanguage,readingLanguage:e.user.readingLanguage,prevPage:e.pageStatus.prevPage,subBooks:e.books.subBooks,subBookInfos:e.books.subBookInfos,chapterInfos:e.books.chapterInfos,currentSubBook:e.pageStatus.currentSubBook,currentChapter:e.pageStatus.currentChapter,currentVerse:e.pageStatus.currentVerse,userHistory:e.books.userHistory,currentUser:e.user.currentUser,showAudioSeekBar:e.pageStatus.showAudioSeekBar,terms:e.terms.terms}),li=Ln(Gr)(Kr);export{li as default};
